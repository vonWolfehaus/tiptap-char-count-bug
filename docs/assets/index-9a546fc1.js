var px=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var VL=px((Jt,Xt)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function dd(t,e){const r=new Set(t.split(","));return e?n=>r.has(n.toLowerCase()):n=>r.has(n)}const He={},Mo=[],Gt=()=>{},hx=()=>!1,Il=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ud=t=>t.startsWith("onUpdate:"),Je=Object.assign,fd=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},mx=Object.prototype.hasOwnProperty,Me=(t,e)=>mx.call(t,e),ue=Array.isArray,Ao=t=>$l(t)==="[object Map]",$h=t=>$l(t)==="[object Set]",ge=t=>typeof t=="function",Xe=t=>typeof t=="string",Sn=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",Nh=t=>(Ne(t)||ge(t))&&ge(t.then)&&ge(t.catch),zh=Object.prototype.toString,$l=t=>zh.call(t),gx=t=>$l(t).slice(8,-1),Bh=t=>$l(t)==="[object Object]",pd=t=>Xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bi=dd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nl=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},bx=/-(\w)/g,Pr=Nl(t=>t.replace(bx,(e,r)=>r?r.toUpperCase():"")),xx=/\B([A-Z])/g,Xo=Nl(t=>t.replace(xx,"-$1").toLowerCase()),zl=Nl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ca=Nl(t=>t?`on${zl(t)}`:""),vn=(t,e)=>!Object.is(t,e),Sa=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Hh=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},yx=t=>{const e=parseFloat(t);return isNaN(e)?t:e},vx=t=>{const e=Xe(t)?Number(t):NaN;return isNaN(e)?t:e};let bu;const Lh=()=>bu||(bu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hd(t){if(ue(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],o=Xe(n)?Tx(n):hd(n);if(o)for(const i in o)e[i]=o[i]}return e}else if(Xe(t)||Ne(t))return t}const Cx=/;(?![^(]*\))/g,Sx=/:([^]+)/,wx=/\/\*[^]*?\*\//g;function Tx(t){const e={};return t.replace(wx,"").split(Cx).forEach(r=>{if(r){const n=r.split(Sx);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Et(t){let e="";if(Xe(t))e=t;else if(ue(t))for(let r=0;r<t.length;r++){const n=Et(t[r]);n&&(e+=n+" ")}else if(Ne(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const kx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mx=dd(kx);function _h(t){return!!t||t===""}const Fh=t=>!!(t&&t.__v_isRef===!0),Wh=t=>Xe(t)?t:t==null?"":ue(t)||Ne(t)&&(t.toString===zh||!ge(t.toString))?Fh(t)?Wh(t.value):JSON.stringify(t,jh,2):String(t),jh=(t,e)=>Fh(e)?jh(t,e.value):Ao(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,o],i)=>(r[wa(n,i)+" =>"]=o,r),{})}:$h(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>wa(r))}:Sn(e)?wa(e):Ne(e)&&!ue(e)&&!Bh(e)?String(e):e,wa=(t,e="")=>{var r;return Sn(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cr;class Ax{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=cr,!e&&cr&&(this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=cr;try{return cr=this,e()}finally{cr=r}}}on(){cr=this}off(){cr=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Ox(t,e=cr){e&&e.active&&e.effects.push(t)}function Ex(){return cr}let qn;class md{constructor(e,r,n,o){this.fn=e,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ox(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,wn();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(Px(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Tn()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=hn,r=qn;try{return hn=!0,qn=this,this._runnings++,xu(this),this.fn()}finally{yu(this),this._runnings--,qn=r,hn=e}}stop(){this.active&&(xu(this),yu(this),this.onStop&&this.onStop(),this.active=!1)}}function Px(t){return t.value}function xu(t){t._trackId++,t._depsLength=0}function yu(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Vh(t.deps[e],t);t.deps.length=t._depsLength}}function Vh(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let hn=!0,pc=0;const qh=[];function wn(){qh.push(hn),hn=!1}function Tn(){const t=qh.pop();hn=t===void 0?!0:t}function gd(){pc++}function bd(){for(pc--;!pc&&hc.length;)hc.shift()()}function Kh(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&Vh(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const hc=[];function Uh(t,e,r){gd();for(const n of t.keys()){let o;n._dirtyLevel<e&&(o??(o=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(o??(o=t.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&hc.push(n.scheduler)))}bd()}const Gh=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},rl=new WeakMap,Kn=Symbol(""),mc=Symbol("");function Vt(t,e,r){if(hn&&qn){let n=rl.get(t);n||rl.set(t,n=new Map);let o=n.get(r);o||n.set(r,o=Gh(()=>n.delete(r))),Kh(qn,o)}}function Wr(t,e,r,n,o,i){const s=rl.get(t);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(r==="length"&&ue(t)){const a=Number(n);s.forEach((c,d)=>{(d==="length"||!Sn(d)&&d>=a)&&l.push(c)})}else switch(r!==void 0&&l.push(s.get(r)),e){case"add":ue(t)?pd(r)&&l.push(s.get("length")):(l.push(s.get(Kn)),Ao(t)&&l.push(s.get(mc)));break;case"delete":ue(t)||(l.push(s.get(Kn)),Ao(t)&&l.push(s.get(mc)));break;case"set":Ao(t)&&l.push(s.get(Kn));break}gd();for(const a of l)a&&Uh(a,4);bd()}function Dx(t,e){const r=rl.get(t);return r&&r.get(e)}const Rx=dd("__proto__,__v_isRef,__isVue"),Jh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Sn)),vu=Ix();function Ix(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Ae(this);for(let i=0,s=this.length;i<s;i++)Vt(n,"get",i+"");const o=n[e](...r);return o===-1||o===!1?n[e](...r.map(Ae)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){wn(),gd();const n=Ae(this)[e].apply(this,r);return bd(),Tn(),n}}),t}function $x(t){Sn(t)||(t=String(t));const e=Ae(this);return Vt(e,"has",t),e.hasOwnProperty(t)}class Xh{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const o=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!o;if(r==="__v_isReadonly")return o;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(o?i?Ux:em:i?Zh:Qh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=ue(e);if(!o){if(s&&Me(vu,r))return Reflect.get(vu,r,n);if(r==="hasOwnProperty")return $x}const l=Reflect.get(e,r,n);return(Sn(r)?Jh.has(r):Rx(r))||(o||Vt(e,"get",r),i)?l:wt(l)?s&&pd(r)?l:l.value:Ne(l)?o?vd(l):Hl(l):l}}class Yh extends Xh{constructor(e=!1){super(!1,e)}set(e,r,n,o){let i=e[r];if(!this._isShallow){const a=Bi(i);if(!nl(n)&&!Bi(n)&&(i=Ae(i),n=Ae(n)),!ue(e)&&wt(i)&&!wt(n))return a?!1:(i.value=n,!0)}const s=ue(e)&&pd(r)?Number(r)<e.length:Me(e,r),l=Reflect.set(e,r,n,o);return e===Ae(o)&&(s?vn(n,i)&&Wr(e,"set",r,n):Wr(e,"add",r,n)),l}deleteProperty(e,r){const n=Me(e,r);e[r];const o=Reflect.deleteProperty(e,r);return o&&n&&Wr(e,"delete",r,void 0),o}has(e,r){const n=Reflect.has(e,r);return(!Sn(r)||!Jh.has(r))&&Vt(e,"has",r),n}ownKeys(e){return Vt(e,"iterate",ue(e)?"length":Kn),Reflect.ownKeys(e)}}class Nx extends Xh{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const zx=new Yh,Bx=new Nx,Hx=new Yh(!0),xd=t=>t,Bl=t=>Reflect.getPrototypeOf(t);function Cs(t,e,r=!1,n=!1){t=t.__v_raw;const o=Ae(t),i=Ae(e);r||(vn(e,i)&&Vt(o,"get",e),Vt(o,"get",i));const{has:s}=Bl(o),l=n?xd:r?Sd:Hi;if(s.call(o,e))return l(t.get(e));if(s.call(o,i))return l(t.get(i));t!==o&&t.get(e)}function Ss(t,e=!1){const r=this.__v_raw,n=Ae(r),o=Ae(t);return e||(vn(t,o)&&Vt(n,"has",t),Vt(n,"has",o)),t===o?r.has(t):r.has(t)||r.has(o)}function ws(t,e=!1){return t=t.__v_raw,!e&&Vt(Ae(t),"iterate",Kn),Reflect.get(t,"size",t)}function Cu(t){t=Ae(t);const e=Ae(this);return Bl(e).has.call(e,t)||(e.add(t),Wr(e,"add",t,t)),this}function Su(t,e){e=Ae(e);const r=Ae(this),{has:n,get:o}=Bl(r);let i=n.call(r,t);i||(t=Ae(t),i=n.call(r,t));const s=o.call(r,t);return r.set(t,e),i?vn(e,s)&&Wr(r,"set",t,e):Wr(r,"add",t,e),this}function wu(t){const e=Ae(this),{has:r,get:n}=Bl(e);let o=r.call(e,t);o||(t=Ae(t),o=r.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return o&&Wr(e,"delete",t,void 0),i}function Tu(){const t=Ae(this),e=t.size!==0,r=t.clear();return e&&Wr(t,"clear",void 0,void 0),r}function Ts(t,e){return function(n,o){const i=this,s=i.__v_raw,l=Ae(s),a=e?xd:t?Sd:Hi;return!t&&Vt(l,"iterate",Kn),s.forEach((c,d)=>n.call(o,a(c),a(d),i))}}function ks(t,e,r){return function(...n){const o=this.__v_raw,i=Ae(o),s=Ao(i),l=t==="entries"||t===Symbol.iterator&&s,a=t==="keys"&&s,c=o[t](...n),d=r?xd:e?Sd:Hi;return!e&&Vt(i,"iterate",a?mc:Kn),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:l?[d(u[0]),d(u[1])]:d(u),done:f}},[Symbol.iterator](){return this}}}}function Yr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Lx(){const t={get(i){return Cs(this,i)},get size(){return ws(this)},has:Ss,add:Cu,set:Su,delete:wu,clear:Tu,forEach:Ts(!1,!1)},e={get(i){return Cs(this,i,!1,!0)},get size(){return ws(this)},has:Ss,add:Cu,set:Su,delete:wu,clear:Tu,forEach:Ts(!1,!0)},r={get(i){return Cs(this,i,!0)},get size(){return ws(this,!0)},has(i){return Ss.call(this,i,!0)},add:Yr("add"),set:Yr("set"),delete:Yr("delete"),clear:Yr("clear"),forEach:Ts(!0,!1)},n={get(i){return Cs(this,i,!0,!0)},get size(){return ws(this,!0)},has(i){return Ss.call(this,i,!0)},add:Yr("add"),set:Yr("set"),delete:Yr("delete"),clear:Yr("clear"),forEach:Ts(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ks(i,!1,!1),r[i]=ks(i,!0,!1),e[i]=ks(i,!1,!0),n[i]=ks(i,!0,!0)}),[t,r,e,n]}const[_x,Fx,Wx,jx]=Lx();function yd(t,e){const r=e?t?jx:Wx:t?Fx:_x;return(n,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(Me(r,o)&&o in n?r:n,o,i)}const Vx={get:yd(!1,!1)},qx={get:yd(!1,!0)},Kx={get:yd(!0,!1)},Qh=new WeakMap,Zh=new WeakMap,em=new WeakMap,Ux=new WeakMap;function Gx(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jx(t){return t.__v_skip||!Object.isExtensible(t)?0:Gx(gx(t))}function Hl(t){return Bi(t)?t:Cd(t,!1,zx,Vx,Qh)}function Xx(t){return Cd(t,!1,Hx,qx,Zh)}function vd(t){return Cd(t,!0,Bx,Kx,em)}function Cd(t,e,r,n,o){if(!Ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=o.get(t);if(i)return i;const s=Jx(t);if(s===0)return t;const l=new Proxy(t,s===2?n:r);return o.set(t,l),l}function xi(t){return Bi(t)?xi(t.__v_raw):!!(t&&t.__v_isReactive)}function Bi(t){return!!(t&&t.__v_isReadonly)}function nl(t){return!!(t&&t.__v_isShallow)}function tm(t){return t?!!t.__v_raw:!1}function Ae(t){const e=t&&t.__v_raw;return e?Ae(e):t}function ol(t){return Object.isExtensible(t)&&Hh(t,"__v_skip",!0),t}const Hi=t=>Ne(t)?Hl(t):t,Sd=t=>Ne(t)?vd(t):t;class rm{constructor(e,r,n,o){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new md(()=>e(this._value),()=>yi(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=Ae(this);return(!e._cacheable||e.effect.dirty)&&vn(e._value,e._value=e.effect.run())&&yi(e,4),wd(e),e.effect._dirtyLevel>=2&&yi(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Yx(t,e,r=!1){let n,o;const i=ge(t);return i?(n=t,o=Gt):(n=t.get,o=t.set),new rm(n,o,i||!o,r)}function wd(t){var e;hn&&qn&&(t=Ae(t),Kh(qn,(e=t.dep)!=null?e:t.dep=Gh(()=>t.dep=void 0,t instanceof rm?t:void 0)))}function yi(t,e=4,r,n){t=Ae(t);const o=t.dep;o&&Uh(o,e)}function wt(t){return!!(t&&t.__v_isRef===!0)}function Ie(t){return nm(t,!1)}function Qx(t){return nm(t,!0)}function nm(t,e){return wt(t)?t:new Zx(t,e)}class Zx{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Ae(e),this._value=r?e:Hi(e)}get value(){return wd(this),this._value}set value(e){const r=this.__v_isShallow||nl(e)||Bi(e);e=r?e:Ae(e),vn(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=r?e:Hi(e),yi(this,4))}}function we(t){return wt(t)?t.value:t}const ey={get:(t,e,r)=>we(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const o=t[e];return wt(o)&&!wt(r)?(o.value=r,!0):Reflect.set(t,e,r,n)}};function om(t){return xi(t)?t:new Proxy(t,ey)}class ty{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=e(()=>wd(this),()=>yi(this));this._get=r,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function ry(t){return new ty(t)}class ny{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Dx(Ae(this._object),this._key)}}class oy{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Lt(t,e,r){return wt(t)?t:ge(t)?new oy(t):Ne(t)&&arguments.length>1?iy(t,e,r):Ie(t)}function iy(t,e,r){const n=t[e];return wt(n)?n:new ny(t,e,r)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mn(t,e,r,n){try{return n?t(...n):t()}catch(o){Ll(o,e,r)}}function nr(t,e,r,n){if(ge(t)){const o=mn(t,e,r,n);return o&&Nh(o)&&o.catch(i=>{Ll(i,e,r)}),o}if(ue(t)){const o=[];for(let i=0;i<t.length;i++)o.push(nr(t[i],e,r,n));return o}}function Ll(t,e,r,n=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;i;){const c=i.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,s,l)===!1)return}i=i.parent}const a=e.appContext.config.errorHandler;if(a){wn(),mn(a,null,10,[t,s,l]),Tn();return}}sy(t,r,o,n)}function sy(t,e,r,n=!0){console.error(t)}let Li=!1,gc=!1;const Ct=[];let kr=0;const Oo=[];let rn=null,zn=0;const im=Promise.resolve();let Td=null;function Eo(t){const e=Td||im;return t?e.then(this?t.bind(this):t):e}function ly(t){let e=kr+1,r=Ct.length;for(;e<r;){const n=e+r>>>1,o=Ct[n],i=_i(o);i<t||i===t&&o.pre?e=n+1:r=n}return e}function kd(t){(!Ct.length||!Ct.includes(t,Li&&t.allowRecurse?kr+1:kr))&&(t.id==null?Ct.push(t):Ct.splice(ly(t.id),0,t),sm())}function sm(){!Li&&!gc&&(gc=!0,Td=im.then(am))}function ay(t){const e=Ct.indexOf(t);e>kr&&Ct.splice(e,1)}function cy(t){ue(t)?Oo.push(...t):(!rn||!rn.includes(t,t.allowRecurse?zn+1:zn))&&Oo.push(t),sm()}function ku(t,e,r=Li?kr+1:0){for(;r<Ct.length;r++){const n=Ct[r];if(n&&n.pre){if(t&&n.id!==t.uid)continue;Ct.splice(r,1),r--,n()}}}function lm(t){if(Oo.length){const e=[...new Set(Oo)].sort((r,n)=>_i(r)-_i(n));if(Oo.length=0,rn){rn.push(...e);return}for(rn=e,zn=0;zn<rn.length;zn++){const r=rn[zn];r.active!==!1&&r()}rn=null,zn=0}}const _i=t=>t.id==null?1/0:t.id,dy=(t,e)=>{const r=_i(t)-_i(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function am(t){gc=!1,Li=!0,Ct.sort(dy);const e=Gt;try{for(kr=0;kr<Ct.length;kr++){const r=Ct[kr];r&&r.active!==!1&&mn(r,null,14)}}finally{kr=0,Ct.length=0,lm(),Li=!1,Td=null,(Ct.length||Oo.length)&&am()}}function uy(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||He;let o=r;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in n){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:u,trim:f}=n[d]||He;f&&(o=r.map(h=>Xe(h)?h.trim():h)),u&&(o=r.map(yx))}let l,a=n[l=Ca(e)]||n[l=Ca(Pr(e))];!a&&i&&(a=n[l=Ca(Xo(e))]),a&&nr(a,t,6,o);const c=n[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,nr(c,t,6,o)}}function cm(t,e,r=!1){const n=e.emitsCache,o=n.get(t);if(o!==void 0)return o;const i=t.emits;let s={},l=!1;if(!ge(t)){const a=c=>{const d=cm(c,e,!0);d&&(l=!0,Je(s,d))};!r&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!i&&!l?(Ne(t)&&n.set(t,null),null):(ue(i)?i.forEach(a=>s[a]=null):Je(s,i),Ne(t)&&n.set(t,s),s)}function _l(t,e){return!t||!Il(e)?!1:(e=e.slice(2).replace(/Once$/,""),Me(t,e[0].toLowerCase()+e.slice(1))||Me(t,Xo(e))||Me(t,e))}let nt=null,dm=null;function il(t){const e=nt;return nt=t,dm=t&&t.type.__scopeId||null,e}function sl(t,e=nt,r){if(!e||t._n)return t;const n=(...o)=>{n._d&&_u(-1);const i=il(e);let s;try{s=t(...o)}finally{il(i),n._d&&_u(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Ta(t){const{type:e,vnode:r,proxy:n,withProxy:o,propsOptions:[i],slots:s,attrs:l,emit:a,render:c,renderCache:d,props:u,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,g=il(t);let x,w;try{if(r.shapeFlag&4){const b=o||n,A=b;x=wr(c.call(A,b,d,u,h,f,p)),w=l}else{const b=e;x=wr(b.length>1?b(u,{attrs:l,slots:s,emit:a}):b(u,null)),w=e.props?l:fy(l)}}catch(b){Ti.length=0,Ll(b,t,1),x=pt(St)}let O=x;if(w&&m!==!1){const b=Object.keys(w),{shapeFlag:A}=O;b.length&&A&7&&(i&&b.some(ud)&&(w=py(w,i)),O=Vr(O,w,!1,!0))}return r.dirs&&(O=Vr(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(r.dirs):r.dirs),r.transition&&(O.transition=r.transition),x=O,il(g),x}const fy=t=>{let e;for(const r in t)(r==="class"||r==="style"||Il(r))&&((e||(e={}))[r]=t[r]);return e},py=(t,e)=>{const r={};for(const n in t)(!ud(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function hy(t,e,r){const{props:n,children:o,component:i}=t,{props:s,children:l,patchFlag:a}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&a>=0){if(a&1024)return!0;if(a&16)return n?Mu(n,s,c):!!s;if(a&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const f=d[u];if(s[f]!==n[f]&&!_l(c,f))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===s?!1:n?s?Mu(n,s,c):!0:!!s;return!1}function Mu(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(e[i]!==t[i]&&!_l(r,i))return!0}return!1}function my({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const um="components";function gy(t,e){return xy(um,t,!0,e)||t}const by=Symbol.for("v-ndc");function xy(t,e,r=!0,n=!1){const o=nt||ft;if(o){const i=o.type;if(t===um){const l=mv(i,!1);if(l&&(l===e||l===Pr(e)||l===zl(Pr(e))))return i}const s=Au(o[t]||i[t],e)||Au(o.appContext[t],e);return!s&&n?i:s}}function Au(t,e){return t&&(t[e]||t[Pr(e)]||t[zl(Pr(e))])}const yy=t=>t.__isSuspense;function vy(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):cy(t)}function Fl(t,e,r=ft,n=!1){if(r){const o=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...s)=>{wn();const l=as(r),a=nr(e,r,t,s);return l(),Tn(),a});return n?o.unshift(i):o.push(i),i}}const Ur=t=>(e,r=ft)=>{(!Gl||t==="sp")&&Fl(t,(...n)=>e(...n),r)},Wl=Ur("bm"),uo=Ur("m"),Cy=Ur("bu"),fm=Ur("u"),kn=Ur("bum"),pm=Ur("um"),Sy=Ur("sp"),wy=Ur("rtg"),Ty=Ur("rtc");function ky(t,e=ft){Fl("ec",t,e)}function My(t,e){if(nt===null)return t;const r=Jl(nt),n=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[i,s,l,a=He]=e[o];i&&(ge(i)&&(i={mounted:i,updated:i}),i.deep&&an(s),n.push({dir:i,instance:r,value:s,oldValue:void 0,arg:l,modifiers:a}))}return t}function Dn(t,e,r,n){const o=t.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const l=o[s];i&&(l.oldValue=i[s].value);let a=l.dir[n];a&&(wn(),nr(a,r,8,[t.el,l,t,e]),Tn())}}function Ay(t,e,r,n){let o;const i=r&&r[n];if(ue(t)||Xe(t)){o=new Array(t.length);for(let s=0,l=t.length;s<l;s++)o[s]=e(t[s],s,void 0,i&&i[s])}else if(typeof t=="number"){o=new Array(t);for(let s=0;s<t;s++)o[s]=e(s+1,s,void 0,i&&i[s])}else if(Ne(t))if(t[Symbol.iterator])o=Array.from(t,(s,l)=>e(s,l,void 0,i&&i[l]));else{const s=Object.keys(t);o=new Array(s.length);for(let l=0,a=s.length;l<a;l++){const c=s[l];o[l]=e(t[c],c,l,i&&i[l])}}else o=[];return r&&(r[n]=o),o}/*! #__NO_SIDE_EFFECTS__ */function mt(t,e){return ge(t)?(()=>Je({name:t.name},e,{setup:t}))():t}const vi=t=>!!t.type.__asyncLoader;function Oy(t,e,r={},n,o){if(nt.isCE||nt.parent&&vi(nt.parent)&&nt.parent.isCE)return e!=="default"&&(r.name=e),pt("slot",r,n&&n());let i=t[e];i&&i._c&&(i._d=!1),Un();const s=i&&hm(i(r)),l=ji(ct,{key:r.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&t._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function hm(t){return t.some(e=>Vi(e)?!(e.type===St||e.type===ct&&!hm(e.children)):!0)?t:null}const bc=t=>t?Bm(t)?Jl(t):bc(t.parent):null,Ci=Je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>bc(t.parent),$root:t=>bc(t.root),$emit:t=>t.emit,$options:t=>Md(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,kd(t.update)}),$nextTick:t=>t.n||(t.n=Eo.bind(t.proxy)),$watch:t=>Gy.bind(t)}),ka=(t,e)=>t!==He&&!t.__isScriptSetup&&Me(t,e),Ey={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:o,props:i,accessCache:s,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return o[e];case 4:return r[e];case 3:return i[e]}else{if(ka(n,e))return s[e]=1,n[e];if(o!==He&&Me(o,e))return s[e]=2,o[e];if((c=t.propsOptions[0])&&Me(c,e))return s[e]=3,i[e];if(r!==He&&Me(r,e))return s[e]=4,r[e];xc&&(s[e]=0)}}const d=Ci[e];let u,f;if(d)return e==="$attrs"&&Vt(t.attrs,"get",""),d(t);if((u=l.__cssModules)&&(u=u[e]))return u;if(r!==He&&Me(r,e))return s[e]=4,r[e];if(f=a.config.globalProperties,Me(f,e))return f[e]},set({_:t},e,r){const{data:n,setupState:o,ctx:i}=t;return ka(o,e)?(o[e]=r,!0):n!==He&&Me(n,e)?(n[e]=r,!0):Me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:o,propsOptions:i}},s){let l;return!!r[s]||t!==He&&Me(t,s)||ka(e,s)||(l=i[0])&&Me(l,s)||Me(n,s)||Me(Ci,s)||Me(o.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Me(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Ou(t){return ue(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let xc=!0;function Py(t){const e=Md(t),r=t.proxy,n=t.ctx;xc=!1,e.beforeCreate&&Eu(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:s,watch:l,provide:a,inject:c,created:d,beforeMount:u,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:g,beforeDestroy:x,beforeUnmount:w,destroyed:O,unmounted:b,render:A,renderTracked:v,renderTriggered:k,errorCaptured:B,serverPrefetch:P,expose:F,inheritAttrs:V,components:I,directives:Y,filters:pe}=e;if(c&&Dy(c,n,null),s)for(const J in s){const se=s[J];ge(se)&&(n[J]=se.bind(r))}if(o){const J=o.call(r,r);Ne(J)&&(t.data=Hl(J))}if(xc=!0,i)for(const J in i){const se=i[J],ze=ge(se)?se.bind(r,r):ge(se.get)?se.get.bind(r,r):Gt,De=!ge(se)&&ge(se.set)?se.set.bind(r):Gt,Ze=Ee({get:ze,set:De});Object.defineProperty(n,J,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:Re=>Ze.value=Re})}if(l)for(const J in l)mm(l[J],n,r,J);if(a){const J=ge(a)?a.call(r):a;Reflect.ownKeys(J).forEach(se=>{jl(se,J[se])})}d&&Eu(d,t,"c");function ce(J,se){ue(se)?se.forEach(ze=>J(ze.bind(r))):se&&J(se.bind(r))}if(ce(Wl,u),ce(uo,f),ce(Cy,h),ce(fm,p),ce(Jy,m),ce(Xy,g),ce(ky,B),ce(Ty,v),ce(wy,k),ce(kn,w),ce(pm,b),ce(Sy,P),ue(F))if(F.length){const J=t.exposed||(t.exposed={});F.forEach(se=>{Object.defineProperty(J,se,{get:()=>r[se],set:ze=>r[se]=ze})})}else t.exposed||(t.exposed={});A&&t.render===Gt&&(t.render=A),V!=null&&(t.inheritAttrs=V),I&&(t.components=I),Y&&(t.directives=Y)}function Dy(t,e,r=Gt){ue(t)&&(t=yc(t));for(const n in t){const o=t[n];let i;Ne(o)?"default"in o?i=Dt(o.from||n,o.default,!0):i=Dt(o.from||n):i=Dt(o),wt(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[n]=i}}function Eu(t,e,r){nr(ue(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function mm(t,e,r,n){const o=n.includes(".")?Mm(r,n):()=>r[n];if(Xe(t)){const i=e[t];ge(i)&&gn(o,i)}else if(ge(t))gn(o,t.bind(r));else if(Ne(t))if(ue(t))t.forEach(i=>mm(i,e,r,n));else{const i=ge(t.handler)?t.handler.bind(r):e[t.handler];ge(i)&&gn(o,i,t)}}function Md(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,l=i.get(e);let a;return l?a=l:!o.length&&!r&&!n?a=e:(a={},o.length&&o.forEach(c=>ll(a,c,s,!0)),ll(a,e,s)),Ne(e)&&i.set(e,a),a}function ll(t,e,r,n=!1){const{mixins:o,extends:i}=e;i&&ll(t,i,r,!0),o&&o.forEach(s=>ll(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const l=Ry[s]||r&&r[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const Ry={data:Pu,props:Du,emits:Du,methods:fi,computed:fi,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:fi,directives:fi,watch:$y,provide:Pu,inject:Iy};function Pu(t,e){return e?t?function(){return Je(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function Iy(t,e){return fi(yc(t),yc(e))}function yc(t){if(ue(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ot(t,e){return t?[...new Set([].concat(t,e))]:e}function fi(t,e){return t?Je(Object.create(null),t,e):e}function Du(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:Je(Object.create(null),Ou(t),Ou(e??{})):e}function $y(t,e){if(!t)return e;if(!e)return t;const r=Je(Object.create(null),t);for(const n in e)r[n]=Ot(t[n],e[n]);return r}function gm(){return{app:null,config:{isNativeTag:hx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ny=0;function zy(t,e){return function(n,o=null){ge(n)||(n=Je({},n)),o!=null&&!Ne(o)&&(o=null);const i=gm(),s=new WeakSet;let l=!1;const a=i.app={_uid:Ny++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:bv,get config(){return i.config},set config(c){},use(c,...d){return s.has(c)||(c&&ge(c.install)?(s.add(c),c.install(a,...d)):ge(c)&&(s.add(c),c(a,...d))),a},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),a},component(c,d){return d?(i.components[c]=d,a):i.components[c]},directive(c,d){return d?(i.directives[c]=d,a):i.directives[c]},mount(c,d,u){if(!l){const f=pt(n,o);return f.appContext=i,u===!0?u="svg":u===!1&&(u=void 0),d&&e?e(f,c):t(f,c,u),l=!0,a._container=c,c.__vue_app__=a,Jl(f.component)}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,d){return i.provides[c]=d,a},runWithContext(c){const d=Si;Si=a;try{return c()}finally{Si=d}}};return a}}let Si=null;function jl(t,e){if(ft){let r=ft.provides;const n=ft.parent&&ft.parent.provides;n===r&&(r=ft.provides=Object.create(n)),r[t]=e}}function Dt(t,e,r=!1){const n=ft||nt;if(n||Si){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Si._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return r&&ge(e)?e.call(n&&n.proxy):e}}const bm={},xm=()=>Object.create(bm),ym=t=>Object.getPrototypeOf(t)===bm;function By(t,e,r,n=!1){const o={},i=xm();t.propsDefaults=Object.create(null),vm(t,e,o,i);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);r?t.props=n?o:Xx(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function Hy(t,e,r,n){const{props:o,attrs:i,vnode:{patchFlag:s}}=t,l=Ae(o),[a]=t.propsOptions;let c=!1;if((n||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let u=0;u<d.length;u++){let f=d[u];if(_l(t.emitsOptions,f))continue;const h=e[f];if(a)if(Me(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const p=Pr(f);o[p]=vc(a,l,p,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{vm(t,e,o,i)&&(c=!0);let d;for(const u in l)(!e||!Me(e,u)&&((d=Xo(u))===u||!Me(e,d)))&&(a?r&&(r[u]!==void 0||r[d]!==void 0)&&(o[u]=vc(a,l,u,void 0,t,!0)):delete o[u]);if(i!==l)for(const u in i)(!e||!Me(e,u))&&(delete i[u],c=!0)}c&&Wr(t.attrs,"set","")}function vm(t,e,r,n){const[o,i]=t.propsOptions;let s=!1,l;if(e)for(let a in e){if(bi(a))continue;const c=e[a];let d;o&&Me(o,d=Pr(a))?!i||!i.includes(d)?r[d]=c:(l||(l={}))[d]=c:_l(t.emitsOptions,a)||(!(a in n)||c!==n[a])&&(n[a]=c,s=!0)}if(i){const a=Ae(r),c=l||He;for(let d=0;d<i.length;d++){const u=i[d];r[u]=vc(o,a,u,c[u],t,!Me(c,u))}}return s}function vc(t,e,r,n,o,i){const s=t[r];if(s!=null){const l=Me(s,"default");if(l&&n===void 0){const a=s.default;if(s.type!==Function&&!s.skipFactory&&ge(a)){const{propsDefaults:c}=o;if(r in c)n=c[r];else{const d=as(o);n=c[r]=a.call(null,e),d()}}else n=a}s[0]&&(i&&!l?n=!1:s[1]&&(n===""||n===Xo(r))&&(n=!0))}return n}function Cm(t,e,r=!1){const n=e.propsCache,o=n.get(t);if(o)return o;const i=t.props,s={},l=[];let a=!1;if(!ge(t)){const d=u=>{a=!0;const[f,h]=Cm(u,e,!0);Je(s,f),h&&l.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!a)return Ne(t)&&n.set(t,Mo),Mo;if(ue(i))for(let d=0;d<i.length;d++){const u=Pr(i[d]);Ru(u)&&(s[u]=He)}else if(i)for(const d in i){const u=Pr(d);if(Ru(u)){const f=i[d],h=s[u]=ue(f)||ge(f)?{type:f}:Je({},f);if(h){const p=Nu(Boolean,h.type),m=Nu(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||Me(h,"default"))&&l.push(u)}}}const c=[s,l];return Ne(t)&&n.set(t,c),c}function Ru(t){return t[0]!=="$"&&!bi(t)}function Iu(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function $u(t,e){return Iu(t)===Iu(e)}function Nu(t,e){return ue(e)?e.findIndex(r=>$u(r,t)):ge(e)&&$u(e,t)?0:-1}const Sm=t=>t[0]==="_"||t==="$stable",Ad=t=>ue(t)?t.map(wr):[wr(t)],Ly=(t,e,r)=>{if(e._n)return e;const n=sl((...o)=>Ad(e(...o)),r);return n._c=!1,n},wm=(t,e,r)=>{const n=t._ctx;for(const o in t){if(Sm(o))continue;const i=t[o];if(ge(i))e[o]=Ly(o,i,n);else if(i!=null){const s=Ad(i);e[o]=()=>s}}},Tm=(t,e)=>{const r=Ad(e);t.slots.default=()=>r},_y=(t,e)=>{const r=t.slots=xm();if(t.vnode.shapeFlag&32){const n=e._;n?(Je(r,e),Hh(r,"_",n,!0)):wm(e,r)}else e&&Tm(t,e)},Fy=(t,e,r)=>{const{vnode:n,slots:o}=t;let i=!0,s=He;if(n.shapeFlag&32){const l=e._;l?r&&l===1?i=!1:(Je(o,e),!r&&l===1&&delete o._):(i=!e.$stable,wm(e,o)),s=e}else e&&(Tm(t,e),s={default:1});if(i)for(const l in o)!Sm(l)&&s[l]==null&&delete o[l]};function Cc(t,e,r,n,o=!1){if(ue(t)){t.forEach((f,h)=>Cc(f,e&&(ue(e)?e[h]:e),r,n,o));return}if(vi(n)&&!o)return;const i=n.shapeFlag&4?Jl(n.component):n.el,s=o?null:i,{i:l,r:a}=t,c=e&&e.r,d=l.refs===He?l.refs={}:l.refs,u=l.setupState;if(c!=null&&c!==a&&(Xe(c)?(d[c]=null,Me(u,c)&&(u[c]=null)):wt(c)&&(c.value=null)),ge(a))mn(a,l,12,[s,d]);else{const f=Xe(a),h=wt(a);if(f||h){const p=()=>{if(t.f){const m=f?Me(u,a)?u[a]:d[a]:a.value;o?ue(m)&&fd(m,i):ue(m)?m.includes(i)||m.push(i):f?(d[a]=[i],Me(u,a)&&(u[a]=d[a])):(a.value=[i],t.k&&(d[t.k]=a.value))}else f?(d[a]=s,Me(u,a)&&(u[a]=s)):h&&(a.value=s,t.k&&(d[t.k]=s))};s?(p.id=-1,Ht(p,r)):p()}}}const Ht=vy;function Wy(t){return jy(t)}function jy(t,e){const r=Lh();r.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:s,createText:l,createComment:a,setText:c,setElementText:d,parentNode:u,nextSibling:f,setScopeId:h=Gt,insertStaticContent:p}=t,m=(y,S,E,$=null,N=null,H=null,L=void 0,C=null,T=!!S.dynamicChildren)=>{if(y===S)return;y&&!Bn(y,S)&&($=et(y),Re(y,N,H,!0),y=null),S.patchFlag===-2&&(T=!1,S.dynamicChildren=null);const{type:M,ref:R,shapeFlag:W}=S;switch(M){case Kl:g(y,S,E,$);break;case St:x(y,S,E,$);break;case Oa:y==null&&w(S,E,$,L);break;case ct:I(y,S,E,$,N,H,L,C,T);break;default:W&1?A(y,S,E,$,N,H,L,C,T):W&6?Y(y,S,E,$,N,H,L,C,T):(W&64||W&128)&&M.process(y,S,E,$,N,H,L,C,T,_e)}R!=null&&N&&Cc(R,y&&y.ref,H,S||y,!S)},g=(y,S,E,$)=>{if(y==null)n(S.el=l(S.children),E,$);else{const N=S.el=y.el;S.children!==y.children&&c(N,S.children)}},x=(y,S,E,$)=>{y==null?n(S.el=a(S.children||""),E,$):S.el=y.el},w=(y,S,E,$)=>{[y.el,y.anchor]=p(y.children,S,E,$,y.el,y.anchor)},O=({el:y,anchor:S},E,$)=>{let N;for(;y&&y!==S;)N=f(y),n(y,E,$),y=N;n(S,E,$)},b=({el:y,anchor:S})=>{let E;for(;y&&y!==S;)E=f(y),o(y),y=E;o(S)},A=(y,S,E,$,N,H,L,C,T)=>{S.type==="svg"?L="svg":S.type==="math"&&(L="mathml"),y==null?v(S,E,$,N,H,L,C,T):P(y,S,N,H,L,C,T)},v=(y,S,E,$,N,H,L,C)=>{let T,M;const{props:R,shapeFlag:W,transition:G,dirs:te}=y;if(T=y.el=s(y.type,H,R&&R.is,R),W&8?d(T,y.children):W&16&&B(y.children,T,null,$,N,Ma(y,H),L,C),te&&Dn(y,null,$,"created"),k(T,y,y.scopeId,L,$),R){for(const Oe in R)Oe!=="value"&&!bi(Oe)&&i(T,Oe,null,R[Oe],H,y.children,$,N,me);"value"in R&&i(T,"value",null,R.value,H),(M=R.onVnodeBeforeMount)&&vr(M,$,y)}te&&Dn(y,null,$,"beforeMount");const fe=Vy(N,G);fe&&G.beforeEnter(T),n(T,S,E),((M=R&&R.onVnodeMounted)||fe||te)&&Ht(()=>{M&&vr(M,$,y),fe&&G.enter(T),te&&Dn(y,null,$,"mounted")},N)},k=(y,S,E,$,N)=>{if(E&&h(y,E),$)for(let H=0;H<$.length;H++)h(y,$[H]);if(N){let H=N.subTree;if(S===H){const L=N.vnode;k(y,L,L.scopeId,L.slotScopeIds,N.parent)}}},B=(y,S,E,$,N,H,L,C,T=0)=>{for(let M=T;M<y.length;M++){const R=y[M]=C?on(y[M]):wr(y[M]);m(null,R,S,E,$,N,H,L,C)}},P=(y,S,E,$,N,H,L)=>{const C=S.el=y.el;let{patchFlag:T,dynamicChildren:M,dirs:R}=S;T|=y.patchFlag&16;const W=y.props||He,G=S.props||He;let te;if(E&&Rn(E,!1),(te=G.onVnodeBeforeUpdate)&&vr(te,E,S,y),R&&Dn(S,y,E,"beforeUpdate"),E&&Rn(E,!0),M?F(y.dynamicChildren,M,C,E,$,Ma(S,N),H):L||se(y,S,C,null,E,$,Ma(S,N),H,!1),T>0){if(T&16)V(C,S,W,G,E,$,N);else if(T&2&&W.class!==G.class&&i(C,"class",null,G.class,N),T&4&&i(C,"style",W.style,G.style,N),T&8){const fe=S.dynamicProps;for(let Oe=0;Oe<fe.length;Oe++){const Se=fe[Oe],We=W[Se],At=G[Se];(At!==We||Se==="value")&&i(C,Se,We,At,N,y.children,E,$,me)}}T&1&&y.children!==S.children&&d(C,S.children)}else!L&&M==null&&V(C,S,W,G,E,$,N);((te=G.onVnodeUpdated)||R)&&Ht(()=>{te&&vr(te,E,S,y),R&&Dn(S,y,E,"updated")},$)},F=(y,S,E,$,N,H,L)=>{for(let C=0;C<S.length;C++){const T=y[C],M=S[C],R=T.el&&(T.type===ct||!Bn(T,M)||T.shapeFlag&70)?u(T.el):E;m(T,M,R,null,$,N,H,L,!0)}},V=(y,S,E,$,N,H,L)=>{if(E!==$){if(E!==He)for(const C in E)!bi(C)&&!(C in $)&&i(y,C,E[C],null,L,S.children,N,H,me);for(const C in $){if(bi(C))continue;const T=$[C],M=E[C];T!==M&&C!=="value"&&i(y,C,M,T,L,S.children,N,H,me)}"value"in $&&i(y,"value",E.value,$.value,L)}},I=(y,S,E,$,N,H,L,C,T)=>{const M=S.el=y?y.el:l(""),R=S.anchor=y?y.anchor:l("");let{patchFlag:W,dynamicChildren:G,slotScopeIds:te}=S;te&&(C=C?C.concat(te):te),y==null?(n(M,E,$),n(R,E,$),B(S.children||[],E,R,N,H,L,C,T)):W>0&&W&64&&G&&y.dynamicChildren?(F(y.dynamicChildren,G,E,N,H,L,C),(S.key!=null||N&&S===N.subTree)&&Od(y,S,!0)):se(y,S,E,R,N,H,L,C,T)},Y=(y,S,E,$,N,H,L,C,T)=>{S.slotScopeIds=C,y==null?S.shapeFlag&512?N.ctx.activate(S,E,$,L,T):pe(S,E,$,N,H,L,T):Ce(y,S,T)},pe=(y,S,E,$,N,H,L)=>{const C=y.component=dv(y,$,N);if(ql(y)&&(C.ctx.renderer=_e),uv(C),C.asyncDep){if(N&&N.registerDep(C,ce,L),!y.el){const T=C.subTree=pt(St);x(null,T,S,E)}}else ce(C,y,S,E,N,H,L)},Ce=(y,S,E)=>{const $=S.component=y.component;if(hy(y,S,E))if($.asyncDep&&!$.asyncResolved){J($,S,E);return}else $.next=S,ay($.update),$.effect.dirty=!0,$.update();else S.el=y.el,$.vnode=S},ce=(y,S,E,$,N,H,L)=>{const C=()=>{if(y.isMounted){let{next:R,bu:W,u:G,parent:te,vnode:fe}=y;{const yr=km(y);if(yr){R&&(R.el=fe.el,J(y,R,L)),yr.asyncDep.then(()=>{y.isUnmounted||C()});return}}let Oe=R,Se;Rn(y,!1),R?(R.el=fe.el,J(y,R,L)):R=fe,W&&Sa(W),(Se=R.props&&R.props.onVnodeBeforeUpdate)&&vr(Se,te,R,fe),Rn(y,!0);const We=Ta(y),At=y.subTree;y.subTree=We,m(At,We,u(At.el),et(At),y,N,H),R.el=We.el,Oe===null&&my(y,We.el),G&&Ht(G,N),(Se=R.props&&R.props.onVnodeUpdated)&&Ht(()=>vr(Se,te,R,fe),N)}else{let R;const{el:W,props:G}=S,{bm:te,m:fe,parent:Oe}=y,Se=vi(S);if(Rn(y,!1),te&&Sa(te),!Se&&(R=G&&G.onVnodeBeforeMount)&&vr(R,Oe,S),Rn(y,!0),W&&Zt){const We=()=>{y.subTree=Ta(y),Zt(W,y.subTree,y,N,null)};Se?S.type.__asyncLoader().then(()=>!y.isUnmounted&&We()):We()}else{const We=y.subTree=Ta(y);m(null,We,E,$,y,N,H),S.el=We.el}if(fe&&Ht(fe,N),!Se&&(R=G&&G.onVnodeMounted)){const We=S;Ht(()=>vr(R,Oe,We),N)}(S.shapeFlag&256||Oe&&vi(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&y.a&&Ht(y.a,N),y.isMounted=!0,S=E=$=null}},T=y.effect=new md(C,Gt,()=>kd(M),y.scope),M=y.update=()=>{T.dirty&&T.run()};M.id=y.uid,Rn(y,!0),M()},J=(y,S,E)=>{S.component=y;const $=y.vnode.props;y.vnode=S,y.next=null,Hy(y,S.props,$,E),Fy(y,S.children,E),wn(),ku(y),Tn()},se=(y,S,E,$,N,H,L,C,T=!1)=>{const M=y&&y.children,R=y?y.shapeFlag:0,W=S.children,{patchFlag:G,shapeFlag:te}=S;if(G>0){if(G&128){De(M,W,E,$,N,H,L,C,T);return}else if(G&256){ze(M,W,E,$,N,H,L,C,T);return}}te&8?(R&16&&me(M,N,H),W!==M&&d(E,W)):R&16?te&16?De(M,W,E,$,N,H,L,C,T):me(M,N,H,!0):(R&8&&d(E,""),te&16&&B(W,E,$,N,H,L,C,T))},ze=(y,S,E,$,N,H,L,C,T)=>{y=y||Mo,S=S||Mo;const M=y.length,R=S.length,W=Math.min(M,R);let G;for(G=0;G<W;G++){const te=S[G]=T?on(S[G]):wr(S[G]);m(y[G],te,E,null,N,H,L,C,T)}M>R?me(y,N,H,!0,!1,W):B(S,E,$,N,H,L,C,T,W)},De=(y,S,E,$,N,H,L,C,T)=>{let M=0;const R=S.length;let W=y.length-1,G=R-1;for(;M<=W&&M<=G;){const te=y[M],fe=S[M]=T?on(S[M]):wr(S[M]);if(Bn(te,fe))m(te,fe,E,null,N,H,L,C,T);else break;M++}for(;M<=W&&M<=G;){const te=y[W],fe=S[G]=T?on(S[G]):wr(S[G]);if(Bn(te,fe))m(te,fe,E,null,N,H,L,C,T);else break;W--,G--}if(M>W){if(M<=G){const te=G+1,fe=te<R?S[te].el:$;for(;M<=G;)m(null,S[M]=T?on(S[M]):wr(S[M]),E,fe,N,H,L,C,T),M++}}else if(M>G)for(;M<=W;)Re(y[M],N,H,!0),M++;else{const te=M,fe=M,Oe=new Map;for(M=fe;M<=G;M++){const ee=S[M]=T?on(S[M]):wr(S[M]);ee.key!=null&&Oe.set(ee.key,M)}let Se,We=0;const At=G-fe+1;let yr=!1,mo=0;const D=new Array(At);for(M=0;M<At;M++)D[M]=0;for(M=te;M<=W;M++){const ee=y[M];if(We>=At){Re(ee,N,H,!0);continue}let be;if(ee.key!=null)be=Oe.get(ee.key);else for(Se=fe;Se<=G;Se++)if(D[Se-fe]===0&&Bn(ee,S[Se])){be=Se;break}be===void 0?Re(ee,N,H,!0):(D[be-fe]=M+1,be>=mo?mo=be:yr=!0,m(ee,S[be],E,null,N,H,L,C,T),We++)}const Q=yr?qy(D):Mo;for(Se=Q.length-1,M=At-1;M>=0;M--){const ee=fe+M,be=S[ee],ve=ee+1<R?S[ee+1].el:$;D[M]===0?m(null,be,E,ve,N,H,L,C,T):yr&&(Se<0||M!==Q[Se]?Ze(be,E,ve,2):Se--)}}},Ze=(y,S,E,$,N=null)=>{const{el:H,type:L,transition:C,children:T,shapeFlag:M}=y;if(M&6){Ze(y.component.subTree,S,E,$);return}if(M&128){y.suspense.move(S,E,$);return}if(M&64){L.move(y,S,E,_e);return}if(L===ct){n(H,S,E);for(let W=0;W<T.length;W++)Ze(T[W],S,E,$);n(y.anchor,S,E);return}if(L===Oa){O(y,S,E);return}if($!==2&&M&1&&C)if($===0)C.beforeEnter(H),n(H,S,E),Ht(()=>C.enter(H),N);else{const{leave:W,delayLeave:G,afterLeave:te}=C,fe=()=>n(H,S,E),Oe=()=>{W(H,()=>{fe(),te&&te()})};G?G(H,fe,Oe):Oe()}else n(H,S,E)},Re=(y,S,E,$=!1,N=!1)=>{const{type:H,props:L,ref:C,children:T,dynamicChildren:M,shapeFlag:R,patchFlag:W,dirs:G,memoIndex:te}=y;if(W===-2&&(N=!1),C!=null&&Cc(C,null,E,y,!0),te!=null&&(S.renderCache[te]=void 0),R&256){S.ctx.deactivate(y);return}const fe=R&1&&G,Oe=!vi(y);let Se;if(Oe&&(Se=L&&L.onVnodeBeforeUnmount)&&vr(Se,S,y),R&6)Fe(y.component,E,$);else{if(R&128){y.suspense.unmount(E,$);return}fe&&Dn(y,null,S,"beforeUnmount"),R&64?y.type.remove(y,S,E,_e,$):M&&(H!==ct||W>0&&W&64)?me(M,S,E,!1,!0):(H===ct&&W&384||!N&&R&16)&&me(T,S,E),$&&Nt(y)}(Oe&&(Se=L&&L.onVnodeUnmounted)||fe)&&Ht(()=>{Se&&vr(Se,S,y),fe&&Dn(y,null,S,"unmounted")},E)},Nt=y=>{const{type:S,el:E,anchor:$,transition:N}=y;if(S===ct){gt(E,$);return}if(S===Oa){b(y);return}const H=()=>{o(E),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(y.shapeFlag&1&&N&&!N.persisted){const{leave:L,delayLeave:C}=N,T=()=>L(E,H);C?C(y.el,H,T):T()}else H()},gt=(y,S)=>{let E;for(;y!==S;)E=f(y),o(y),y=E;o(S)},Fe=(y,S,E)=>{const{bum:$,scope:N,update:H,subTree:L,um:C,m:T,a:M}=y;zu(T),zu(M),$&&Sa($),N.stop(),H&&(H.active=!1,Re(L,y,S,E)),C&&Ht(C,S),Ht(()=>{y.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},me=(y,S,E,$=!1,N=!1,H=0)=>{for(let L=H;L<y.length;L++)Re(y[L],S,E,$,N)},et=y=>y.shapeFlag&6?et(y.component.subTree):y.shapeFlag&128?y.suspense.next():f(y.anchor||y.el);let tt=!1;const xe=(y,S,E)=>{y==null?S._vnode&&Re(S._vnode,null,null,!0):m(S._vnode||null,y,S,null,null,null,E),tt||(tt=!0,ku(),lm(),tt=!1),S._vnode=y},_e={p:m,um:Re,m:Ze,r:Nt,mt:pe,mc:B,pc:se,pbc:F,n:et,o:t};let bt,Zt;return e&&([bt,Zt]=e(_e)),{render:xe,hydrate:bt,createApp:zy(xe,bt)}}function Ma({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Rn({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function Vy(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Od(t,e,r=!1){const n=t.children,o=e.children;if(ue(n)&&ue(o))for(let i=0;i<n.length;i++){const s=n[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=on(o[i]),l.el=s.el),!r&&l.patchFlag!==-2&&Od(s,l)),l.type===Kl&&(l.el=s.el)}}function qy(t){const e=t.slice(),r=[0];let n,o,i,s,l;const a=t.length;for(n=0;n<a;n++){const c=t[n];if(c!==0){if(o=r[r.length-1],t[o]<c){e[n]=o,r.push(n);continue}for(i=0,s=r.length-1;i<s;)l=i+s>>1,t[r[l]]<c?i=l+1:s=l;c<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,s=r[i-1];i-- >0;)r[i]=s,s=e[s];return r}function km(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:km(e)}function zu(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const Ky=Symbol.for("v-scx"),Uy=()=>Dt(Ky);function Vl(t,e){return Ed(t,null,e)}const Ms={};function gn(t,e,r){return Ed(t,e,r)}function Ed(t,e,{immediate:r,deep:n,flush:o,once:i,onTrack:s,onTrigger:l}=He){if(e&&i){const v=e;e=(...k)=>{v(...k),A()}}const a=ft,c=v=>n===!0?v:an(v,n===!1?1:void 0);let d,u=!1,f=!1;if(wt(t)?(d=()=>t.value,u=nl(t)):xi(t)?(d=()=>c(t),u=!0):ue(t)?(f=!0,u=t.some(v=>xi(v)||nl(v)),d=()=>t.map(v=>{if(wt(v))return v.value;if(xi(v))return c(v);if(ge(v))return mn(v,a,2)})):ge(t)?e?d=()=>mn(t,a,2):d=()=>(h&&h(),nr(t,a,3,[p])):d=Gt,e&&n){const v=d;d=()=>an(v())}let h,p=v=>{h=O.onStop=()=>{mn(v,a,4),h=O.onStop=void 0}},m;if(Gl)if(p=Gt,e?r&&nr(e,a,3,[d(),f?[]:void 0,p]):d(),o==="sync"){const v=Uy();m=v.__watcherHandles||(v.__watcherHandles=[])}else return Gt;let g=f?new Array(t.length).fill(Ms):Ms;const x=()=>{if(!(!O.active||!O.dirty))if(e){const v=O.run();(n||u||(f?v.some((k,B)=>vn(k,g[B])):vn(v,g)))&&(h&&h(),nr(e,a,3,[v,g===Ms?void 0:f&&g[0]===Ms?[]:g,p]),g=v)}else O.run()};x.allowRecurse=!!e;let w;o==="sync"?w=x:o==="post"?w=()=>Ht(x,a&&a.suspense):(x.pre=!0,a&&(x.id=a.uid),w=()=>kd(x));const O=new md(d,Gt,w),b=Ex(),A=()=>{O.stop(),b&&fd(b.effects,O)};return e?r?x():g=O.run():o==="post"?Ht(O.run.bind(O),a&&a.suspense):O.run(),m&&m.push(A),A}function Gy(t,e,r){const n=this.proxy,o=Xe(t)?t.includes(".")?Mm(n,t):()=>n[t]:t.bind(n,n);let i;ge(e)?i=e:(i=e.handler,r=e);const s=as(this),l=Ed(o,i.bind(n),r);return s(),l}function Mm(t,e){const r=e.split(".");return()=>{let n=t;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function an(t,e=1/0,r){if(e<=0||!Ne(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,wt(t))an(t.value,e,r);else if(ue(t))for(let n=0;n<t.length;n++)an(t[n],e,r);else if($h(t)||Ao(t))t.forEach(n=>{an(n,e,r)});else if(Bh(t)){for(const n in t)an(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&an(t[n],e,r)}return t}const ql=t=>t.type.__isKeepAlive;function Jy(t,e){Am(t,"a",e)}function Xy(t,e){Am(t,"da",e)}function Am(t,e,r=ft){const n=t.__wdc||(t.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Fl(e,n,r),r){let o=r.parent;for(;o&&o.parent;)ql(o.parent.vnode)&&Yy(n,e,r,o),o=o.parent}}function Yy(t,e,r,n){const o=Fl(e,t,n,!0);pm(()=>{fd(n[e],o)},r)}const nn=Symbol("_leaveCb"),As=Symbol("_enterCb");function Om(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return uo(()=>{t.isMounted=!0}),kn(()=>{t.isUnmounting=!0}),t}const er=[Function,Array],Em={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:er,onEnter:er,onAfterEnter:er,onEnterCancelled:er,onBeforeLeave:er,onLeave:er,onAfterLeave:er,onLeaveCancelled:er,onBeforeAppear:er,onAppear:er,onAfterAppear:er,onAppearCancelled:er},Pm=t=>{const e=t.subTree;return e.component?Pm(e.component):e},Qy={name:"BaseTransition",props:Em,setup(t,{slots:e}){const r=Ul(),n=Om();return()=>{const o=e.default&&Pd(e.default(),!0);if(!o||!o.length)return;let i=o[0];if(o.length>1){for(const f of o)if(f.type!==St){i=f;break}}const s=Ae(t),{mode:l}=s;if(n.isLeaving)return Aa(i);const a=Bu(i);if(!a)return Aa(i);let c=Fi(a,s,n,r,f=>c=f);zo(a,c);const d=r.subTree,u=d&&Bu(d);if(u&&u.type!==St&&!Bn(a,u)&&Pm(r).type!==St){const f=Fi(u,s,n,r);if(zo(u,f),l==="out-in"&&a.type!==St)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},Aa(i);l==="in-out"&&a.type!==St&&(f.delayLeave=(h,p,m)=>{const g=Dm(n,u);g[String(u.key)]=u,h[nn]=()=>{p(),h[nn]=void 0,delete c.delayedLeave},c.delayedLeave=m})}return i}}},Zy=Qy;function Dm(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Fi(t,e,r,n,o){const{appear:i,mode:s,persisted:l=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:g,onAppear:x,onAfterAppear:w,onAppearCancelled:O}=e,b=String(t.key),A=Dm(r,t),v=(P,F)=>{P&&nr(P,n,9,F)},k=(P,F)=>{const V=F[1];v(P,F),ue(P)?P.every(I=>I.length<=1)&&V():P.length<=1&&V()},B={mode:s,persisted:l,beforeEnter(P){let F=a;if(!r.isMounted)if(i)F=g||a;else return;P[nn]&&P[nn](!0);const V=A[b];V&&Bn(t,V)&&V.el[nn]&&V.el[nn](),v(F,[P])},enter(P){let F=c,V=d,I=u;if(!r.isMounted)if(i)F=x||c,V=w||d,I=O||u;else return;let Y=!1;const pe=P[As]=Ce=>{Y||(Y=!0,Ce?v(I,[P]):v(V,[P]),B.delayedLeave&&B.delayedLeave(),P[As]=void 0)};F?k(F,[P,pe]):pe()},leave(P,F){const V=String(t.key);if(P[As]&&P[As](!0),r.isUnmounting)return F();v(f,[P]);let I=!1;const Y=P[nn]=pe=>{I||(I=!0,F(),pe?v(m,[P]):v(p,[P]),P[nn]=void 0,A[V]===t&&delete A[V])};A[V]=t,h?k(h,[P,Y]):Y()},clone(P){const F=Fi(P,e,r,n,o);return o&&o(F),F}};return B}function Aa(t){if(ql(t))return t=Vr(t),t.children=null,t}function Bu(t){if(!ql(t))return t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&ge(r.default))return r.default()}}function zo(t,e){t.shapeFlag&6&&t.component?zo(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Pd(t,e=!1,r){let n=[],o=0;for(let i=0;i<t.length;i++){let s=t[i];const l=r==null?s.key:String(r)+String(s.key!=null?s.key:i);s.type===ct?(s.patchFlag&128&&o++,n=n.concat(Pd(s.children,e,l))):(e||s.type!==St)&&n.push(l!=null?Vr(s,{key:l}):s)}if(o>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}const ev=t=>t.__isTeleport,wi=t=>t&&(t.disabled||t.disabled===""),Hu=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Lu=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Sc=(t,e)=>{const r=t&&t.to;return Xe(r)?e?e(r):null:r},tv={name:"Teleport",__isTeleport:!0,process(t,e,r,n,o,i,s,l,a,c){const{mc:d,pc:u,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:g}}=c,x=wi(e.props);let{shapeFlag:w,children:O,dynamicChildren:b}=e;if(t==null){const A=e.el=m(""),v=e.anchor=m("");h(A,r,n),h(v,r,n);const k=e.target=Sc(e.props,p),B=e.targetAnchor=m("");k&&(h(B,k),s==="svg"||Hu(k)?s="svg":(s==="mathml"||Lu(k))&&(s="mathml"));const P=(F,V)=>{w&16&&d(O,F,V,o,i,s,l,a)};x?P(r,v):k&&P(k,B)}else{e.el=t.el;const A=e.anchor=t.anchor,v=e.target=t.target,k=e.targetAnchor=t.targetAnchor,B=wi(t.props),P=B?r:v,F=B?A:k;if(s==="svg"||Hu(v)?s="svg":(s==="mathml"||Lu(v))&&(s="mathml"),b?(f(t.dynamicChildren,b,P,o,i,s,l),Od(t,e,!0)):a||u(t,e,P,F,o,i,s,l,!1),x)B?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Os(e,r,A,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=Sc(e.props,p);V&&Os(e,V,null,c,0)}else B&&Os(e,v,k,c,1)}Rm(e)},remove(t,e,r,{um:n,o:{remove:o}},i){const{shapeFlag:s,children:l,anchor:a,targetAnchor:c,target:d,props:u}=t;if(d&&o(c),i&&o(a),s&16){const f=i||!wi(u);for(let h=0;h<l.length;h++){const p=l[h];n(p,e,r,f,!!p.dynamicChildren)}}},move:Os,hydrate:rv};function Os(t,e,r,{o:{insert:n},m:o},i=2){i===0&&n(t.targetAnchor,e,r);const{el:s,anchor:l,shapeFlag:a,children:c,props:d}=t,u=i===2;if(u&&n(s,e,r),(!u||wi(d))&&a&16)for(let f=0;f<c.length;f++)o(c[f],e,r,2);u&&n(l,e,r)}function rv(t,e,r,n,o,i,{o:{nextSibling:s,parentNode:l,querySelector:a}},c){const d=e.target=Sc(e.props,a);if(d){const u=d._lpa||d.firstChild;if(e.shapeFlag&16)if(wi(e.props))e.anchor=c(s(t),e,l(t),r,n,o,i),e.targetAnchor=u;else{e.anchor=s(t);let f=u;for(;f;)if(f=s(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,d._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(u,e,d,r,n,o,i)}Rm(e)}return e.anchor&&s(e.anchor)}const nv=tv;function Rm(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const ct=Symbol.for("v-fgt"),Kl=Symbol.for("v-txt"),St=Symbol.for("v-cmt"),Oa=Symbol.for("v-stc"),Ti=[];let fr=null;function Un(t=!1){Ti.push(fr=t?null:[])}function ov(){Ti.pop(),fr=Ti[Ti.length-1]||null}let Wi=1;function _u(t){Wi+=t}function Im(t){return t.dynamicChildren=Wi>0?fr||Mo:null,ov(),Wi>0&&fr&&fr.push(t),t}function $m(t,e,r,n,o,i){return Im(je(t,e,r,n,o,i,!0))}function ji(t,e,r,n,o){return Im(pt(t,e,r,n,o,!0))}function Vi(t){return t?t.__v_isVNode===!0:!1}function Bn(t,e){return t.type===e.type&&t.key===e.key}const Nm=({key:t})=>t??null,Us=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Xe(t)||wt(t)||ge(t)?{i:nt,r:t,k:e,f:!!r}:t:null);function je(t,e=null,r=null,n=0,o=null,i=t===ct?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Nm(e),ref:e&&Us(e),scopeId:dm,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:nt};return l?(Dd(a,r),i&128&&t.normalize(a)):r&&(a.shapeFlag|=Xe(r)?8:16),Wi>0&&!s&&fr&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&fr.push(a),a}const pt=iv;function iv(t,e=null,r=null,n=0,o=null,i=!1){if((!t||t===by)&&(t=St),Vi(t)){const l=Vr(t,e,!0);return r&&Dd(l,r),Wi>0&&!i&&fr&&(l.shapeFlag&6?fr[fr.indexOf(t)]=l:fr.push(l)),l.patchFlag=-2,l}if(gv(t)&&(t=t.__vccOpts),e){e=sv(e);let{class:l,style:a}=e;l&&!Xe(l)&&(e.class=Et(l)),Ne(a)&&(tm(a)&&!ue(a)&&(a=Je({},a)),e.style=hd(a))}const s=Xe(t)?1:yy(t)?128:ev(t)?64:Ne(t)?4:ge(t)?2:0;return je(t,e,r,n,o,s,i,!0)}function sv(t){return t?tm(t)||ym(t)?Je({},t):t:null}function Vr(t,e,r=!1,n=!1){const{props:o,ref:i,patchFlag:s,children:l,transition:a}=t,c=e?zm(o||{},e):o,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Nm(c),ref:e&&e.ref?r&&i?ue(i)?i.concat(Us(e)):[i,Us(e)]:Us(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ct?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vr(t.ssContent),ssFallback:t.ssFallback&&Vr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&n&&zo(d,a.clone(d)),d}function qi(t=" ",e=0){return pt(Kl,null,t,e)}function lv(t="",e=!1){return e?(Un(),ji(St,null,t)):pt(St,null,t)}function wr(t){return t==null||typeof t=="boolean"?pt(St):ue(t)?pt(ct,null,t.slice()):typeof t=="object"?on(t):pt(Kl,null,String(t))}function on(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vr(t)}function Dd(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ue(e))r=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),Dd(t,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!ym(e)?e._ctx=nt:o===3&&nt&&(nt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:nt},r=32):(e=String(e),n&64?(r=16,e=[qi(e)]):r=8);t.children=e,t.shapeFlag|=r}function zm(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=Et([e.class,n.class]));else if(o==="style")e.style=hd([e.style,n.style]);else if(Il(o)){const i=e[o],s=n[o];s&&i!==s&&!(ue(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=n[o])}return e}function vr(t,e,r,n=null){nr(t,e,7,[r,n])}const av=gm();let cv=0;function dv(t,e,r){const n=t.type,o=(e?e.appContext:t.appContext)||av,i={uid:cv++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ax(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cm(n,o),emitsOptions:cm(n,o),emit:null,emitted:null,propsDefaults:He,inheritAttrs:n.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=uy.bind(null,i),t.ce&&t.ce(i),i}let ft=null;const Ul=()=>ft||nt;let al,wc;{const t=Lh(),e=(r,n)=>{let o;return(o=t[r])||(o=t[r]=[]),o.push(n),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};al=e("__VUE_INSTANCE_SETTERS__",r=>ft=r),wc=e("__VUE_SSR_SETTERS__",r=>Gl=r)}const as=t=>{const e=ft;return al(t),t.scope.on(),()=>{t.scope.off(),al(e)}},Fu=()=>{ft&&ft.scope.off(),al(null)};function Bm(t){return t.vnode.shapeFlag&4}let Gl=!1;function uv(t,e=!1){e&&wc(e);const{props:r,children:n}=t.vnode,o=Bm(t);By(t,r,o,e),_y(t,n);const i=o?fv(t,e):void 0;return e&&wc(!1),i}function fv(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ey);const{setup:n}=r;if(n){const o=t.setupContext=n.length>1?hv(t):null,i=as(t);wn();const s=mn(n,t,0,[t.props,o]);if(Tn(),i(),Nh(s)){if(s.then(Fu,Fu),e)return s.then(l=>{Wu(t,l,e)}).catch(l=>{Ll(l,t,0)});t.asyncDep=s}else Wu(t,s,e)}else Hm(t,e)}function Wu(t,e,r){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)&&(t.setupState=om(e)),Hm(t,r)}let ju;function Hm(t,e,r){const n=t.type;if(!t.render){if(!e&&ju&&!n.render){const o=n.template||Md(t).template;if(o){const{isCustomElement:i,compilerOptions:s}=t.appContext.config,{delimiters:l,compilerOptions:a}=n,c=Je(Je({isCustomElement:i,delimiters:l},s),a);n.render=ju(o,c)}}t.render=n.render||Gt}{const o=as(t);wn();try{Py(t)}finally{Tn(),o()}}}const pv={get(t,e){return Vt(t,"get",""),t[e]}};function hv(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,pv),slots:t.slots,emit:t.emit,expose:e}}function Jl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(om(ol(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ci)return Ci[r](t)},has(e,r){return r in e||r in Ci}})):t.proxy}function mv(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function gv(t){return ge(t)&&"__vccOpts"in t}const Ee=(t,e)=>Yx(t,e,Gl);function q(t,e,r){const n=arguments.length;return n===2?Ne(e)&&!ue(e)?Vi(e)?pt(t,null,[e]):pt(t,e):pt(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Vi(r)&&(r=[r]),pt(t,e,r))}const bv="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const xv="http://www.w3.org/2000/svg",yv="http://www.w3.org/1998/Math/MathML",Lr=typeof document<"u"?document:null,Vu=Lr&&Lr.createElement("template"),vv={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const o=e==="svg"?Lr.createElementNS(xv,t):e==="mathml"?Lr.createElementNS(yv,t):r?Lr.createElement(t,{is:r}):Lr.createElement(t);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>Lr.createTextNode(t),createComment:t=>Lr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Lr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,o,i){const s=r?r.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),r),!(o===i||!(o=o.nextSibling)););else{Vu.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const l=Vu.content;if(n==="svg"||n==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Qr="transition",li="animation",Bo=Symbol("_vtc"),Xl=(t,{slots:e})=>q(Zy,_m(t),e);Xl.displayName="Transition";const Lm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Cv=Xl.props=Je({},Em,Lm),In=(t,e=[])=>{ue(t)?t.forEach(r=>r(...e)):t&&t(...e)},qu=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function _m(t){const e={};for(const I in t)I in Lm||(e[I]=t[I]);if(t.css===!1)return e;const{name:r="v",type:n,duration:o,enterFromClass:i=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:a=i,appearActiveClass:c=s,appearToClass:d=l,leaveFromClass:u=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,p=Sv(o),m=p&&p[0],g=p&&p[1],{onBeforeEnter:x,onEnter:w,onEnterCancelled:O,onLeave:b,onLeaveCancelled:A,onBeforeAppear:v=x,onAppear:k=w,onAppearCancelled:B=O}=e,P=(I,Y,pe)=>{en(I,Y?d:l),en(I,Y?c:s),pe&&pe()},F=(I,Y)=>{I._isLeaving=!1,en(I,u),en(I,h),en(I,f),Y&&Y()},V=I=>(Y,pe)=>{const Ce=I?k:w,ce=()=>P(Y,I,pe);In(Ce,[Y,ce]),Ku(()=>{en(Y,I?a:i),Br(Y,I?d:l),qu(Ce)||Uu(Y,n,m,ce)})};return Je(e,{onBeforeEnter(I){In(x,[I]),Br(I,i),Br(I,s)},onBeforeAppear(I){In(v,[I]),Br(I,a),Br(I,c)},onEnter:V(!1),onAppear:V(!0),onLeave(I,Y){I._isLeaving=!0;const pe=()=>F(I,Y);Br(I,u),Br(I,f),Wm(),Ku(()=>{I._isLeaving&&(en(I,u),Br(I,h),qu(b)||Uu(I,n,g,pe))}),In(b,[I,pe])},onEnterCancelled(I){P(I,!1),In(O,[I])},onAppearCancelled(I){P(I,!0),In(B,[I])},onLeaveCancelled(I){F(I),In(A,[I])}})}function Sv(t){if(t==null)return null;if(Ne(t))return[Ea(t.enter),Ea(t.leave)];{const e=Ea(t);return[e,e]}}function Ea(t){return vx(t)}function Br(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Bo]||(t[Bo]=new Set)).add(e)}function en(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Bo];r&&(r.delete(e),r.size||(t[Bo]=void 0))}function Ku(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let wv=0;function Uu(t,e,r,n){const o=t._endId=++wv,i=()=>{o===t._endId&&n()};if(r)return setTimeout(i,r);const{type:s,timeout:l,propCount:a}=Fm(t,e);if(!s)return n();const c=s+"end";let d=0;const u=()=>{t.removeEventListener(c,f),i()},f=h=>{h.target===t&&++d>=a&&u()};setTimeout(()=>{d<a&&u()},l+1),t.addEventListener(c,f)}function Fm(t,e){const r=window.getComputedStyle(t),n=p=>(r[p]||"").split(", "),o=n(`${Qr}Delay`),i=n(`${Qr}Duration`),s=Gu(o,i),l=n(`${li}Delay`),a=n(`${li}Duration`),c=Gu(l,a);let d=null,u=0,f=0;e===Qr?s>0&&(d=Qr,u=s,f=i.length):e===li?c>0&&(d=li,u=c,f=a.length):(u=Math.max(s,c),d=u>0?s>c?Qr:li:null,f=d?d===Qr?i.length:a.length:0);const h=d===Qr&&/\b(transform|all)(,|$)/.test(n(`${Qr}Property`).toString());return{type:d,timeout:u,propCount:f,hasTransform:h}}function Gu(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>Ju(r)+Ju(t[n])))}function Ju(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Wm(){return document.body.offsetHeight}function Tv(t,e,r){const n=t[Bo];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const cl=Symbol("_vod"),jm=Symbol("_vsh"),kv={beforeMount(t,{value:e},{transition:r}){t[cl]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):ai(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),ai(t,!0),n.enter(t)):n.leave(t,()=>{ai(t,!1)}):ai(t,e))},beforeUnmount(t,{value:e}){ai(t,e)}};function ai(t,e){t.style.display=e?t[cl]:"none",t[jm]=!e}const Mv=Symbol(""),Av=/(^|;)\s*display\s*:/;function Ov(t,e,r){const n=t.style,o=Xe(r);let i=!1;if(r&&!o){if(e)if(Xe(e))for(const s of e.split(";")){const l=s.slice(0,s.indexOf(":")).trim();r[l]==null&&Gs(n,l,"")}else for(const s in e)r[s]==null&&Gs(n,s,"");for(const s in r)s==="display"&&(i=!0),Gs(n,s,r[s])}else if(o){if(e!==r){const s=n[Mv];s&&(r+=";"+s),n.cssText=r,i=Av.test(r)}}else e&&t.removeAttribute("style");cl in t&&(t[cl]=i?n.display:"",t[jm]&&(n.display="none"))}const Xu=/\s*!important$/;function Gs(t,e,r){if(ue(r))r.forEach(n=>Gs(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Ev(t,e);Xu.test(r)?t.setProperty(Xo(n),r.replace(Xu,""),"important"):t[n]=r}}const Yu=["Webkit","Moz","ms"],Pa={};function Ev(t,e){const r=Pa[e];if(r)return r;let n=Pr(e);if(n!=="filter"&&n in t)return Pa[e]=n;n=zl(n);for(let o=0;o<Yu.length;o++){const i=Yu[o]+n;if(i in t)return Pa[e]=i}return e}const Qu="http://www.w3.org/1999/xlink";function Zu(t,e,r,n,o,i=Mx(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Qu,e.slice(6,e.length)):t.setAttributeNS(Qu,e,r):r==null||i&&!_h(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Sn(r)?String(r):r)}function Pv(t,e,r,n,o,i,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,o,i),t[e]=r??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const c=l==="OPTION"?t.getAttribute("value")||"":t.value,d=r==null?"":String(r);(c!==d||!("_value"in t))&&(t.value=d),r==null&&t.removeAttribute(e),t._value=r;return}let a=!1;if(r===""||r==null){const c=typeof t[e];c==="boolean"?r=_h(r):r==null&&c==="string"?(r="",a=!0):c==="number"&&(r=0,a=!0)}try{t[e]=r}catch{}a&&t.removeAttribute(e)}function Dv(t,e,r,n){t.addEventListener(e,r,n)}function Rv(t,e,r,n){t.removeEventListener(e,r,n)}const ef=Symbol("_vei");function Iv(t,e,r,n,o=null){const i=t[ef]||(t[ef]={}),s=i[e];if(n&&s)s.value=n;else{const[l,a]=$v(e);if(n){const c=i[e]=Bv(n,o);Dv(t,l,c,a)}else s&&(Rv(t,l,s,a),i[e]=void 0)}}const tf=/(?:Once|Passive|Capture)$/;function $v(t){let e;if(tf.test(t)){e={};let n;for(;n=t.match(tf);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xo(t.slice(2)),e]}let Da=0;const Nv=Promise.resolve(),zv=()=>Da||(Nv.then(()=>Da=0),Da=Date.now());function Bv(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;nr(Hv(n,r.value),e,5,[n])};return r.value=t,r.attached=zv(),r}function Hv(t,e){if(ue(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const rf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Lv=(t,e,r,n,o,i,s,l,a)=>{const c=o==="svg";e==="class"?Tv(t,n,c):e==="style"?Ov(t,r,n):Il(e)?ud(e)||Iv(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_v(t,e,n,c))?(Pv(t,e,n,i,s,l,a),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Zu(t,e,n,c,s,e!=="value")):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Zu(t,e,n,c))};function _v(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&rf(e)&&ge(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return rf(e)&&Xe(r)?!1:e in t}const Vm=new WeakMap,qm=new WeakMap,dl=Symbol("_moveCb"),nf=Symbol("_enterCb"),Km={name:"TransitionGroup",props:Je({},Cv,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Ul(),n=Om();let o,i;return fm(()=>{if(!o.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!qv(o[0].el,r.vnode.el,s))return;o.forEach(Wv),o.forEach(jv);const l=o.filter(Vv);Wm(),l.forEach(a=>{const c=a.el,d=c.style;Br(c,s),d.transform=d.webkitTransform=d.transitionDuration="";const u=c[dl]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",u),c[dl]=null,en(c,s))};c.addEventListener("transitionend",u)})}),()=>{const s=Ae(t),l=_m(s);let a=s.tag||ct;if(o=[],i)for(let c=0;c<i.length;c++){const d=i[c];d.el&&d.el instanceof Element&&(o.push(d),zo(d,Fi(d,l,n,r)),Vm.set(d,d.el.getBoundingClientRect()))}i=e.default?Pd(e.default()):[];for(let c=0;c<i.length;c++){const d=i[c];d.key!=null&&zo(d,Fi(d,l,n,r))}return pt(a,null,i)}}},Fv=t=>delete t.mode;Km.props;const Um=Km;function Wv(t){const e=t.el;e[dl]&&e[dl](),e[nf]&&e[nf]()}function jv(t){qm.set(t,t.el.getBoundingClientRect())}function Vv(t){const e=Vm.get(t),r=qm.get(t),n=e.left-r.left,o=e.top-r.top;if(n||o){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${o}px)`,i.transitionDuration="0s",t}}function qv(t,e,r){const n=t.cloneNode(),o=t[Bo];o&&o.forEach(l=>{l.split(/\s+/).forEach(a=>a&&n.classList.remove(a))}),r.split(/\s+/).forEach(l=>l&&n.classList.add(l)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:s}=Fm(n);return i.removeChild(n),s}const Kv=Je({patchProp:Lv},vv);let of;function Uv(){return of||(of=Wy(Kv))}const Gv=(...t)=>{const e=Uv().createApp(...t),{mount:r}=e;return e.mount=n=>{const o=Xv(n);if(!o)return;const i=e._component;!ge(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=r(o,!1,Jv(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function Jv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Xv(t){return Xe(t)?document.querySelector(t):t}function Yv(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function Es(t,e){const r=t.trim().split(/\s+/g),n={top:r[0]};switch(r.length){case 1:n.right=r[0],n.bottom=r[0],n.left=r[0];break;case 2:n.right=r[1],n.left=r[1],n.bottom=r[0];break;case 3:n.right=r[1],n.bottom=r[2],n.left=r[1];break;case 4:n.right=r[1],n.bottom=r[2],n.left=r[3];break;default:throw new Error("[seemly/getMargin]:"+t+" is not a valid value.")}return e===void 0?n:n[e]}const sf={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},Yo="^\\s*",Qo="\\s*$",_n="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",Fn="([0-9A-Fa-f])",Wn="([0-9A-Fa-f]{2})",Qv=new RegExp(`${Yo}rgb\\s*\\(${_n},${_n},${_n}\\)${Qo}`),Zv=new RegExp(`${Yo}rgba\\s*\\(${_n},${_n},${_n},${_n}\\)${Qo}`),eC=new RegExp(`${Yo}#${Fn}${Fn}${Fn}${Qo}`),tC=new RegExp(`${Yo}#${Wn}${Wn}${Wn}${Qo}`),rC=new RegExp(`${Yo}#${Fn}${Fn}${Fn}${Fn}${Qo}`),nC=new RegExp(`${Yo}#${Wn}${Wn}${Wn}${Wn}${Qo}`);function Bt(t){return parseInt(t,16)}function qr(t){try{let e;if(e=tC.exec(t))return[Bt(e[1]),Bt(e[2]),Bt(e[3]),1];if(e=Qv.exec(t))return[vt(e[1]),vt(e[5]),vt(e[9]),1];if(e=Zv.exec(t))return[vt(e[1]),vt(e[5]),vt(e[9]),ki(e[13])];if(e=eC.exec(t))return[Bt(e[1]+e[1]),Bt(e[2]+e[2]),Bt(e[3]+e[3]),1];if(e=nC.exec(t))return[Bt(e[1]),Bt(e[2]),Bt(e[3]),ki(Bt(e[4])/255)];if(e=rC.exec(t))return[Bt(e[1]+e[1]),Bt(e[2]+e[2]),Bt(e[3]+e[3]),ki(Bt(e[4]+e[4])/255)];if(t in sf)return qr(sf[t]);throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function oC(t){return t>1?1:t<0?0:t}function Tc(t,e,r,n){return`rgba(${vt(t)}, ${vt(e)}, ${vt(r)}, ${oC(n)})`}function Ra(t,e,r,n,o){return vt((t*e*(1-n)+r*n)/o)}function ne(t,e){Array.isArray(t)||(t=qr(t)),Array.isArray(e)||(e=qr(e));const r=t[3],n=e[3],o=ki(r+n-r*n);return Tc(Ra(t[0],r,e[0],n,o),Ra(t[1],r,e[1],n,o),Ra(t[2],r,e[2],n,o),o)}function X(t,e){const[r,n,o,i=1]=Array.isArray(t)?t:qr(t);return e.alpha?Tc(r,n,o,e.alpha):Tc(r,n,o,i)}function Ge(t,e){const[r,n,o,i=1]=Array.isArray(t)?t:qr(t),{lightness:s=1,alpha:l=1}=e;return iC([r*s,n*s,o*s,i*l])}function ki(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function vt(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function iC(t){const[e,r,n]=t;return 3 in t?`rgba(${vt(e)}, ${vt(r)}, ${vt(n)}, ${ki(t[3])})`:`rgba(${vt(e)}, ${vt(r)}, ${vt(n)}, 1)`}function sC(t,e=[],r){const n={};return Object.getOwnPropertyNames(t).forEach(i=>{e.includes(i)||(n[i]=t[i])}),Object.assign(n,r)}function Mi(t,e=!0,r=[]){return t.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&r.push(qi(String(n)));return}if(Array.isArray(n)){Mi(n,e,r);return}if(n.type===ct){if(n.children===null)return;Array.isArray(n.children)&&Mi(n.children,e,r)}else{if(n.type===St&&e)return;r.push(n)}}}),r}function wo(t,...e){if(Array.isArray(t))t.forEach(r=>wo(r,...e));else return t(...e)}const lC=(t,...e)=>typeof t=="function"?t(...e):typeof t=="string"?qi(t):typeof t=="number"?qi(String(t)):null;function aC(t,e){console.error(`[naive/${t}]: ${e}`)}function Gm(t,e){throw new Error(`[naive/${t}]: ${e}`)}function Rd(t){return t.some(e=>Vi(e)?!(e.type===St||e.type===ct&&!Rd(e.children)):!0)?t:null}function ul(t,e){const r=t&&Rd(t());return e(r||null)}function cC(t){return!(t&&Rd(t()))}function lf(t){return t.replace(/#|\(|\)|,|\s|\./g,"_")}function dC(t){let e=0;for(let r=0;r<t.length;++r)t[r]==="&"&&++e;return e}const Jm=/\s*,(?![^(]*\))\s*/g,uC=/\s+/g;function fC(t,e){const r=[];return e.split(Jm).forEach(n=>{let o=dC(n);if(o){if(o===1){t.forEach(s=>{r.push(n.replace("&",s))});return}}else{t.forEach(s=>{r.push((s&&s+" ")+n)});return}let i=[n];for(;o--;){const s=[];i.forEach(l=>{t.forEach(a=>{s.push(l.replace("&",a))})}),i=s}i.forEach(s=>r.push(s))}),r}function pC(t,e){const r=[];return e.split(Jm).forEach(n=>{t.forEach(o=>{r.push((o&&o+" ")+n)})}),r}function hC(t){let e=[""];return t.forEach(r=>{r=r&&r.trim(),r&&(r.includes("&")?e=fC(e,r):e=pC(e,r))}),e.join(", ").replace(uC," ")}function af(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function Yl(t,e){return(e??document.head).querySelector(`style[cssr-id="${t}"]`)}function mC(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function Ps(t){return t?/^\s*@(s|m)/.test(t):!1}const gC=/[A-Z]/g;function Xm(t){return t.replace(gC,e=>"-"+e.toLowerCase())}function bC(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(r=>e+`  ${Xm(r[0])}: ${r[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function xC(t,e,r){return typeof t=="function"?t({context:e.context,props:r}):t}function cf(t,e,r,n){if(!e)return"";const o=xC(e,r,n);if(!o)return"";if(typeof o=="string")return`${t} {
${o}
}`;const i=Object.keys(o);if(i.length===0)return r.config.keepEmptyBlock?t+` {
}`:"";const s=t?[t+" {"]:[];return i.forEach(l=>{const a=o[l];if(l==="raw"){s.push(`
`+a+`
`);return}l=Xm(l),a!=null&&s.push(`  ${l}${bC(a)}`)}),t&&s.push("}"),s.join(`
`)}function kc(t,e,r){t&&t.forEach(n=>{if(Array.isArray(n))kc(n,e,r);else if(typeof n=="function"){const o=n(e);Array.isArray(o)?kc(o,e,r):o&&r(o)}else n&&r(n)})}function Ym(t,e,r,n,o){const i=t.$;let s="";if(!i||typeof i=="string")Ps(i)?s=i:e.push(i);else if(typeof i=="function"){const c=i({context:n.context,props:o});Ps(c)?s=c:e.push(c)}else if(i.before&&i.before(n.context),!i.$||typeof i.$=="string")Ps(i.$)?s=i.$:e.push(i.$);else if(i.$){const c=i.$({context:n.context,props:o});Ps(c)?s=c:e.push(c)}const l=hC(e),a=cf(l,t.props,n,o);s?r.push(`${s} {`):a.length&&r.push(a),t.children&&kc(t.children,{context:n.context,props:o},c=>{if(typeof c=="string"){const d=cf(l,{raw:c},n,o);r.push(d)}else Ym(c,e,r,n,o)}),e.pop(),s&&r.push("}"),i&&i.after&&i.after(n.context)}function yC(t,e,r){const n=[];return Ym(t,[],n,e,r),n.join(`

`)}function Ki(t){for(var e=0,r,n=0,o=t.length;o>=4;++n,o-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function vC(t,e,r,n){const{els:o}=e;if(r===void 0)o.forEach(af),e.els=[];else{const i=Yl(r,n);i&&o.includes(i)&&(af(i),e.els=o.filter(s=>s!==i))}}function df(t,e){t.push(e)}function CC(t,e,r,n,o,i,s,l,a){let c;if(r===void 0&&(c=e.render(n),r=Ki(c)),a){a.adapter(r,c??e.render(n));return}l===void 0&&(l=document.head);const d=Yl(r,l);if(d!==null&&!i)return d;const u=d??mC(r);if(c===void 0&&(c=e.render(n)),u.textContent=c,d!==null)return d;if(s){const f=l.querySelector(`meta[name="${s}"]`);if(f)return l.insertBefore(u,f),df(e.els,u),u}return o?l.insertBefore(u,l.querySelector("style, link")):l.appendChild(u),df(e.els,u),u}function SC(t){return yC(this,this.instance,t)}function wC(t={}){const{id:e,ssr:r,props:n,head:o=!1,force:i=!1,anchorMetaName:s,parent:l}=t;return CC(this.instance,this,e,n,o,i,s,l,r)}function TC(t={}){const{id:e,parent:r}=t;vC(this.instance,this,e,r)}const Ds=function(t,e,r,n){return{instance:t,$:e,props:r,children:n,els:[],render:SC,mount:wC,unmount:TC}},kC=function(t,e,r,n){return Array.isArray(e)?Ds(t,{$:null},null,e):Array.isArray(r)?Ds(t,e,null,r):Array.isArray(n)?Ds(t,e,r,n):Ds(t,e,r,null)};function Qm(t={}){const e={c:(...r)=>kC(e,...r),use:(r,...n)=>r.install(e,...n),find:Yl,context:{},config:t};return e}function MC(t,e){if(t===void 0)return!1;if(e){const{context:{ids:r}}=e;return r.has(t)}return Yl(t)!==null}function AC(t){let e=".",r="__",n="--",o;if(t){let p=t.blockPrefix;p&&(e=p),p=t.elementPrefix,p&&(r=p),p=t.modifierPrefix,p&&(n=p)}const i={install(p){o=p.c;const m=p.context;m.bem={},m.bem.b=null,m.bem.els=null}};function s(p){let m,g;return{before(x){m=x.bem.b,g=x.bem.els,x.bem.els=null},after(x){x.bem.b=m,x.bem.els=g},$({context:x,props:w}){return p=typeof p=="string"?p:p({context:x,props:w}),x.bem.b=p,`${(w==null?void 0:w.bPrefix)||e}${x.bem.b}`}}}function l(p){let m;return{before(g){m=g.bem.els},after(g){g.bem.els=m},$({context:g,props:x}){return p=typeof p=="string"?p:p({context:g,props:x}),g.bem.els=p.split(",").map(w=>w.trim()),g.bem.els.map(w=>`${(x==null?void 0:x.bPrefix)||e}${g.bem.b}${r}${w}`).join(", ")}}}function a(p){return{$({context:m,props:g}){p=typeof p=="string"?p:p({context:m,props:g});const x=p.split(",").map(b=>b.trim());function w(b){return x.map(A=>`&${(g==null?void 0:g.bPrefix)||e}${m.bem.b}${b!==void 0?`${r}${b}`:""}${n}${A}`).join(", ")}const O=m.bem.els;return O!==null?w(O[0]):w()}}}function c(p){return{$({context:m,props:g}){p=typeof p=="string"?p:p({context:m,props:g});const x=m.bem.els;return`&:not(${(g==null?void 0:g.bPrefix)||e}${m.bem.b}${x!==null&&x.length>0?`${r}${x[0]}`:""}${n}${p})`}}}return Object.assign(i,{cB:(...p)=>o(s(p[0]),p[1],p[2]),cE:(...p)=>o(l(p[0]),p[1],p[2]),cM:(...p)=>o(a(p[0]),p[1],p[2]),cNotM:(...p)=>o(c(p[0]),p[1],p[2])}),i}const OC="n",EC=`.${OC}-`,PC="__",DC="--",Zm=Qm(),eg=AC({blockPrefix:EC,elementPrefix:PC,modifierPrefix:DC});Zm.use(eg);const{c:le,find:KL}=Zm,{cB:U,cE:Te,cM:re,cNotM:fl}=eg;function he(t,e){return t+(e==="default"?"":e.replace(/^[a-z]/,r=>r.toUpperCase()))}const Ql=typeof document<"u"&&typeof window<"u";function Mc(t){const e=Ee(t),r=Ie(e.value);return gn(e,n=>{r.value=n}),typeof t=="function"?r:{__v_isRef:!0,get value(){return r.value},set value(n){t.set(n)}}}const RC=typeof window<"u";let Po,Ai;const IC=()=>{var t,e;Po=RC?(e=(t=document)===null||t===void 0?void 0:t.fonts)===null||e===void 0?void 0:e.ready:void 0,Ai=!1,Po!==void 0?Po.then(()=>{Ai=!0}):Ai=!0};IC();function $C(t){if(Ai)return;let e=!1;uo(()=>{Ai||Po==null||Po.then(()=>{e||t()})}),kn(()=>{e=!0})}function NC(t,e){return gn(t,r=>{r!==void 0&&(e.value=r)}),Ee(()=>t.value===void 0?e.value:t.value)}function zC(){const t=Ie(!1);return uo(()=>{t.value=!0}),vd(t)}function uf(t,e){return Ee(()=>{for(const r of e)if(t[r]!==void 0)return t[r];return t[e[e.length-1]]})}const BC="@css-render/vue3-ssr";function HC(t,e){return`<style cssr-id="${t}">
${e}
</style>`}function LC(t,e,r){const{styles:n,ids:o}=r;o.has(t)||n!==null&&(o.add(t),n.push(HC(t,e)))}const _C=typeof document<"u";function cs(){if(_C)return;const t=Dt(BC,null);if(t!==null)return{adapter:(e,r)=>LC(e,r,t),context:t}}function ff(t,e){console.error(`[vueuc/${t}]: ${e}`)}const{c:pf}=Qm(),FC="vueuc-style";var Gn=[],WC=function(){return Gn.some(function(t){return t.activeTargets.length>0})},jC=function(){return Gn.some(function(t){return t.skippedTargets.length>0})},hf="ResizeObserver loop completed with undelivered notifications.",VC=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:hf}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=hf),window.dispatchEvent(t)},Ui;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Ui||(Ui={}));var Jn=function(t){return Object.freeze(t)},qC=function(){function t(e,r){this.inlineSize=e,this.blockSize=r,Jn(this)}return t}(),tg=function(){function t(e,r,n,o){return this.x=e,this.y=r,this.width=n,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Jn(this)}return t.prototype.toJSON=function(){var e=this,r=e.x,n=e.y,o=e.top,i=e.right,s=e.bottom,l=e.left,a=e.width,c=e.height;return{x:r,y:n,top:o,right:i,bottom:s,left:l,width:a,height:c}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Id=function(t){return t instanceof SVGElement&&"getBBox"in t},rg=function(t){if(Id(t)){var e=t.getBBox(),r=e.width,n=e.height;return!r&&!n}var o=t,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||t.getClientRects().length)},mf=function(t){var e;if(t instanceof Element)return!0;var r=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&t instanceof r.Element)},KC=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Oi=typeof window<"u"?window:{},Rs=new WeakMap,gf=/auto|scroll/,UC=/^tb|vertical/,GC=/msie|trident/i.test(Oi.navigator&&Oi.navigator.userAgent),Cr=function(t){return parseFloat(t||"0")},Do=function(t,e,r){return t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=!1),new qC((r?e:t)||0,(r?t:e)||0)},bf=Jn({devicePixelContentBoxSize:Do(),borderBoxSize:Do(),contentBoxSize:Do(),contentRect:new tg(0,0,0,0)}),ng=function(t,e){if(e===void 0&&(e=!1),Rs.has(t)&&!e)return Rs.get(t);if(rg(t))return Rs.set(t,bf),bf;var r=getComputedStyle(t),n=Id(t)&&t.ownerSVGElement&&t.getBBox(),o=!GC&&r.boxSizing==="border-box",i=UC.test(r.writingMode||""),s=!n&&gf.test(r.overflowY||""),l=!n&&gf.test(r.overflowX||""),a=n?0:Cr(r.paddingTop),c=n?0:Cr(r.paddingRight),d=n?0:Cr(r.paddingBottom),u=n?0:Cr(r.paddingLeft),f=n?0:Cr(r.borderTopWidth),h=n?0:Cr(r.borderRightWidth),p=n?0:Cr(r.borderBottomWidth),m=n?0:Cr(r.borderLeftWidth),g=u+c,x=a+d,w=m+h,O=f+p,b=l?t.offsetHeight-O-t.clientHeight:0,A=s?t.offsetWidth-w-t.clientWidth:0,v=o?g+w:0,k=o?x+O:0,B=n?n.width:Cr(r.width)-v-A,P=n?n.height:Cr(r.height)-k-b,F=B+g+A+w,V=P+x+b+O,I=Jn({devicePixelContentBoxSize:Do(Math.round(B*devicePixelRatio),Math.round(P*devicePixelRatio),i),borderBoxSize:Do(F,V,i),contentBoxSize:Do(B,P,i),contentRect:new tg(u,a,B,P)});return Rs.set(t,I),I},og=function(t,e,r){var n=ng(t,r),o=n.borderBoxSize,i=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(e){case Ui.DEVICE_PIXEL_CONTENT_BOX:return s;case Ui.BORDER_BOX:return o;default:return i}},JC=function(){function t(e){var r=ng(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=Jn([r.borderBoxSize]),this.contentBoxSize=Jn([r.contentBoxSize]),this.devicePixelContentBoxSize=Jn([r.devicePixelContentBoxSize])}return t}(),ig=function(t){if(rg(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},XC=function(){var t=1/0,e=[];Gn.forEach(function(s){if(s.activeTargets.length!==0){var l=[];s.activeTargets.forEach(function(c){var d=new JC(c.target),u=ig(c.target);l.push(d),c.lastReportedSize=og(c.target,c.observedBox),u<t&&(t=u)}),e.push(function(){s.callback.call(s.observer,l,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var r=0,n=e;r<n.length;r++){var o=n[r];o()}return t},xf=function(t){Gn.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(o){o.isActive()&&(ig(o.target)>t?r.activeTargets.push(o):r.skippedTargets.push(o))})})},YC=function(){var t=0;for(xf(t);WC();)t=XC(),xf(t);return jC()&&VC(),t>0},Ia,sg=[],QC=function(){return sg.splice(0).forEach(function(t){return t()})},ZC=function(t){if(!Ia){var e=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return QC()}).observe(r,n),Ia=function(){r.textContent="".concat(e?e--:e++)}}sg.push(t),Ia()},e1=function(t){ZC(function(){requestAnimationFrame(t)})},Js=0,t1=function(){return!!Js},r1=250,n1={attributes:!0,characterData:!0,childList:!0,subtree:!0},yf=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],vf=function(t){return t===void 0&&(t=0),Date.now()+t},$a=!1,o1=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var r=this;if(e===void 0&&(e=r1),!$a){$a=!0;var n=vf(e);e1(function(){var o=!1;try{o=YC()}finally{if($a=!1,e=n-vf(),!t1())return;o?r.run(1e3):e>0?r.run(e):r.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,n1)};document.body?r():Oi.addEventListener("DOMContentLoaded",r)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),yf.forEach(function(r){return Oi.addEventListener(r,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),yf.forEach(function(r){return Oi.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},t}(),Ac=new o1,Cf=function(t){!Js&&t>0&&Ac.start(),Js+=t,!Js&&Ac.stop()},i1=function(t){return!Id(t)&&!KC(t)&&getComputedStyle(t).display==="inline"},s1=function(){function t(e,r){this.target=e,this.observedBox=r||Ui.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=og(this.target,this.observedBox,!0);return i1(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),l1=function(){function t(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return t}(),Is=new WeakMap,Sf=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return-1},$s=function(){function t(){}return t.connect=function(e,r){var n=new l1(e,r);Is.set(e,n)},t.observe=function(e,r,n){var o=Is.get(e),i=o.observationTargets.length===0;Sf(o.observationTargets,r)<0&&(i&&Gn.push(o),o.observationTargets.push(new s1(r,n&&n.box)),Cf(1),Ac.schedule())},t.unobserve=function(e,r){var n=Is.get(e),o=Sf(n.observationTargets,r),i=n.observationTargets.length===1;o>=0&&(i&&Gn.splice(Gn.indexOf(n),1),n.observationTargets.splice(o,1),Cf(-1))},t.disconnect=function(e){var r=this,n=Is.get(e);n.observationTargets.slice().forEach(function(o){return r.unobserve(e,o.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),a1=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");$s.connect(this,e)}return t.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!mf(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");$s.observe(this,e,r)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!mf(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");$s.unobserve(this,e)},t.prototype.disconnect=function(){$s.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();class c1{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||a1)(this.handleResize),this.elHandlersMap=new Map}handleResize(e){for(const r of e){const n=this.elHandlersMap.get(r.target);n!==void 0&&n(r)}}registerHandler(e,r){this.elHandlersMap.set(e,r),this.observer.observe(e)}unregisterHandler(e){this.elHandlersMap.has(e)&&(this.elHandlersMap.delete(e),this.observer.unobserve(e))}}const wf=new c1,Na=mt({name:"ResizeObserver",props:{onResize:Function},setup(t){let e=!1;const r=Ul().proxy;function n(o){const{onResize:i}=t;i!==void 0&&i(o)}uo(()=>{const o=r.$el;if(o===void 0){ff("resize-observer","$el does not exist.");return}if(o.nextElementSibling!==o.nextSibling&&o.nodeType===3&&o.nodeValue!==""){ff("resize-observer","$el can not be observed (it may be a text node).");return}o.nextElementSibling!==null&&(wf.registerHandler(o.nextElementSibling,n),e=!0)}),kn(()=>{e&&wf.unregisterHandler(r.$el.nextElementSibling)})},render(){return Oy(this.$slots,"default")}}),d1=pf(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[pf("&::-webkit-scrollbar",{width:0,height:0})]),u1=mt({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const t=Ie(null);function e(o){!(o.currentTarget.offsetWidth<o.currentTarget.scrollWidth)||o.deltaY===0||(o.currentTarget.scrollLeft+=o.deltaY+o.deltaX,o.preventDefault())}const r=cs();return d1.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:FC,ssr:r}),Object.assign({selfRef:t,handleWheel:e},{scrollTo(...o){var i;(i=t.value)===null||i===void 0||i.scrollTo(...o)}})},render(){return q("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}}),Tf="n-form-item";function f1(t,{defaultSize:e="medium",mergedSize:r,mergedDisabled:n}={}){const o=Dt(Tf,null);jl(Tf,null);const i=Ee(r?()=>r(o):()=>{const{size:a}=t;if(a)return a;if(o){const{mergedSize:c}=o;if(c.value!==void 0)return c.value}return e}),s=Ee(n?()=>n(o):()=>{const{disabled:a}=t;return a!==void 0?a:o?o.disabled.value:!1}),l=Ee(()=>{const{status:a}=t;return a||(o==null?void 0:o.mergedValidationStatus.value)});return kn(()=>{o&&o.restoreValidation()}),{mergedSizeRef:i,mergedDisabledRef:s,mergedStatusRef:l,nTriggerFormBlur(){o&&o.handleContentBlur()},nTriggerFormChange(){o&&o.handleContentChange()},nTriggerFormFocus(){o&&o.handleContentFocus()},nTriggerFormInput(){o&&o.handleContentInput()}}}var p1=typeof global=="object"&&global&&global.Object===Object&&global;const lg=p1;var h1=typeof self=="object"&&self&&self.Object===Object&&self,m1=lg||h1||Function("return this")();const fo=m1;var g1=fo.Symbol;const Ho=g1;var ag=Object.prototype,b1=ag.hasOwnProperty,x1=ag.toString,ci=Ho?Ho.toStringTag:void 0;function y1(t){var e=b1.call(t,ci),r=t[ci];try{t[ci]=void 0;var n=!0}catch{}var o=x1.call(t);return n&&(e?t[ci]=r:delete t[ci]),o}var v1=Object.prototype,C1=v1.toString;function S1(t){return C1.call(t)}var w1="[object Null]",T1="[object Undefined]",kf=Ho?Ho.toStringTag:void 0;function ds(t){return t==null?t===void 0?T1:w1:kf&&kf in Object(t)?y1(t):S1(t)}function Zo(t){return t!=null&&typeof t=="object"}var k1="[object Symbol]";function cg(t){return typeof t=="symbol"||Zo(t)&&ds(t)==k1}function M1(t,e){for(var r=-1,n=t==null?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var A1=Array.isArray;const pl=A1;var O1=1/0,Mf=Ho?Ho.prototype:void 0,Af=Mf?Mf.toString:void 0;function dg(t){if(typeof t=="string")return t;if(pl(t))return M1(t,dg)+"";if(cg(t))return Af?Af.call(t):"";var e=t+"";return e=="0"&&1/t==-O1?"-0":e}var E1=/\s/;function P1(t){for(var e=t.length;e--&&E1.test(t.charAt(e)););return e}var D1=/^\s+/;function R1(t){return t&&t.slice(0,P1(t)+1).replace(D1,"")}function mr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Of=0/0,I1=/^[-+]0x[0-9a-f]+$/i,$1=/^0b[01]+$/i,N1=/^0o[0-7]+$/i,z1=parseInt;function Ef(t){if(typeof t=="number")return t;if(cg(t))return Of;if(mr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=R1(t);var r=$1.test(t);return r||N1.test(t)?z1(t.slice(2),r?2:8):I1.test(t)?Of:+t}function ug(t){return t}var B1="[object AsyncFunction]",H1="[object Function]",L1="[object GeneratorFunction]",_1="[object Proxy]";function $d(t){if(!mr(t))return!1;var e=ds(t);return e==H1||e==L1||e==B1||e==_1}var F1=fo["__core-js_shared__"];const za=F1;var Pf=function(){var t=/[^.]+$/.exec(za&&za.keys&&za.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function W1(t){return!!Pf&&Pf in t}var j1=Function.prototype,V1=j1.toString;function q1(t){if(t!=null){try{return V1.call(t)}catch{}try{return t+""}catch{}}return""}var K1=/[\\^$.*+?()[\]{}|]/g,U1=/^\[object .+?Constructor\]$/,G1=Function.prototype,J1=Object.prototype,X1=G1.toString,Y1=J1.hasOwnProperty,Q1=RegExp("^"+X1.call(Y1).replace(K1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Z1(t){if(!mr(t)||W1(t))return!1;var e=$d(t)?Q1:U1;return e.test(q1(t))}function eS(t,e){return t==null?void 0:t[e]}function Nd(t,e){var r=eS(t,e);return Z1(r)?r:void 0}var Df=Object.create,tS=function(){function t(){}return function(e){if(!mr(e))return{};if(Df)return Df(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const rS=tS;function nS(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function oS(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var iS=800,sS=16,lS=Date.now;function aS(t){var e=0,r=0;return function(){var n=lS(),o=sS-(n-r);if(r=n,o>0){if(++e>=iS)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function cS(t){return function(){return t}}var dS=function(){try{var t=Nd(Object,"defineProperty");return t({},"",{}),t}catch{}}();const hl=dS;var uS=hl?function(t,e){return hl(t,"toString",{configurable:!0,enumerable:!1,value:cS(e),writable:!0})}:ug;const fS=uS;var pS=aS(fS);const hS=pS;var mS=9007199254740991,gS=/^(?:0|[1-9]\d*)$/;function fg(t,e){var r=typeof t;return e=e??mS,!!e&&(r=="number"||r!="symbol"&&gS.test(t))&&t>-1&&t%1==0&&t<e}function zd(t,e,r){e=="__proto__"&&hl?hl(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Zl(t,e){return t===e||t!==t&&e!==e}var bS=Object.prototype,xS=bS.hasOwnProperty;function yS(t,e,r){var n=t[e];(!(xS.call(t,e)&&Zl(n,r))||r===void 0&&!(e in t))&&zd(t,e,r)}function vS(t,e,r,n){var o=!r;r||(r={});for(var i=-1,s=e.length;++i<s;){var l=e[i],a=n?n(r[l],t[l],l,r,t):void 0;a===void 0&&(a=t[l]),o?zd(r,l,a):yS(r,l,a)}return r}var Rf=Math.max;function CS(t,e,r){return e=Rf(e===void 0?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=Rf(n.length-e,0),s=Array(i);++o<i;)s[o]=n[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=n[o];return l[e]=r(s),nS(t,this,l)}}function SS(t,e){return hS(CS(t,e,ug),t+"")}var wS=9007199254740991;function pg(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wS}function Bd(t){return t!=null&&pg(t.length)&&!$d(t)}function TS(t,e,r){if(!mr(r))return!1;var n=typeof e;return(n=="number"?Bd(r)&&fg(e,r.length):n=="string"&&e in r)?Zl(r[e],t):!1}function kS(t){return SS(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,s&&TS(r[0],r[1],s)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var l=r[n];l&&t(e,l,n,i)}return e})}var MS=Object.prototype;function hg(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||MS;return t===r}function AS(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var OS="[object Arguments]";function If(t){return Zo(t)&&ds(t)==OS}var mg=Object.prototype,ES=mg.hasOwnProperty,PS=mg.propertyIsEnumerable,DS=If(function(){return arguments}())?If:function(t){return Zo(t)&&ES.call(t,"callee")&&!PS.call(t,"callee")};const Oc=DS;function RS(){return!1}var gg=typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,$f=gg&&typeof Xt=="object"&&Xt&&!Xt.nodeType&&Xt,IS=$f&&$f.exports===gg,Nf=IS?fo.Buffer:void 0,$S=Nf?Nf.isBuffer:void 0,NS=$S||RS;const bg=NS;var zS="[object Arguments]",BS="[object Array]",HS="[object Boolean]",LS="[object Date]",_S="[object Error]",FS="[object Function]",WS="[object Map]",jS="[object Number]",VS="[object Object]",qS="[object RegExp]",KS="[object Set]",US="[object String]",GS="[object WeakMap]",JS="[object ArrayBuffer]",XS="[object DataView]",YS="[object Float32Array]",QS="[object Float64Array]",ZS="[object Int8Array]",ew="[object Int16Array]",tw="[object Int32Array]",rw="[object Uint8Array]",nw="[object Uint8ClampedArray]",ow="[object Uint16Array]",iw="[object Uint32Array]",Be={};Be[YS]=Be[QS]=Be[ZS]=Be[ew]=Be[tw]=Be[rw]=Be[nw]=Be[ow]=Be[iw]=!0;Be[zS]=Be[BS]=Be[JS]=Be[HS]=Be[XS]=Be[LS]=Be[_S]=Be[FS]=Be[WS]=Be[jS]=Be[VS]=Be[qS]=Be[KS]=Be[US]=Be[GS]=!1;function sw(t){return Zo(t)&&pg(t.length)&&!!Be[ds(t)]}function lw(t){return function(e){return t(e)}}var xg=typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,Ei=xg&&typeof Xt=="object"&&Xt&&!Xt.nodeType&&Xt,aw=Ei&&Ei.exports===xg,Ba=aw&&lg.process,cw=function(){try{var t=Ei&&Ei.require&&Ei.require("util").types;return t||Ba&&Ba.binding&&Ba.binding("util")}catch{}}();const zf=cw;var Bf=zf&&zf.isTypedArray,dw=Bf?lw(Bf):sw;const yg=dw;var uw=Object.prototype,fw=uw.hasOwnProperty;function pw(t,e){var r=pl(t),n=!r&&Oc(t),o=!r&&!n&&bg(t),i=!r&&!n&&!o&&yg(t),s=r||n||o||i,l=s?AS(t.length,String):[],a=l.length;for(var c in t)(e||fw.call(t,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||fg(c,a)))&&l.push(c);return l}function hw(t,e){return function(r){return t(e(r))}}function mw(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var gw=Object.prototype,bw=gw.hasOwnProperty;function xw(t){if(!mr(t))return mw(t);var e=hg(t),r=[];for(var n in t)n=="constructor"&&(e||!bw.call(t,n))||r.push(n);return r}function vg(t){return Bd(t)?pw(t,!0):xw(t)}var yw=Nd(Object,"create");const Gi=yw;function vw(){this.__data__=Gi?Gi(null):{},this.size=0}function Cw(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Sw="__lodash_hash_undefined__",ww=Object.prototype,Tw=ww.hasOwnProperty;function kw(t){var e=this.__data__;if(Gi){var r=e[t];return r===Sw?void 0:r}return Tw.call(e,t)?e[t]:void 0}var Mw=Object.prototype,Aw=Mw.hasOwnProperty;function Ow(t){var e=this.__data__;return Gi?e[t]!==void 0:Aw.call(e,t)}var Ew="__lodash_hash_undefined__";function Pw(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Gi&&e===void 0?Ew:e,this}function no(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}no.prototype.clear=vw;no.prototype.delete=Cw;no.prototype.get=kw;no.prototype.has=Ow;no.prototype.set=Pw;function Dw(){this.__data__=[],this.size=0}function ea(t,e){for(var r=t.length;r--;)if(Zl(t[r][0],e))return r;return-1}var Rw=Array.prototype,Iw=Rw.splice;function $w(t){var e=this.__data__,r=ea(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Iw.call(e,r,1),--this.size,!0}function Nw(t){var e=this.__data__,r=ea(e,t);return r<0?void 0:e[r][1]}function zw(t){return ea(this.__data__,t)>-1}function Bw(t,e){var r=this.__data__,n=ea(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Gr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Gr.prototype.clear=Dw;Gr.prototype.delete=$w;Gr.prototype.get=Nw;Gr.prototype.has=zw;Gr.prototype.set=Bw;var Hw=Nd(fo,"Map");const Cg=Hw;function Lw(){this.size=0,this.__data__={hash:new no,map:new(Cg||Gr),string:new no}}function _w(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ta(t,e){var r=t.__data__;return _w(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Fw(t){var e=ta(this,t).delete(t);return this.size-=e?1:0,e}function Ww(t){return ta(this,t).get(t)}function jw(t){return ta(this,t).has(t)}function Vw(t,e){var r=ta(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function ei(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ei.prototype.clear=Lw;ei.prototype.delete=Fw;ei.prototype.get=Ww;ei.prototype.has=jw;ei.prototype.set=Vw;function qw(t){return t==null?"":dg(t)}var Kw=hw(Object.getPrototypeOf,Object);const Sg=Kw;var Uw="[object Object]",Gw=Function.prototype,Jw=Object.prototype,wg=Gw.toString,Xw=Jw.hasOwnProperty,Yw=wg.call(Object);function Qw(t){if(!Zo(t)||ds(t)!=Uw)return!1;var e=Sg(t);if(e===null)return!0;var r=Xw.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&wg.call(r)==Yw}function Zw(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}function eT(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:Zw(t,e,r)}var tT="\\ud800-\\udfff",rT="\\u0300-\\u036f",nT="\\ufe20-\\ufe2f",oT="\\u20d0-\\u20ff",iT=rT+nT+oT,sT="\\ufe0e\\ufe0f",lT="\\u200d",aT=RegExp("["+lT+tT+iT+sT+"]");function Tg(t){return aT.test(t)}function cT(t){return t.split("")}var kg="\\ud800-\\udfff",dT="\\u0300-\\u036f",uT="\\ufe20-\\ufe2f",fT="\\u20d0-\\u20ff",pT=dT+uT+fT,hT="\\ufe0e\\ufe0f",mT="["+kg+"]",Ec="["+pT+"]",Pc="\\ud83c[\\udffb-\\udfff]",gT="(?:"+Ec+"|"+Pc+")",Mg="[^"+kg+"]",Ag="(?:\\ud83c[\\udde6-\\uddff]){2}",Og="[\\ud800-\\udbff][\\udc00-\\udfff]",bT="\\u200d",Eg=gT+"?",Pg="["+hT+"]?",xT="(?:"+bT+"(?:"+[Mg,Ag,Og].join("|")+")"+Pg+Eg+")*",yT=Pg+Eg+xT,vT="(?:"+[Mg+Ec+"?",Ec,Ag,Og,mT].join("|")+")",CT=RegExp(Pc+"(?="+Pc+")|"+vT+yT,"g");function ST(t){return t.match(CT)||[]}function wT(t){return Tg(t)?ST(t):cT(t)}function TT(t){return function(e){e=qw(e);var r=Tg(e)?wT(e):void 0,n=r?r[0]:e.charAt(0),o=r?eT(r,1).join(""):e.slice(1);return n[t]()+o}}var kT=TT("toUpperCase");const MT=kT;function AT(){this.__data__=new Gr,this.size=0}function OT(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function ET(t){return this.__data__.get(t)}function PT(t){return this.__data__.has(t)}var DT=200;function RT(t,e){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!Cg||n.length<DT-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ei(n)}return r.set(t,e),this.size=r.size,this}function ti(t){var e=this.__data__=new Gr(t);this.size=e.size}ti.prototype.clear=AT;ti.prototype.delete=OT;ti.prototype.get=ET;ti.prototype.has=PT;ti.prototype.set=RT;var Dg=typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,Hf=Dg&&typeof Xt=="object"&&Xt&&!Xt.nodeType&&Xt,IT=Hf&&Hf.exports===Dg,Lf=IT?fo.Buffer:void 0,_f=Lf?Lf.allocUnsafe:void 0;function $T(t,e){if(e)return t.slice();var r=t.length,n=_f?_f(r):new t.constructor(r);return t.copy(n),n}var NT=fo.Uint8Array;const Ff=NT;function zT(t){var e=new t.constructor(t.byteLength);return new Ff(e).set(new Ff(t)),e}function BT(t,e){var r=e?zT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function HT(t){return typeof t.constructor=="function"&&!hg(t)?rS(Sg(t)):{}}function LT(t){return function(e,r,n){for(var o=-1,i=Object(e),s=n(e),l=s.length;l--;){var a=s[t?l:++o];if(r(i[a],a,i)===!1)break}return e}}var _T=LT();const FT=_T;var WT=function(){return fo.Date.now()};const Ha=WT;var jT="Expected a function",VT=Math.max,qT=Math.min;function KT(t,e,r){var n,o,i,s,l,a,c=0,d=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(jT);e=Ef(e)||0,mr(r)&&(d=!!r.leading,u="maxWait"in r,i=u?VT(Ef(r.maxWait)||0,e):i,f="trailing"in r?!!r.trailing:f);function h(v){var k=n,B=o;return n=o=void 0,c=v,s=t.apply(B,k),s}function p(v){return c=v,l=setTimeout(x,e),d?h(v):s}function m(v){var k=v-a,B=v-c,P=e-k;return u?qT(P,i-B):P}function g(v){var k=v-a,B=v-c;return a===void 0||k>=e||k<0||u&&B>=i}function x(){var v=Ha();if(g(v))return w(v);l=setTimeout(x,m(v))}function w(v){return l=void 0,f&&n?h(v):(n=o=void 0,s)}function O(){l!==void 0&&clearTimeout(l),c=0,n=a=o=l=void 0}function b(){return l===void 0?s:w(Ha())}function A(){var v=Ha(),k=g(v);if(n=arguments,o=this,a=v,k){if(l===void 0)return p(a);if(u)return clearTimeout(l),l=setTimeout(x,e),h(a)}return l===void 0&&(l=setTimeout(x,e)),s}return A.cancel=O,A.flush=b,A}function Dc(t,e,r){(r!==void 0&&!Zl(t[e],r)||r===void 0&&!(e in t))&&zd(t,e,r)}function UT(t){return Zo(t)&&Bd(t)}function Rc(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function GT(t){return vS(t,vg(t))}function JT(t,e,r,n,o,i,s){var l=Rc(t,r),a=Rc(e,r),c=s.get(a);if(c){Dc(t,r,c);return}var d=i?i(l,a,r+"",t,e,s):void 0,u=d===void 0;if(u){var f=pl(a),h=!f&&bg(a),p=!f&&!h&&yg(a);d=a,f||h||p?pl(l)?d=l:UT(l)?d=oS(l):h?(u=!1,d=$T(a,!0)):p?(u=!1,d=BT(a,!0)):d=[]:Qw(a)||Oc(a)?(d=l,Oc(l)?d=GT(l):(!mr(l)||$d(l))&&(d=HT(a))):u=!1}u&&(s.set(a,d),o(d,a,n,i,s),s.delete(a)),Dc(t,r,d)}function Rg(t,e,r,n,o){t!==e&&FT(e,function(i,s){if(o||(o=new ti),mr(i))JT(t,e,s,r,Rg,n,o);else{var l=n?n(Rc(t,s),i,s+"",t,e,o):void 0;l===void 0&&(l=i),Dc(t,s,l)}},vg)}var XT=kS(function(t,e,r){Rg(t,e,r)});const pi=XT;var YT="Expected a function";function La(t,e,r){var n=!0,o=!0;if(typeof t!="function")throw new TypeError(YT);return mr(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),KT(t,e,{leading:n,maxWait:e,trailing:o})}const us={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:QT,fontFamily:ZT,lineHeight:ek}=us,Ig=le("body",`
 margin: 0;
 font-size: ${QT};
 font-family: ${ZT};
 line-height: ${ek};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[le("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),oo="n-config-provider",Ji="naive-ui-style";function fs(t,e,r,n,o,i){const s=cs(),l=Dt(oo,null);if(r){const c=()=>{const d=i==null?void 0:i.value;r.mount({id:d===void 0?e:d+e,head:!0,props:{bPrefix:d?`.${d}-`:void 0},anchorMetaName:Ji,ssr:s}),l!=null&&l.preflightStyleDisabled||Ig.mount({id:"n-global",head:!0,anchorMetaName:Ji,ssr:s})};s?c():Wl(c)}return Ee(()=>{var c;const{theme:{common:d,self:u,peers:f={}}={},themeOverrides:h={},builtinThemeOverrides:p={}}=o,{common:m,peers:g}=h,{common:x=void 0,[t]:{common:w=void 0,self:O=void 0,peers:b={}}={}}=(l==null?void 0:l.mergedThemeRef.value)||{},{common:A=void 0,[t]:v={}}=(l==null?void 0:l.mergedThemeOverridesRef.value)||{},{common:k,peers:B={}}=v,P=pi({},d||w||x||n.common,A,k,m),F=pi((c=u||O||n.self)===null||c===void 0?void 0:c(P),p,v,h);return{common:P,self:F,peers:pi({},n.peers,b,f),peerOverrides:pi({},p.peers,B,g)}})}fs.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const ml="n";function $g(t={},e={defaultBordered:!0}){const r=Dt(oo,null);return{inlineThemeDisabled:r==null?void 0:r.inlineThemeDisabled,mergedRtlRef:r==null?void 0:r.mergedRtlRef,mergedComponentPropsRef:r==null?void 0:r.mergedComponentPropsRef,mergedBreakpointsRef:r==null?void 0:r.mergedBreakpointsRef,mergedBorderedRef:Ee(()=>{var n,o;const{bordered:i}=t;return i!==void 0?i:(o=(n=r==null?void 0:r.mergedBorderedRef.value)!==null&&n!==void 0?n:e.defaultBordered)!==null&&o!==void 0?o:!0}),mergedClsPrefixRef:r?r.mergedClsPrefixRef:Qx(ml),namespaceRef:Ee(()=>r==null?void 0:r.mergedNamespaceRef.value)}}function ra(t,e,r){if(!e)return;const n=cs(),o=Dt(oo,null),i=()=>{const s=r.value;e.mount({id:s===void 0?t:s+t,head:!0,anchorMetaName:Ji,props:{bPrefix:s?`.${s}-`:void 0},ssr:n}),o!=null&&o.preflightStyleDisabled||Ig.mount({id:"n-global",head:!0,anchorMetaName:Ji,ssr:n})};n?i():Wl(i)}function Ng(t,e,r,n){var o;r||Gm("useThemeClass","cssVarsRef is not passed");const i=(o=Dt(oo,null))===null||o===void 0?void 0:o.mergedThemeHashRef,s=Ie(""),l=cs();let a;const c=`__${t}`,d=()=>{let u=c;const f=e?e.value:void 0,h=i==null?void 0:i.value;h&&(u+="-"+h),f&&(u+="-"+f);const{themeOverrides:p,builtinThemeOverrides:m}=n;p&&(u+="-"+Ki(JSON.stringify(p))),m&&(u+="-"+Ki(JSON.stringify(m))),s.value=u,a=()=>{const g=r.value;let x="";for(const w in g)x+=`${w}: ${g[w]};`;le(`.${u}`,x).mount({id:u,ssr:l}),a=void 0}};return Vl(()=>{d()}),{themeClass:s,onRender:()=>{a==null||a()}}}function tk(t,e,r){if(!e)return;const n=cs(),o=Ee(()=>{const{value:s}=e;if(!s)return;const l=s[t];if(l)return l}),i=()=>{Vl(()=>{const{value:s}=r,l=`${s}${t}Rtl`;if(MC(l,n))return;const{value:a}=o;a&&a.style.mount({id:l,head:!0,anchorMetaName:Ji,props:{bPrefix:s?`.${s}-`:void 0},ssr:n})})};return n?i():Wl(i),o}const rk=mt({name:"Add",render(){return q("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},q("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}});function nk(t,e){return mt({name:MT(t),setup(){var r;const n=(r=Dt(oo,null))===null||r===void 0?void 0:r.mergedIconsRef;return()=>{var o;const i=(o=n==null?void 0:n.value)===null||o===void 0?void 0:o[t];return i?i():e}}})}const ok=nk("close",q("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},q("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},q("g",{fill:"currentColor","fill-rule":"nonzero"},q("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),zg=mt({name:"BaseIconSwitchTransition",setup(t,{slots:e}){const r=zC();return()=>q(Xl,{name:"icon-switch-transition",appear:r.value},e)}}),ik=mt({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(t,{slots:e}){function r(l){t.width?l.style.maxWidth=`${l.offsetWidth}px`:l.style.maxHeight=`${l.offsetHeight}px`,l.offsetWidth}function n(l){t.width?l.style.maxWidth="0":l.style.maxHeight="0",l.offsetWidth;const{onLeave:a}=t;a&&a()}function o(l){t.width?l.style.maxWidth="":l.style.maxHeight="";const{onAfterLeave:a}=t;a&&a()}function i(l){if(l.style.transition="none",t.width){const a=l.offsetWidth;l.style.maxWidth="0",l.offsetWidth,l.style.transition="",l.style.maxWidth=`${a}px`}else if(t.reverse)l.style.maxHeight=`${l.offsetHeight}px`,l.offsetHeight,l.style.transition="",l.style.maxHeight="0";else{const a=l.offsetHeight;l.style.maxHeight="0",l.offsetWidth,l.style.transition="",l.style.maxHeight=`${a}px`}l.offsetWidth}function s(l){var a;t.width?l.style.maxWidth="":t.reverse||(l.style.maxHeight=""),(a=t.onAfterEnter)===null||a===void 0||a.call(t)}return()=>{const{group:l,width:a,appear:c,mode:d}=t,u=l?Um:Xl,f={name:a?"fade-in-width-expand-transition":"fade-in-height-expand-transition",appear:c,onEnter:i,onAfterEnter:s,onBeforeLeave:r,onLeave:n,onAfterLeave:o};return l||(f.mode=d),q(u,f,e)}}}),sk=U("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[le("svg",`
 height: 1em;
 width: 1em;
 `)]),Bg=mt({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(t){ra("-base-icon",sk,Lt(t,"clsPrefix"))},render(){return q("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),lk=U("base-close",`
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`,[re("absolute",`
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `),le("&::before",`
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `),fl("disabled",[le("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),le("&:hover::before",`
 background-color: var(--n-close-color-hover);
 `),le("&:focus::before",`
 background-color: var(--n-close-color-hover);
 `),le("&:active",`
 color: var(--n-close-icon-color-pressed);
 `),le("&:active::before",`
 background-color: var(--n-close-color-pressed);
 `)]),re("disabled",`
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `),re("round",[le("&::before",`
 border-radius: 50%;
 `)])]),ak=mt({name:"BaseClose",props:{isButtonTag:{type:Boolean,default:!0},clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(t){return ra("-base-close",lk,Lt(t,"clsPrefix")),()=>{const{clsPrefix:e,disabled:r,absolute:n,round:o,isButtonTag:i}=t;return q(i?"button":"div",{type:i?"button":void 0,tabindex:r||!t.focusable?-1:0,"aria-disabled":r,"aria-label":"close",role:i?void 0:"button",disabled:r,class:[`${e}-base-close`,n&&`${e}-base-close--absolute`,r&&`${e}-base-close--disabled`,o&&`${e}-base-close--round`],onMousedown:l=>{t.focusable||l.preventDefault()},onClick:t.onClick},q(Bg,{clsPrefix:e},{default:()=>q(ok,null)}))}}}),{cubicBezierEaseInOut:ck}=us;function Ic({originalTransform:t="",left:e=0,top:r=0,transition:n=`all .3s ${ck} !important`}={}){return[le("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:t+" scale(0.75)",left:e,top:r,opacity:0}),le("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${t}`,left:e,top:r,opacity:1}),le("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:e,top:r,transition:n})]}const dk=le([le("@keyframes rotator",`
 0% {
 -webkit-transform: rotate(0deg);
 transform: rotate(0deg);
 }
 100% {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }`),U("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[Te("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[Ic()]),Te("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Ic({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),Te("container",`
 animation: rotator 3s linear infinite both;
 `,[Te("icon",`
 height: 1em;
 width: 1em;
 `)])])]),_a="1.6s",uk={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},fk=mt({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},uk),setup(t){ra("-base-loading",dk,Lt(t,"clsPrefix"))},render(){const{clsPrefix:t,radius:e,strokeWidth:r,stroke:n,scale:o}=this,i=e/o;return q("div",{class:`${t}-base-loading`,role:"img","aria-label":"loading"},q(zg,null,{default:()=>this.show?q("div",{key:"icon",class:`${t}-base-loading__transition-wrapper`},q("div",{class:`${t}-base-loading__container`},q("svg",{class:`${t}-base-loading__icon`,viewBox:`0 0 ${2*i} ${2*i}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},q("g",null,q("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${i} ${i};270 ${i} ${i}`,begin:"0s",dur:_a,fill:"freeze",repeatCount:"indefinite"}),q("circle",{class:`${t}-base-loading__icon`,fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:i,cy:i,r:e-r/2,"stroke-dasharray":5.67*e,"stroke-dashoffset":18.48*e},q("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${i} ${i};135 ${i} ${i};450 ${i} ${i}`,begin:"0s",dur:_a,fill:"freeze",repeatCount:"indefinite"}),q("animate",{attributeName:"stroke-dashoffset",values:`${5.67*e};${1.42*e};${5.67*e}`,begin:"0s",dur:_a,fill:"freeze",repeatCount:"indefinite"})))))):q("div",{key:"placeholder",class:`${t}-base-loading__placeholder`},this.$slots)}))}}),K={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},pk=qr(K.neutralBase),Hg=qr(K.neutralInvertBase),hk="rgba("+Hg.slice(0,3).join(", ")+", ";function ke(t){return hk+String(t)+")"}function mk(t){const e=Array.from(Hg);return e[3]=Number(t),ne(pk,e)}const gk=Object.assign(Object.assign({name:"common"},us),{baseColor:K.neutralBase,primaryColor:K.primaryDefault,primaryColorHover:K.primaryHover,primaryColorPressed:K.primaryActive,primaryColorSuppl:K.primarySuppl,infoColor:K.infoDefault,infoColorHover:K.infoHover,infoColorPressed:K.infoActive,infoColorSuppl:K.infoSuppl,successColor:K.successDefault,successColorHover:K.successHover,successColorPressed:K.successActive,successColorSuppl:K.successSuppl,warningColor:K.warningDefault,warningColorHover:K.warningHover,warningColorPressed:K.warningActive,warningColorSuppl:K.warningSuppl,errorColor:K.errorDefault,errorColorHover:K.errorHover,errorColorPressed:K.errorActive,errorColorSuppl:K.errorSuppl,textColorBase:K.neutralTextBase,textColor1:ke(K.alpha1),textColor2:ke(K.alpha2),textColor3:ke(K.alpha3),textColorDisabled:ke(K.alpha4),placeholderColor:ke(K.alpha4),placeholderColorDisabled:ke(K.alpha5),iconColor:ke(K.alpha4),iconColorDisabled:ke(K.alpha5),iconColorHover:ke(Number(K.alpha4)*1.25),iconColorPressed:ke(Number(K.alpha4)*.8),opacity1:K.alpha1,opacity2:K.alpha2,opacity3:K.alpha3,opacity4:K.alpha4,opacity5:K.alpha5,dividerColor:ke(K.alphaDivider),borderColor:ke(K.alphaBorder),closeIconColorHover:ke(Number(K.alphaClose)),closeIconColor:ke(Number(K.alphaClose)),closeIconColorPressed:ke(Number(K.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:ke(K.alpha4),clearColorHover:Ge(ke(K.alpha4),{alpha:1.25}),clearColorPressed:Ge(ke(K.alpha4),{alpha:.8}),scrollbarColor:ke(K.alphaScrollbar),scrollbarColorHover:ke(K.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:ke(K.alphaProgressRail),railColor:ke(K.alphaRail),popoverColor:K.neutralPopover,tableColor:K.neutralCard,cardColor:K.neutralCard,modalColor:K.neutralModal,bodyColor:K.neutralBody,tagColor:mk(K.alphaTag),avatarColor:ke(K.alphaAvatar),invertedColor:K.neutralBase,inputColor:ke(K.alphaInput),codeColor:ke(K.alphaCode),tabColor:ke(K.alphaTab),actionColor:ke(K.alphaAction),tableHeaderColor:ke(K.alphaAction),hoverColor:ke(K.alphaPending),tableColorHover:ke(K.alphaTablePending),tableColorStriped:ke(K.alphaTableStriped),pressedColor:ke(K.alphaPressed),opacityDisabled:K.alphaDisabled,inputColorDisabled:ke(K.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),_=gk,oe={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},bk=qr(oe.neutralBase),Lg=qr(oe.neutralInvertBase),xk="rgba("+Lg.slice(0,3).join(", ")+", ";function Wf(t){return xk+String(t)+")"}function xt(t){const e=Array.from(Lg);return e[3]=Number(t),ne(bk,e)}const yk=Object.assign(Object.assign({name:"common"},us),{baseColor:oe.neutralBase,primaryColor:oe.primaryDefault,primaryColorHover:oe.primaryHover,primaryColorPressed:oe.primaryActive,primaryColorSuppl:oe.primarySuppl,infoColor:oe.infoDefault,infoColorHover:oe.infoHover,infoColorPressed:oe.infoActive,infoColorSuppl:oe.infoSuppl,successColor:oe.successDefault,successColorHover:oe.successHover,successColorPressed:oe.successActive,successColorSuppl:oe.successSuppl,warningColor:oe.warningDefault,warningColorHover:oe.warningHover,warningColorPressed:oe.warningActive,warningColorSuppl:oe.warningSuppl,errorColor:oe.errorDefault,errorColorHover:oe.errorHover,errorColorPressed:oe.errorActive,errorColorSuppl:oe.errorSuppl,textColorBase:oe.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:xt(oe.alpha4),placeholderColor:xt(oe.alpha4),placeholderColorDisabled:xt(oe.alpha5),iconColor:xt(oe.alpha4),iconColorHover:Ge(xt(oe.alpha4),{lightness:.75}),iconColorPressed:Ge(xt(oe.alpha4),{lightness:.9}),iconColorDisabled:xt(oe.alpha5),opacity1:oe.alpha1,opacity2:oe.alpha2,opacity3:oe.alpha3,opacity4:oe.alpha4,opacity5:oe.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:xt(Number(oe.alphaClose)),closeIconColorHover:xt(Number(oe.alphaClose)),closeIconColorPressed:xt(Number(oe.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:xt(oe.alpha4),clearColorHover:Ge(xt(oe.alpha4),{lightness:.75}),clearColorPressed:Ge(xt(oe.alpha4),{lightness:.9}),scrollbarColor:Wf(oe.alphaScrollbar),scrollbarColorHover:Wf(oe.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:xt(oe.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:oe.neutralPopover,tableColor:oe.neutralCard,cardColor:oe.neutralCard,modalColor:oe.neutralModal,bodyColor:oe.neutralBody,tagColor:"#eee",avatarColor:xt(oe.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:xt(oe.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:oe.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Hd=yk,vk={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},_g=t=>{const{textColorDisabled:e,iconColor:r,textColor2:n,fontSizeSmall:o,fontSizeMedium:i,fontSizeLarge:s,fontSizeHuge:l}=t;return Object.assign(Object.assign({},vk),{fontSizeSmall:o,fontSizeMedium:i,fontSizeLarge:s,fontSizeHuge:l,textColor:e,iconColor:r,extraTextColor:n})},Ck={name:"Empty",common:Hd,self:_g},Sk=Ck,wk={name:"Empty",common:_,self:_g},po=wk,Tk={railInsetHorizontal:"auto 2px 4px 2px",railInsetVertical:"2px 4px 2px auto",railColor:"transparent"},kk=t=>{const{scrollbarColor:e,scrollbarColorHover:r,scrollbarHeight:n,scrollbarWidth:o,scrollbarBorderRadius:i}=t;return Object.assign(Object.assign({},Tk),{height:n,width:o,borderRadius:i,color:e,colorHover:r})},Mk={name:"Scrollbar",common:_,self:kk},qt=Mk,Ak={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},Ok=t=>{const{borderRadius:e,popoverColor:r,textColor3:n,dividerColor:o,textColor2:i,primaryColorPressed:s,textColorDisabled:l,primaryColor:a,opacityDisabled:c,hoverColor:d,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:h,fontSizeHuge:p,heightSmall:m,heightMedium:g,heightLarge:x,heightHuge:w}=t;return Object.assign(Object.assign({},Ak),{optionFontSizeSmall:u,optionFontSizeMedium:f,optionFontSizeLarge:h,optionFontSizeHuge:p,optionHeightSmall:m,optionHeightMedium:g,optionHeightLarge:x,optionHeightHuge:w,borderRadius:e,color:r,groupHeaderTextColor:n,actionDividerColor:o,optionTextColor:i,optionTextColorPressed:s,optionTextColorDisabled:l,optionTextColorActive:a,optionOpacityDisabled:c,optionCheckColor:a,optionColorPending:d,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:d,actionTextColor:i,loadingColor:a})},Ek={name:"InternalSelectMenu",common:_,peers:{Scrollbar:qt,Empty:po},self:Ok},ps=Ek,Pk=U("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),Dk=mt({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(t){ra("-base-wave",Pk,Lt(t,"clsPrefix"));const e=Ie(null),r=Ie(!1);let n=null;return kn(()=>{n!==null&&window.clearTimeout(n)}),{active:r,selfRef:e,play(){n!==null&&(window.clearTimeout(n),r.value=!1,n=null),Eo(()=>{var o;(o=e.value)===null||o===void 0||o.offsetHeight,r.value=!0,n=window.setTimeout(()=>{r.value=!1,n=null},1e3)})}}},render(){const{clsPrefix:t}=this;return q("div",{ref:"selfRef","aria-hidden":!0,class:[`${t}-base-wave`,this.active&&`${t}-base-wave--active`]})}}),Rk={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},Ik=t=>{const{boxShadow2:e,popoverColor:r,textColor2:n,borderRadius:o,fontSize:i,dividerColor:s}=t;return Object.assign(Object.assign({},Rk),{fontSize:i,borderRadius:o,color:r,dividerColor:s,textColor:n,boxShadow:e})},$k={name:"Popover",common:_,self:Ik},ho=$k,Nk={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"},zk={name:"Tag",common:_,self(t){const{textColor2:e,primaryColorHover:r,primaryColorPressed:n,primaryColor:o,infoColor:i,successColor:s,warningColor:l,errorColor:a,baseColor:c,borderColor:d,tagColor:u,opacityDisabled:f,closeIconColor:h,closeIconColorHover:p,closeIconColorPressed:m,closeColorHover:g,closeColorPressed:x,borderRadiusSmall:w,fontSizeMini:O,fontSizeTiny:b,fontSizeSmall:A,fontSizeMedium:v,heightMini:k,heightTiny:B,heightSmall:P,heightMedium:F,buttonColor2Hover:V,buttonColor2Pressed:I,fontWeightStrong:Y}=t;return Object.assign(Object.assign({},Nk),{closeBorderRadius:w,heightTiny:k,heightSmall:B,heightMedium:P,heightLarge:F,borderRadius:w,opacityDisabled:f,fontSizeTiny:O,fontSizeSmall:b,fontSizeMedium:A,fontSizeLarge:v,fontWeightStrong:Y,textColorCheckable:e,textColorHoverCheckable:e,textColorPressedCheckable:e,textColorChecked:c,colorCheckable:"#0000",colorHoverCheckable:V,colorPressedCheckable:I,colorChecked:o,colorCheckedHover:r,colorCheckedPressed:n,border:`1px solid ${d}`,textColor:e,color:u,colorBordered:"#0000",closeIconColor:h,closeIconColorHover:p,closeIconColorPressed:m,closeColorHover:g,closeColorPressed:x,borderPrimary:`1px solid ${X(o,{alpha:.3})}`,textColorPrimary:o,colorPrimary:X(o,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:Ge(o,{lightness:.7}),closeIconColorHoverPrimary:Ge(o,{lightness:.7}),closeIconColorPressedPrimary:Ge(o,{lightness:.7}),closeColorHoverPrimary:X(o,{alpha:.16}),closeColorPressedPrimary:X(o,{alpha:.12}),borderInfo:`1px solid ${X(i,{alpha:.3})}`,textColorInfo:i,colorInfo:X(i,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:Ge(i,{alpha:.7}),closeIconColorHoverInfo:Ge(i,{alpha:.7}),closeIconColorPressedInfo:Ge(i,{alpha:.7}),closeColorHoverInfo:X(i,{alpha:.16}),closeColorPressedInfo:X(i,{alpha:.12}),borderSuccess:`1px solid ${X(s,{alpha:.3})}`,textColorSuccess:s,colorSuccess:X(s,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:Ge(s,{alpha:.7}),closeIconColorHoverSuccess:Ge(s,{alpha:.7}),closeIconColorPressedSuccess:Ge(s,{alpha:.7}),closeColorHoverSuccess:X(s,{alpha:.16}),closeColorPressedSuccess:X(s,{alpha:.12}),borderWarning:`1px solid ${X(l,{alpha:.3})}`,textColorWarning:l,colorWarning:X(l,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:Ge(l,{alpha:.7}),closeIconColorHoverWarning:Ge(l,{alpha:.7}),closeIconColorPressedWarning:Ge(l,{alpha:.7}),closeColorHoverWarning:X(l,{alpha:.16}),closeColorPressedWarning:X(l,{alpha:.11}),borderError:`1px solid ${X(a,{alpha:.3})}`,textColorError:a,colorError:X(a,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:Ge(a,{alpha:.7}),closeIconColorHoverError:Ge(a,{alpha:.7}),closeIconColorPressedError:Ge(a,{alpha:.7}),closeColorHoverError:X(a,{alpha:.16}),closeColorPressedError:X(a,{alpha:.12})})}},Fg=zk,Bk={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},Hk={name:"InternalSelection",common:_,peers:{Popover:ho},self(t){const{borderRadius:e,textColor2:r,textColorDisabled:n,inputColor:o,inputColorDisabled:i,primaryColor:s,primaryColorHover:l,warningColor:a,warningColorHover:c,errorColor:d,errorColorHover:u,iconColor:f,iconColorDisabled:h,clearColor:p,clearColorHover:m,clearColorPressed:g,placeholderColor:x,placeholderColorDisabled:w,fontSizeTiny:O,fontSizeSmall:b,fontSizeMedium:A,fontSizeLarge:v,heightTiny:k,heightSmall:B,heightMedium:P,heightLarge:F}=t;return Object.assign(Object.assign({},Bk),{fontSizeTiny:O,fontSizeSmall:b,fontSizeMedium:A,fontSizeLarge:v,heightTiny:k,heightSmall:B,heightMedium:P,heightLarge:F,borderRadius:e,textColor:r,textColorDisabled:n,placeholderColor:x,placeholderColorDisabled:w,color:o,colorDisabled:i,colorActive:X(s,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${l}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${l}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${X(s,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${X(s,{alpha:.4})}`,caretColor:s,arrowColor:f,arrowColorDisabled:h,loadingColor:s,borderWarning:`1px solid ${a}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${a}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${X(a,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${X(a,{alpha:.4})}`,colorActiveWarning:X(a,{alpha:.1}),caretColorWarning:a,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${u}`,borderActiveError:`1px solid ${d}`,borderFocusError:`1px solid ${u}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${X(d,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${X(d,{alpha:.4})}`,colorActiveError:X(d,{alpha:.1}),caretColorError:d,clearColor:p,clearColorHover:m,clearColorPressed:g})}},Ld=Hk,{cubicBezierEaseInOut:Zr}=us;function Lk({duration:t=".2s",delay:e=".1s"}={}){return[le("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),le("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),le("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${t} ${Zr},
 max-width ${t} ${Zr} ${e},
 margin-left ${t} ${Zr} ${e},
 margin-right ${t} ${Zr} ${e};
 `),le("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${t} ${Zr} ${e},
 max-width ${t} ${Zr},
 margin-left ${t} ${Zr},
 margin-right ${t} ${Zr};
 `)]}const _k={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},Fk={name:"Alert",common:_,self(t){const{lineHeight:e,borderRadius:r,fontWeightStrong:n,dividerColor:o,inputColor:i,textColor1:s,textColor2:l,closeColorHover:a,closeColorPressed:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,infoColorSuppl:h,successColorSuppl:p,warningColorSuppl:m,errorColorSuppl:g,fontSize:x}=t;return Object.assign(Object.assign({},_k),{fontSize:x,lineHeight:e,titleFontWeight:n,borderRadius:r,border:`1px solid ${o}`,color:i,titleTextColor:s,iconColor:l,contentTextColor:l,closeBorderRadius:r,closeColorHover:a,closeColorPressed:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,borderInfo:`1px solid ${X(h,{alpha:.35})}`,colorInfo:X(h,{alpha:.25}),titleTextColorInfo:s,iconColorInfo:h,contentTextColorInfo:l,closeColorHoverInfo:a,closeColorPressedInfo:c,closeIconColorInfo:d,closeIconColorHoverInfo:u,closeIconColorPressedInfo:f,borderSuccess:`1px solid ${X(p,{alpha:.35})}`,colorSuccess:X(p,{alpha:.25}),titleTextColorSuccess:s,iconColorSuccess:p,contentTextColorSuccess:l,closeColorHoverSuccess:a,closeColorPressedSuccess:c,closeIconColorSuccess:d,closeIconColorHoverSuccess:u,closeIconColorPressedSuccess:f,borderWarning:`1px solid ${X(m,{alpha:.35})}`,colorWarning:X(m,{alpha:.25}),titleTextColorWarning:s,iconColorWarning:m,contentTextColorWarning:l,closeColorHoverWarning:a,closeColorPressedWarning:c,closeIconColorWarning:d,closeIconColorHoverWarning:u,closeIconColorPressedWarning:f,borderError:`1px solid ${X(g,{alpha:.35})}`,colorError:X(g,{alpha:.25}),titleTextColorError:s,iconColorError:g,contentTextColorError:l,closeColorHoverError:a,closeColorPressedError:c,closeIconColorError:d,closeIconColorHoverError:u,closeIconColorPressedError:f})}},Wk=Fk,jk={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},Vk=t=>{const{borderRadius:e,railColor:r,primaryColor:n,primaryColorHover:o,primaryColorPressed:i,textColor2:s}=t;return Object.assign(Object.assign({},jk),{borderRadius:e,railColor:r,railColorActive:n,linkColor:X(n,{alpha:.15}),linkTextColor:s,linkTextColorHover:o,linkTextColorPressed:i,linkTextColorActive:n})},qk={name:"Anchor",common:_,self:Vk},Kk=qk,Uk=Ql&&"chrome"in window;Ql&&navigator.userAgent.includes("Firefox");const Gk=Ql&&navigator.userAgent.includes("Safari")&&!Uk,Jk={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},Xk={name:"Input",common:_,self(t){const{textColor2:e,textColor3:r,textColorDisabled:n,primaryColor:o,primaryColorHover:i,inputColor:s,inputColorDisabled:l,warningColor:a,warningColorHover:c,errorColor:d,errorColorHover:u,borderRadius:f,lineHeight:h,fontSizeTiny:p,fontSizeSmall:m,fontSizeMedium:g,fontSizeLarge:x,heightTiny:w,heightSmall:O,heightMedium:b,heightLarge:A,clearColor:v,clearColorHover:k,clearColorPressed:B,placeholderColor:P,placeholderColorDisabled:F,iconColor:V,iconColorDisabled:I,iconColorHover:Y,iconColorPressed:pe}=t;return Object.assign(Object.assign({},Jk),{countTextColorDisabled:n,countTextColor:r,heightTiny:w,heightSmall:O,heightMedium:b,heightLarge:A,fontSizeTiny:p,fontSizeSmall:m,fontSizeMedium:g,fontSizeLarge:x,lineHeight:h,lineHeightTextarea:h,borderRadius:f,iconSize:"16px",groupLabelColor:s,textColor:e,textColorDisabled:n,textDecorationColor:e,groupLabelTextColor:e,caretColor:o,placeholderColor:P,placeholderColorDisabled:F,color:s,colorDisabled:l,colorFocus:X(o,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${i}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${i}`,boxShadowFocus:`0 0 8px 0 ${X(o,{alpha:.3})}`,loadingColor:o,loadingColorWarning:a,borderWarning:`1px solid ${a}`,borderHoverWarning:`1px solid ${c}`,colorFocusWarning:X(a,{alpha:.1}),borderFocusWarning:`1px solid ${c}`,boxShadowFocusWarning:`0 0 8px 0 ${X(a,{alpha:.3})}`,caretColorWarning:a,loadingColorError:d,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${u}`,colorFocusError:X(d,{alpha:.1}),borderFocusError:`1px solid ${u}`,boxShadowFocusError:`0 0 8px 0 ${X(d,{alpha:.3})}`,caretColorError:d,clearColor:v,clearColorHover:k,clearColorPressed:B,iconColor:V,iconColorDisabled:I,iconColorHover:Y,iconColorPressed:pe,suffixTextColor:e})}},ar=Xk;function Yk(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const Qk={name:"AutoComplete",common:_,peers:{InternalSelectMenu:ps,Input:ar},self:Yk},Zk=Qk,eM=t=>{const{borderRadius:e,avatarColor:r,cardColor:n,fontSize:o,heightTiny:i,heightSmall:s,heightMedium:l,heightLarge:a,heightHuge:c,modalColor:d,popoverColor:u}=t;return{borderRadius:e,fontSize:o,border:`2px solid ${n}`,heightTiny:i,heightSmall:s,heightMedium:l,heightLarge:a,heightHuge:c,color:ne(n,r),colorModal:ne(d,r),colorPopover:ne(u,r)}},tM={name:"Avatar",common:_,self:eM},Wg=tM,rM=()=>({gap:"-12px"}),nM={name:"AvatarGroup",common:_,peers:{Avatar:Wg},self:rM},oM=nM,iM={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},sM={name:"BackTop",common:_,self(t){const{popoverColor:e,textColor2:r,primaryColorHover:n,primaryColorPressed:o}=t;return Object.assign(Object.assign({},iM),{color:e,textColor:r,iconColor:r,iconColorHover:n,iconColorPressed:o,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},lM=sM,aM={name:"Badge",common:_,self(t){const{errorColorSuppl:e,infoColorSuppl:r,successColorSuppl:n,warningColorSuppl:o,fontFamily:i}=t;return{color:e,colorInfo:r,colorSuccess:n,colorError:e,colorWarning:o,fontSize:"12px",fontFamily:i}}},cM=aM,dM={fontWeightActive:"400"},uM=t=>{const{fontSize:e,textColor3:r,textColor2:n,borderRadius:o,buttonColor2Hover:i,buttonColor2Pressed:s}=t;return Object.assign(Object.assign({},dM),{fontSize:e,itemLineHeight:"1.25",itemTextColor:r,itemTextColorHover:n,itemTextColorPressed:n,itemTextColorActive:n,itemBorderRadius:o,itemColorHover:i,itemColorPressed:s,separatorColor:r})},fM={name:"Breadcrumb",common:_,self:uM},pM=fM;function $n(t){return ne(t,[255,255,255,.16])}function Ns(t){return ne(t,[0,0,0,.12])}const hM="n-button-group",mM={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},jg=t=>{const{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:o,borderRadius:i,fontSizeTiny:s,fontSizeSmall:l,fontSizeMedium:a,fontSizeLarge:c,opacityDisabled:d,textColor2:u,textColor3:f,primaryColorHover:h,primaryColorPressed:p,borderColor:m,primaryColor:g,baseColor:x,infoColor:w,infoColorHover:O,infoColorPressed:b,successColor:A,successColorHover:v,successColorPressed:k,warningColor:B,warningColorHover:P,warningColorPressed:F,errorColor:V,errorColorHover:I,errorColorPressed:Y,fontWeight:pe,buttonColor2:Ce,buttonColor2Hover:ce,buttonColor2Pressed:J,fontWeightStrong:se}=t;return Object.assign(Object.assign({},mM),{heightTiny:e,heightSmall:r,heightMedium:n,heightLarge:o,borderRadiusTiny:i,borderRadiusSmall:i,borderRadiusMedium:i,borderRadiusLarge:i,fontSizeTiny:s,fontSizeSmall:l,fontSizeMedium:a,fontSizeLarge:c,opacityDisabled:d,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:Ce,colorSecondaryHover:ce,colorSecondaryPressed:J,colorTertiary:Ce,colorTertiaryHover:ce,colorTertiaryPressed:J,colorQuaternary:"#0000",colorQuaternaryHover:ce,colorQuaternaryPressed:J,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:u,textColorTertiary:f,textColorHover:h,textColorPressed:p,textColorFocus:h,textColorDisabled:u,textColorText:u,textColorTextHover:h,textColorTextPressed:p,textColorTextFocus:h,textColorTextDisabled:u,textColorGhost:u,textColorGhostHover:h,textColorGhostPressed:p,textColorGhostFocus:h,textColorGhostDisabled:u,border:`1px solid ${m}`,borderHover:`1px solid ${h}`,borderPressed:`1px solid ${p}`,borderFocus:`1px solid ${h}`,borderDisabled:`1px solid ${m}`,rippleColor:g,colorPrimary:g,colorHoverPrimary:h,colorPressedPrimary:p,colorFocusPrimary:h,colorDisabledPrimary:g,textColorPrimary:x,textColorHoverPrimary:x,textColorPressedPrimary:x,textColorFocusPrimary:x,textColorDisabledPrimary:x,textColorTextPrimary:g,textColorTextHoverPrimary:h,textColorTextPressedPrimary:p,textColorTextFocusPrimary:h,textColorTextDisabledPrimary:u,textColorGhostPrimary:g,textColorGhostHoverPrimary:h,textColorGhostPressedPrimary:p,textColorGhostFocusPrimary:h,textColorGhostDisabledPrimary:g,borderPrimary:`1px solid ${g}`,borderHoverPrimary:`1px solid ${h}`,borderPressedPrimary:`1px solid ${p}`,borderFocusPrimary:`1px solid ${h}`,borderDisabledPrimary:`1px solid ${g}`,rippleColorPrimary:g,colorInfo:w,colorHoverInfo:O,colorPressedInfo:b,colorFocusInfo:O,colorDisabledInfo:w,textColorInfo:x,textColorHoverInfo:x,textColorPressedInfo:x,textColorFocusInfo:x,textColorDisabledInfo:x,textColorTextInfo:w,textColorTextHoverInfo:O,textColorTextPressedInfo:b,textColorTextFocusInfo:O,textColorTextDisabledInfo:u,textColorGhostInfo:w,textColorGhostHoverInfo:O,textColorGhostPressedInfo:b,textColorGhostFocusInfo:O,textColorGhostDisabledInfo:w,borderInfo:`1px solid ${w}`,borderHoverInfo:`1px solid ${O}`,borderPressedInfo:`1px solid ${b}`,borderFocusInfo:`1px solid ${O}`,borderDisabledInfo:`1px solid ${w}`,rippleColorInfo:w,colorSuccess:A,colorHoverSuccess:v,colorPressedSuccess:k,colorFocusSuccess:v,colorDisabledSuccess:A,textColorSuccess:x,textColorHoverSuccess:x,textColorPressedSuccess:x,textColorFocusSuccess:x,textColorDisabledSuccess:x,textColorTextSuccess:A,textColorTextHoverSuccess:v,textColorTextPressedSuccess:k,textColorTextFocusSuccess:v,textColorTextDisabledSuccess:u,textColorGhostSuccess:A,textColorGhostHoverSuccess:v,textColorGhostPressedSuccess:k,textColorGhostFocusSuccess:v,textColorGhostDisabledSuccess:A,borderSuccess:`1px solid ${A}`,borderHoverSuccess:`1px solid ${v}`,borderPressedSuccess:`1px solid ${k}`,borderFocusSuccess:`1px solid ${v}`,borderDisabledSuccess:`1px solid ${A}`,rippleColorSuccess:A,colorWarning:B,colorHoverWarning:P,colorPressedWarning:F,colorFocusWarning:P,colorDisabledWarning:B,textColorWarning:x,textColorHoverWarning:x,textColorPressedWarning:x,textColorFocusWarning:x,textColorDisabledWarning:x,textColorTextWarning:B,textColorTextHoverWarning:P,textColorTextPressedWarning:F,textColorTextFocusWarning:P,textColorTextDisabledWarning:u,textColorGhostWarning:B,textColorGhostHoverWarning:P,textColorGhostPressedWarning:F,textColorGhostFocusWarning:P,textColorGhostDisabledWarning:B,borderWarning:`1px solid ${B}`,borderHoverWarning:`1px solid ${P}`,borderPressedWarning:`1px solid ${F}`,borderFocusWarning:`1px solid ${P}`,borderDisabledWarning:`1px solid ${B}`,rippleColorWarning:B,colorError:V,colorHoverError:I,colorPressedError:Y,colorFocusError:I,colorDisabledError:V,textColorError:x,textColorHoverError:x,textColorPressedError:x,textColorFocusError:x,textColorDisabledError:x,textColorTextError:V,textColorTextHoverError:I,textColorTextPressedError:Y,textColorTextFocusError:I,textColorTextDisabledError:u,textColorGhostError:V,textColorGhostHoverError:I,textColorGhostPressedError:Y,textColorGhostFocusError:I,textColorGhostDisabledError:V,borderError:`1px solid ${V}`,borderHoverError:`1px solid ${I}`,borderPressedError:`1px solid ${Y}`,borderFocusError:`1px solid ${I}`,borderDisabledError:`1px solid ${V}`,rippleColorError:V,waveOpacity:"0.6",fontWeight:pe,fontWeightStrong:se})},gM={name:"Button",common:Hd,self:jg},bM=gM,xM={name:"Button",common:_,self(t){const e=jg(t);return e.waveOpacity="0.8",e.colorOpacitySecondary="0.16",e.colorOpacitySecondaryHover="0.2",e.colorOpacitySecondaryPressed="0.12",e}},Kt=xM,yM=le([U("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[re("color",[Te("border",{borderColor:"var(--n-border-color)"}),re("disabled",[Te("border",{borderColor:"var(--n-border-color-disabled)"})]),fl("disabled",[le("&:focus",[Te("state-border",{borderColor:"var(--n-border-color-focus)"})]),le("&:hover",[Te("state-border",{borderColor:"var(--n-border-color-hover)"})]),le("&:active",[Te("state-border",{borderColor:"var(--n-border-color-pressed)"})]),re("pressed",[Te("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),re("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[Te("border",{border:"var(--n-border-disabled)"})]),fl("disabled",[le("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[Te("state-border",{border:"var(--n-border-focus)"})]),le("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[Te("state-border",{border:"var(--n-border-hover)"})]),le("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[Te("state-border",{border:"var(--n-border-pressed)"})]),re("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[Te("state-border",{border:"var(--n-border-pressed)"})])]),re("loading","cursor: wait;"),U("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[re("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),Ql&&"MozBoxSizing"in document.createElement("div").style?le("&::moz-focus-inner",{border:0}):null,Te("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),Te("border",{border:"var(--n-border)"}),Te("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),Te("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[U("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[Ic({top:"50%",originalTransform:"translateY(-50%)"})]),Lk()]),Te("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[le("~",[Te("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),re("block",`
 display: flex;
 width: 100%;
 `),re("dashed",[Te("border, state-border",{borderStyle:"dashed !important"})]),re("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),le("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),le("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),vM=Object.assign(Object.assign({},fs.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,renderIcon:Function,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!Gk}}),CM=mt({name:"Button",props:vM,setup(t){const e=Ie(null),r=Ie(null),n=Ie(!1),o=Mc(()=>!t.quaternary&&!t.tertiary&&!t.secondary&&!t.text&&(!t.color||t.ghost||t.dashed)&&t.bordered),i=Dt(hM,{}),{mergedSizeRef:s}=f1({},{defaultSize:"medium",mergedSize:b=>{const{size:A}=t;if(A)return A;const{size:v}=i;if(v)return v;const{mergedSize:k}=b||{};return k?k.value:"medium"}}),l=Ee(()=>t.focusable&&!t.disabled),a=b=>{var A;l.value||b.preventDefault(),!t.nativeFocusBehavior&&(b.preventDefault(),!t.disabled&&l.value&&((A=e.value)===null||A===void 0||A.focus({preventScroll:!0})))},c=b=>{var A;if(!t.disabled&&!t.loading){const{onClick:v}=t;v&&wo(v,b),t.text||(A=r.value)===null||A===void 0||A.play()}},d=b=>{switch(b.key){case"Enter":if(!t.keyboard)return;n.value=!1}},u=b=>{switch(b.key){case"Enter":if(!t.keyboard||t.loading){b.preventDefault();return}n.value=!0}},f=()=>{n.value=!1},{inlineThemeDisabled:h,mergedClsPrefixRef:p,mergedRtlRef:m}=$g(t),g=fs("Button","-button",yM,bM,t,p),x=tk("Button",m,p),w=Ee(()=>{const b=g.value,{common:{cubicBezierEaseInOut:A,cubicBezierEaseOut:v},self:k}=b,{rippleDuration:B,opacityDisabled:P,fontWeight:F,fontWeightStrong:V}=k,I=s.value,{dashed:Y,type:pe,ghost:Ce,text:ce,color:J,round:se,circle:ze,textColor:De,secondary:Ze,tertiary:Re,quaternary:Nt,strong:gt}=t,Fe={"font-weight":gt?V:F};let me={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const et=pe==="tertiary",tt=pe==="default",xe=et?"default":pe;if(ce){const C=De||J;me={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":C||k[he("textColorText",xe)],"--n-text-color-hover":C?$n(C):k[he("textColorTextHover",xe)],"--n-text-color-pressed":C?Ns(C):k[he("textColorTextPressed",xe)],"--n-text-color-focus":C?$n(C):k[he("textColorTextHover",xe)],"--n-text-color-disabled":C||k[he("textColorTextDisabled",xe)]}}else if(Ce||Y){const C=De||J;me={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":J||k[he("rippleColor",xe)],"--n-text-color":C||k[he("textColorGhost",xe)],"--n-text-color-hover":C?$n(C):k[he("textColorGhostHover",xe)],"--n-text-color-pressed":C?Ns(C):k[he("textColorGhostPressed",xe)],"--n-text-color-focus":C?$n(C):k[he("textColorGhostHover",xe)],"--n-text-color-disabled":C||k[he("textColorGhostDisabled",xe)]}}else if(Ze){const C=tt?k.textColor:et?k.textColorTertiary:k[he("color",xe)],T=J||C,M=pe!=="default"&&pe!=="tertiary";me={"--n-color":M?X(T,{alpha:Number(k.colorOpacitySecondary)}):k.colorSecondary,"--n-color-hover":M?X(T,{alpha:Number(k.colorOpacitySecondaryHover)}):k.colorSecondaryHover,"--n-color-pressed":M?X(T,{alpha:Number(k.colorOpacitySecondaryPressed)}):k.colorSecondaryPressed,"--n-color-focus":M?X(T,{alpha:Number(k.colorOpacitySecondaryHover)}):k.colorSecondaryHover,"--n-color-disabled":k.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":T,"--n-text-color-hover":T,"--n-text-color-pressed":T,"--n-text-color-focus":T,"--n-text-color-disabled":T}}else if(Re||Nt){const C=tt?k.textColor:et?k.textColorTertiary:k[he("color",xe)],T=J||C;Re?(me["--n-color"]=k.colorTertiary,me["--n-color-hover"]=k.colorTertiaryHover,me["--n-color-pressed"]=k.colorTertiaryPressed,me["--n-color-focus"]=k.colorSecondaryHover,me["--n-color-disabled"]=k.colorTertiary):(me["--n-color"]=k.colorQuaternary,me["--n-color-hover"]=k.colorQuaternaryHover,me["--n-color-pressed"]=k.colorQuaternaryPressed,me["--n-color-focus"]=k.colorQuaternaryHover,me["--n-color-disabled"]=k.colorQuaternary),me["--n-ripple-color"]="#0000",me["--n-text-color"]=T,me["--n-text-color-hover"]=T,me["--n-text-color-pressed"]=T,me["--n-text-color-focus"]=T,me["--n-text-color-disabled"]=T}else me={"--n-color":J||k[he("color",xe)],"--n-color-hover":J?$n(J):k[he("colorHover",xe)],"--n-color-pressed":J?Ns(J):k[he("colorPressed",xe)],"--n-color-focus":J?$n(J):k[he("colorFocus",xe)],"--n-color-disabled":J||k[he("colorDisabled",xe)],"--n-ripple-color":J||k[he("rippleColor",xe)],"--n-text-color":De||(J?k.textColorPrimary:et?k.textColorTertiary:k[he("textColor",xe)]),"--n-text-color-hover":De||(J?k.textColorHoverPrimary:k[he("textColorHover",xe)]),"--n-text-color-pressed":De||(J?k.textColorPressedPrimary:k[he("textColorPressed",xe)]),"--n-text-color-focus":De||(J?k.textColorFocusPrimary:k[he("textColorFocus",xe)]),"--n-text-color-disabled":De||(J?k.textColorDisabledPrimary:k[he("textColorDisabled",xe)])};let _e={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};ce?_e={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:_e={"--n-border":k[he("border",xe)],"--n-border-hover":k[he("borderHover",xe)],"--n-border-pressed":k[he("borderPressed",xe)],"--n-border-focus":k[he("borderFocus",xe)],"--n-border-disabled":k[he("borderDisabled",xe)]};const{[he("height",I)]:bt,[he("fontSize",I)]:Zt,[he("padding",I)]:y,[he("paddingRound",I)]:S,[he("iconSize",I)]:E,[he("borderRadius",I)]:$,[he("iconMargin",I)]:N,waveOpacity:H}=k,L={"--n-width":ze&&!ce?bt:"initial","--n-height":ce?"initial":bt,"--n-font-size":Zt,"--n-padding":ze||ce?"initial":se?S:y,"--n-icon-size":E,"--n-icon-margin":N,"--n-border-radius":ce?"initial":ze||se?bt:$};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":A,"--n-bezier-ease-out":v,"--n-ripple-duration":B,"--n-opacity-disabled":P,"--n-wave-opacity":H},Fe),me),_e),L)}),O=h?Ng("button",Ee(()=>{let b="";const{dashed:A,type:v,ghost:k,text:B,color:P,round:F,circle:V,textColor:I,secondary:Y,tertiary:pe,quaternary:Ce,strong:ce}=t;A&&(b+="a"),k&&(b+="b"),B&&(b+="c"),F&&(b+="d"),V&&(b+="e"),Y&&(b+="f"),pe&&(b+="g"),Ce&&(b+="h"),ce&&(b+="i"),P&&(b+="j"+lf(P)),I&&(b+="k"+lf(I));const{value:J}=s;return b+="l"+J[0],b+="m"+v[0],b}),w,t):void 0;return{selfElRef:e,waveElRef:r,mergedClsPrefix:p,mergedFocusable:l,mergedSize:s,showBorder:o,enterPressed:n,rtlEnabled:x,handleMousedown:a,handleKeydown:u,handleBlur:f,handleKeyup:d,handleClick:c,customColorCssVars:Ee(()=>{const{color:b}=t;if(!b)return null;const A=$n(b);return{"--n-border-color":b,"--n-border-color-hover":A,"--n-border-color-pressed":Ns(b),"--n-border-color-focus":A,"--n-border-color-disabled":b}}),cssVars:h?void 0:w,themeClass:O==null?void 0:O.themeClass,onRender:O==null?void 0:O.onRender}},render(){const{mergedClsPrefix:t,tag:e,onRender:r}=this;r==null||r();const n=ul(this.$slots.default,o=>o&&q("span",{class:`${t}-button__content`},o));return q(e,{ref:"selfElRef",class:[this.themeClass,`${t}-button`,`${t}-button--${this.type}-type`,`${t}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${t}-button--rtl`,this.disabled&&`${t}-button--disabled`,this.block&&`${t}-button--block`,this.enterPressed&&`${t}-button--pressed`,!this.text&&this.dashed&&`${t}-button--dashed`,this.color&&`${t}-button--color`,this.secondary&&`${t}-button--secondary`,this.loading&&`${t}-button--loading`,this.ghost&&`${t}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&n,q(ik,{width:!0},{default:()=>ul(this.$slots.icon,o=>(this.loading||this.renderIcon||o)&&q("span",{class:`${t}-button__icon`,style:{margin:cC(this.$slots.default)?"0":""}},q(zg,null,{default:()=>this.loading?q(fk,{clsPrefix:t,key:"loading",class:`${t}-icon-slot`,strokeWidth:20}):q("div",{key:"icon",class:`${t}-icon-slot`,role:"none"},this.renderIcon?this.renderIcon():o)})))}),this.iconPlacement==="left"&&n,this.text?null:q(Dk,{ref:"waveElRef",clsPrefix:t}),this.showBorder?q("div",{"aria-hidden":!0,class:`${t}-button__border`,style:this.customColorCssVars}):null,this.showBorder?q("div",{"aria-hidden":!0,class:`${t}-button__state-border`,style:this.customColorCssVars}):null)}}),SM=CM,wM={titleFontSize:"22px"},TM=t=>{const{borderRadius:e,fontSize:r,lineHeight:n,textColor2:o,textColor1:i,textColorDisabled:s,dividerColor:l,fontWeightStrong:a,primaryColor:c,baseColor:d,hoverColor:u,cardColor:f,modalColor:h,popoverColor:p}=t;return Object.assign(Object.assign({},wM),{borderRadius:e,borderColor:ne(f,l),borderColorModal:ne(h,l),borderColorPopover:ne(p,l),textColor:o,titleFontWeight:a,titleTextColor:i,dayTextColor:s,fontSize:r,lineHeight:n,dateColorCurrent:c,dateTextColorCurrent:d,cellColorHover:ne(f,u),cellColorHoverModal:ne(h,u),cellColorHoverPopover:ne(p,u),cellColor:f,cellColorModal:h,cellColorPopover:p,barColor:c})},kM={name:"Calendar",common:_,peers:{Button:Kt},self:TM},MM=kM,AM=t=>{const{fontSize:e,boxShadow2:r,popoverColor:n,textColor2:o,borderRadius:i,borderColor:s,heightSmall:l,heightMedium:a,heightLarge:c,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:f,dividerColor:h}=t;return{panelFontSize:e,boxShadow:r,color:n,textColor:o,borderRadius:i,border:`1px solid ${s}`,heightSmall:l,heightMedium:a,heightLarge:c,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:f,dividerColor:h}},OM={name:"ColorPicker",common:_,peers:{Input:ar,Button:Kt},self:AM},EM=OM,PM={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},DM=t=>{const{primaryColor:e,borderRadius:r,lineHeight:n,fontSize:o,cardColor:i,textColor2:s,textColor1:l,dividerColor:a,fontWeightStrong:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,closeColorHover:h,closeColorPressed:p,modalColor:m,boxShadow1:g,popoverColor:x,actionColor:w}=t;return Object.assign(Object.assign({},PM),{lineHeight:n,color:i,colorModal:m,colorPopover:x,colorTarget:e,colorEmbedded:w,colorEmbeddedModal:w,colorEmbeddedPopover:w,textColor:s,titleTextColor:l,borderColor:a,actionColor:w,titleFontWeight:c,closeColorHover:h,closeColorPressed:p,closeBorderRadius:r,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,fontSizeSmall:o,fontSizeMedium:o,fontSizeLarge:o,fontSizeHuge:o,boxShadow:g,borderRadius:r})},RM={name:"Card",common:_,self(t){const e=DM(t),{cardColor:r,modalColor:n,popoverColor:o}=t;return e.colorEmbedded=r,e.colorEmbeddedModal=n,e.colorEmbeddedPopover=o,e}},Vg=RM,IM=t=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),$M={name:"Carousel",common:_,self:IM},NM=$M,zM={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},BM=t=>{const{baseColor:e,inputColorDisabled:r,cardColor:n,modalColor:o,popoverColor:i,textColorDisabled:s,borderColor:l,primaryColor:a,textColor2:c,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:f,borderRadiusSmall:h,lineHeight:p}=t;return Object.assign(Object.assign({},zM),{labelLineHeight:p,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:f,borderRadius:h,color:e,colorChecked:a,colorDisabled:r,colorDisabledChecked:r,colorTableHeader:n,colorTableHeaderModal:o,colorTableHeaderPopover:i,checkMarkColor:e,checkMarkColorDisabled:s,checkMarkColorDisabledChecked:s,border:`1px solid ${l}`,borderDisabled:`1px solid ${l}`,borderDisabledChecked:`1px solid ${l}`,borderChecked:`1px solid ${a}`,borderFocus:`1px solid ${a}`,boxShadowFocus:`0 0 0 2px ${X(a,{alpha:.3})}`,textColor:c,textColorDisabled:s})},HM={name:"Checkbox",common:_,self(t){const{cardColor:e}=t,r=BM(t);return r.color="#0000",r.checkMarkColor=e,r}},ri=HM,LM=t=>{const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:o,textColor3:i,primaryColor:s,textColorDisabled:l,dividerColor:a,hoverColor:c,fontSizeMedium:d,heightMedium:u}=t;return{menuBorderRadius:e,menuColor:n,menuBoxShadow:r,menuDividerColor:a,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:i,optionHeight:u,optionFontSize:d,optionColorHover:c,optionTextColor:o,optionTextColorActive:s,optionTextColorDisabled:l,optionCheckMarkColor:s,loadingColor:s,columnWidth:"180px"}},_M={name:"Cascader",common:_,peers:{InternalSelectMenu:ps,InternalSelection:Ld,Scrollbar:qt,Checkbox:ri,Empty:Sk},self:LM},FM=_M,WM={name:"Code",common:_,self(t){const{textColor2:e,fontSize:r,fontWeightStrong:n,textColor3:o}=t;return{textColor:e,fontSize:r,fontWeightStrong:n,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:o}}},qg=WM,jM=t=>{const{fontWeight:e,textColor1:r,textColor2:n,textColorDisabled:o,dividerColor:i,fontSize:s}=t;return{titleFontSize:s,titleFontWeight:e,dividerColor:i,titleTextColor:r,titleTextColorDisabled:o,fontSize:s,textColor:n,arrowColor:n,arrowColorDisabled:o,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}},VM={name:"Collapse",common:_,self:jM},qM=VM,KM=t=>{const{cubicBezierEaseInOut:e}=t;return{bezier:e}},UM={name:"CollapseTransition",common:_,self:KM},GM=UM,JM={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:{type:String,default:ml},locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,katex:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,preflightStyleDisabled:Boolean,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(aC("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}},XM=mt({name:"ConfigProvider",alias:["App"],props:JM,setup(t){const e=Dt(oo,null),r=Ee(()=>{const{theme:p}=t;if(p===null)return;const m=e==null?void 0:e.mergedThemeRef.value;return p===void 0?m:m===void 0?p:Object.assign({},m,p)}),n=Ee(()=>{const{themeOverrides:p}=t;if(p!==null){if(p===void 0)return e==null?void 0:e.mergedThemeOverridesRef.value;{const m=e==null?void 0:e.mergedThemeOverridesRef.value;return m===void 0?p:pi({},m,p)}}}),o=Mc(()=>{const{namespace:p}=t;return p===void 0?e==null?void 0:e.mergedNamespaceRef.value:p}),i=Mc(()=>{const{bordered:p}=t;return p===void 0?e==null?void 0:e.mergedBorderedRef.value:p}),s=Ee(()=>{const{icons:p}=t;return p===void 0?e==null?void 0:e.mergedIconsRef.value:p}),l=Ee(()=>{const{componentOptions:p}=t;return p!==void 0?p:e==null?void 0:e.mergedComponentPropsRef.value}),a=Ee(()=>{const{clsPrefix:p}=t;return p!==void 0?p:e?e.mergedClsPrefixRef.value:ml}),c=Ee(()=>{var p;const{rtl:m}=t;if(m===void 0)return e==null?void 0:e.mergedRtlRef.value;const g={};for(const x of m)g[x.name]=ol(x),(p=x.peers)===null||p===void 0||p.forEach(w=>{w.name in g||(g[w.name]=ol(w))});return g}),d=Ee(()=>t.breakpoints||(e==null?void 0:e.mergedBreakpointsRef.value)),u=t.inlineThemeDisabled||(e==null?void 0:e.inlineThemeDisabled),f=t.preflightStyleDisabled||(e==null?void 0:e.preflightStyleDisabled),h=Ee(()=>{const{value:p}=r,{value:m}=n,g=m&&Object.keys(m).length!==0,x=p==null?void 0:p.name;return x?g?`${x}-${Ki(JSON.stringify(n.value))}`:x:g?Ki(JSON.stringify(n.value)):""});return jl(oo,{mergedThemeHashRef:h,mergedBreakpointsRef:d,mergedRtlRef:c,mergedIconsRef:s,mergedComponentPropsRef:l,mergedBorderedRef:i,mergedNamespaceRef:o,mergedClsPrefixRef:a,mergedLocaleRef:Ee(()=>{const{locale:p}=t;if(p!==null)return p===void 0?e==null?void 0:e.mergedLocaleRef.value:p}),mergedDateLocaleRef:Ee(()=>{const{dateLocale:p}=t;if(p!==null)return p===void 0?e==null?void 0:e.mergedDateLocaleRef.value:p}),mergedHljsRef:Ee(()=>{const{hljs:p}=t;return p===void 0?e==null?void 0:e.mergedHljsRef.value:p}),mergedKatexRef:Ee(()=>{const{katex:p}=t;return p===void 0?e==null?void 0:e.mergedKatexRef.value:p}),mergedThemeRef:r,mergedThemeOverridesRef:n,inlineThemeDisabled:u||!1,preflightStyleDisabled:f||!1}),{mergedClsPrefix:a,mergedBordered:i,mergedNamespace:o,mergedTheme:r,mergedThemeOverrides:n}},render(){var t,e,r,n;return this.abstract?(n=(r=this.$slots).default)===null||n===void 0?void 0:n.call(r):q(this.as||this.tag,{class:`${this.mergedClsPrefix||ml}-config-provider`},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}}),YM={name:"Popselect",common:_,peers:{Popover:ho,InternalSelectMenu:ps}},Kg=YM;function QM(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const ZM={name:"Select",common:_,peers:{InternalSelection:Ld,InternalSelectMenu:ps},self:QM},Ug=ZM,eA={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"},tA=t=>{const{textColor2:e,primaryColor:r,primaryColorHover:n,primaryColorPressed:o,inputColorDisabled:i,textColorDisabled:s,borderColor:l,borderRadius:a,fontSizeTiny:c,fontSizeSmall:d,fontSizeMedium:u,heightTiny:f,heightSmall:h,heightMedium:p}=t;return Object.assign(Object.assign({},eA),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${l}`,buttonBorderHover:`1px solid ${l}`,buttonBorderPressed:`1px solid ${l}`,buttonIconColor:e,buttonIconColorHover:e,buttonIconColorPressed:e,itemTextColor:e,itemTextColorHover:n,itemTextColorPressed:o,itemTextColorActive:r,itemTextColorDisabled:s,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:i,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${r}`,itemBorderDisabled:`1px solid ${l}`,itemBorderRadius:a,itemSizeSmall:f,itemSizeMedium:h,itemSizeLarge:p,itemFontSizeSmall:c,itemFontSizeMedium:d,itemFontSizeLarge:u,jumperFontSizeSmall:c,jumperFontSizeMedium:d,jumperFontSizeLarge:u,jumperTextColor:e,jumperTextColorDisabled:s})},rA={name:"Pagination",common:_,peers:{Select:Ug,Input:ar,Popselect:Kg},self(t){const{primaryColor:e,opacity3:r}=t,n=X(e,{alpha:Number(r)}),o=tA(t);return o.itemBorderActive=`1px solid ${n}`,o.itemBorderDisabled="1px solid #0000",o}},Gg=rA,nA={padding:"8px 14px"},oA={name:"Tooltip",common:_,peers:{Popover:ho},self(t){const{borderRadius:e,boxShadow2:r,popoverColor:n,textColor2:o}=t;return Object.assign(Object.assign({},nA),{borderRadius:e,boxShadow:r,color:n,textColor:o})}},na=oA,iA={name:"Ellipsis",common:_,peers:{Tooltip:na}},Jg=iA,sA={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},lA={name:"Radio",common:_,self(t){const{borderColor:e,primaryColor:r,baseColor:n,textColorDisabled:o,inputColorDisabled:i,textColor2:s,opacityDisabled:l,borderRadius:a,fontSizeSmall:c,fontSizeMedium:d,fontSizeLarge:u,heightSmall:f,heightMedium:h,heightLarge:p,lineHeight:m}=t;return Object.assign(Object.assign({},sA),{labelLineHeight:m,buttonHeightSmall:f,buttonHeightMedium:h,buttonHeightLarge:p,fontSizeSmall:c,fontSizeMedium:d,fontSizeLarge:u,boxShadow:`inset 0 0 0 1px ${e}`,boxShadowActive:`inset 0 0 0 1px ${r}`,boxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${X(r,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${r}`,boxShadowDisabled:`inset 0 0 0 1px ${e}`,color:"#0000",colorDisabled:i,colorActive:"#0000",textColor:s,textColorDisabled:o,dotColorActive:r,dotColorDisabled:e,buttonBorderColor:e,buttonBorderColorActive:r,buttonBorderColorHover:r,buttonColor:"#0000",buttonColorActive:r,buttonTextColor:s,buttonTextColorActive:n,buttonTextColorHover:r,opacityDisabled:l,buttonBoxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${X(r,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${r}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:a})}},Xg=lA,aA={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},cA=t=>{const{primaryColor:e,textColor2:r,dividerColor:n,hoverColor:o,popoverColor:i,invertedColor:s,borderRadius:l,fontSizeSmall:a,fontSizeMedium:c,fontSizeLarge:d,fontSizeHuge:u,heightSmall:f,heightMedium:h,heightLarge:p,heightHuge:m,textColor3:g,opacityDisabled:x}=t;return Object.assign(Object.assign({},aA),{optionHeightSmall:f,optionHeightMedium:h,optionHeightLarge:p,optionHeightHuge:m,borderRadius:l,fontSizeSmall:a,fontSizeMedium:c,fontSizeLarge:d,fontSizeHuge:u,optionTextColor:r,optionTextColorHover:r,optionTextColorActive:e,optionTextColorChildActive:e,color:i,dividerColor:n,suffixColor:r,prefixColor:r,optionColorHover:o,optionColorActive:X(e,{alpha:.1}),groupHeaderTextColor:g,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:s,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:e,optionColorActiveInverted:e,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:x})},dA={name:"Dropdown",common:_,peers:{Popover:ho},self(t){const{primaryColorSuppl:e,primaryColor:r,popoverColor:n}=t,o=cA(t);return o.colorInverted=n,o.optionColorActive=X(r,{alpha:.15}),o.optionColorActiveInverted=e,o.optionColorHoverInverted=e,o}},_d=dA,uA={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},fA=t=>{const{cardColor:e,modalColor:r,popoverColor:n,textColor2:o,textColor1:i,tableHeaderColor:s,tableColorHover:l,iconColor:a,primaryColor:c,fontWeightStrong:d,borderRadius:u,lineHeight:f,fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m,dividerColor:g,heightSmall:x,opacityDisabled:w,tableColorStriped:O}=t;return Object.assign(Object.assign({},uA),{actionDividerColor:g,lineHeight:f,borderRadius:u,fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:m,borderColor:ne(e,g),tdColorHover:ne(e,l),tdColorStriped:ne(e,O),thColor:ne(e,s),thColorHover:ne(ne(e,s),l),tdColor:e,tdTextColor:o,thTextColor:i,thFontWeight:d,thButtonColorHover:l,thIconColor:a,thIconColorActive:c,borderColorModal:ne(r,g),tdColorHoverModal:ne(r,l),tdColorStripedModal:ne(r,O),thColorModal:ne(r,s),thColorHoverModal:ne(ne(r,s),l),tdColorModal:r,borderColorPopover:ne(n,g),tdColorHoverPopover:ne(n,l),tdColorStripedPopover:ne(n,O),thColorPopover:ne(n,s),thColorHoverPopover:ne(ne(n,s),l),tdColorPopover:n,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:c,loadingSize:x,opacityLoading:w})},pA={name:"DataTable",common:_,peers:{Button:Kt,Checkbox:ri,Radio:Xg,Pagination:Gg,Scrollbar:qt,Empty:po,Popover:ho,Ellipsis:Jg,Dropdown:_d},self(t){const e=fA(t);return e.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",e.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",e}},hA=pA,mA=t=>{const{textColorBase:e,opacity1:r,opacity2:n,opacity3:o,opacity4:i,opacity5:s}=t;return{color:e,opacity1Depth:r,opacity2Depth:n,opacity3Depth:o,opacity4Depth:i,opacity5Depth:s}},gA={name:"Icon",common:_,self:mA},bA=gA,xA={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},yA=t=>{const{popoverColor:e,textColor2:r,primaryColor:n,hoverColor:o,dividerColor:i,opacityDisabled:s,boxShadow2:l,borderRadius:a,iconColor:c,iconColorDisabled:d}=t;return Object.assign(Object.assign({},xA),{panelColor:e,panelBoxShadow:l,panelDividerColor:i,itemTextColor:r,itemTextColorActive:n,itemColorHover:o,itemOpacityDisabled:s,itemBorderRadius:a,borderRadius:a,iconColor:c,iconColorDisabled:d})},vA={name:"TimePicker",common:_,peers:{Scrollbar:qt,Button:Kt,Input:ar},self:yA},Yg=vA,CA={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarLeftPaddingWeek:"6px 12px 4px 12px",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0",calendarRightPaddingWeek:"0"},SA=t=>{const{hoverColor:e,fontSize:r,textColor2:n,textColorDisabled:o,popoverColor:i,primaryColor:s,borderRadiusSmall:l,iconColor:a,iconColorDisabled:c,textColor1:d,dividerColor:u,boxShadow2:f,borderRadius:h,fontWeightStrong:p}=t;return Object.assign(Object.assign({},CA),{itemFontSize:r,calendarDaysFontSize:r,calendarTitleFontSize:r,itemTextColor:n,itemTextColorDisabled:o,itemTextColorActive:i,itemTextColorCurrent:s,itemColorIncluded:X(s,{alpha:.1}),itemColorHover:e,itemColorDisabled:e,itemColorActive:s,itemBorderRadius:l,panelColor:i,panelTextColor:n,arrowColor:a,calendarTitleTextColor:d,calendarTitleColorHover:e,calendarDaysTextColor:n,panelHeaderDividerColor:u,calendarDaysDividerColor:u,calendarDividerColor:u,panelActionDividerColor:u,panelBoxShadow:f,panelBorderRadius:h,calendarTitleFontWeight:p,scrollItemBorderRadius:h,iconColor:a,iconColorDisabled:c})},wA={name:"DatePicker",common:_,peers:{Input:ar,Button:Kt,TimePicker:Yg,Scrollbar:qt},self(t){const{popoverColor:e,hoverColor:r,primaryColor:n}=t,o=SA(t);return o.itemColorDisabled=ne(e,r),o.itemColorIncluded=X(n,{alpha:.15}),o.itemColorHover=ne(e,r),o}},TA=wA,kA={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},MA=t=>{const{tableHeaderColor:e,textColor2:r,textColor1:n,cardColor:o,modalColor:i,popoverColor:s,dividerColor:l,borderRadius:a,fontWeightStrong:c,lineHeight:d,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:h}=t;return Object.assign(Object.assign({},kA),{lineHeight:d,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:h,titleTextColor:n,thColor:ne(o,e),thColorModal:ne(i,e),thColorPopover:ne(s,e),thTextColor:n,thFontWeight:c,tdTextColor:r,tdColor:o,tdColorModal:i,tdColorPopover:s,borderColor:ne(o,l),borderColorModal:ne(i,l),borderColorPopover:ne(s,l),borderRadius:a})},AA={name:"Descriptions",common:_,self:MA},OA=AA,EA={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},PA=t=>{const{textColor1:e,textColor2:r,modalColor:n,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:s,closeColorHover:l,closeColorPressed:a,infoColor:c,successColor:d,warningColor:u,errorColor:f,primaryColor:h,dividerColor:p,borderRadius:m,fontWeightStrong:g,lineHeight:x,fontSize:w}=t;return Object.assign(Object.assign({},EA),{fontSize:w,lineHeight:x,border:`1px solid ${p}`,titleTextColor:e,textColor:r,color:n,closeColorHover:l,closeColorPressed:a,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:s,closeBorderRadius:m,iconColor:h,iconColorInfo:c,iconColorSuccess:d,iconColorWarning:u,iconColorError:f,borderRadius:m,titleFontWeight:g})},DA={name:"Dialog",common:_,peers:{Button:Kt},self:PA},Qg=DA,RA=t=>{const{modalColor:e,textColor2:r,boxShadow3:n}=t;return{color:e,textColor:r,boxShadow:n}},IA={name:"Modal",common:_,peers:{Scrollbar:qt,Dialog:Qg,Card:Vg},self:RA},$A=IA,NA=t=>{const{textColor1:e,dividerColor:r,fontWeightStrong:n}=t;return{textColor:e,color:r,fontWeight:n}},zA={name:"Divider",common:_,self:NA},BA=zA,HA=t=>{const{modalColor:e,textColor1:r,textColor2:n,boxShadow3:o,lineHeight:i,fontWeightStrong:s,dividerColor:l,closeColorHover:a,closeColorPressed:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,borderRadius:h,primaryColorHover:p}=t;return{bodyPadding:"16px 24px",borderRadius:h,headerPadding:"16px 24px",footerPadding:"16px 24px",color:e,textColor:n,titleTextColor:r,titleFontSize:"18px",titleFontWeight:s,boxShadow:o,lineHeight:i,headerBorderBottom:`1px solid ${l}`,footerBorderTop:`1px solid ${l}`,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,closeSize:"22px",closeIconSize:"18px",closeColorHover:a,closeColorPressed:c,closeBorderRadius:h,resizableTriggerColorHover:p}},LA={name:"Drawer",common:_,peers:{Scrollbar:qt},self:HA},_A=LA,FA={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},WA={name:"DynamicInput",common:_,peers:{Input:ar,Button:Kt},self(){return FA}},jA=WA,VA={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},qA={name:"Space",self(){return VA}},Zg=qA,KA={name:"DynamicTags",common:_,peers:{Input:ar,Button:Kt,Tag:Fg,Space:Zg},self(){return{inputWidth:"64px"}}},UA=KA,GA={name:"Element",common:_},JA=GA,XA={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},YA={name:"Flex",self(){return XA}},QA=YA,ZA={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"},eO=t=>{const{heightSmall:e,heightMedium:r,heightLarge:n,textColor1:o,errorColor:i,warningColor:s,lineHeight:l,textColor3:a}=t;return Object.assign(Object.assign({},ZA),{blankHeightSmall:e,blankHeightMedium:r,blankHeightLarge:n,lineHeight:l,labelTextColor:o,asteriskColor:i,feedbackTextColorError:i,feedbackTextColorWarning:s,feedbackTextColor:a})},tO={name:"Form",common:_,self:eO},rO=tO,nO={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},oO=t=>{const{textColor2:e,successColor:r,infoColor:n,warningColor:o,errorColor:i,popoverColor:s,closeIconColor:l,closeIconColorHover:a,closeIconColorPressed:c,closeColorHover:d,closeColorPressed:u,textColor1:f,textColor3:h,borderRadius:p,fontWeightStrong:m,boxShadow2:g,lineHeight:x,fontSize:w}=t;return Object.assign(Object.assign({},nO),{borderRadius:p,lineHeight:x,fontSize:w,headerFontWeight:m,iconColor:e,iconColorSuccess:r,iconColorInfo:n,iconColorWarning:o,iconColorError:i,color:s,textColor:e,closeIconColor:l,closeIconColorHover:a,closeIconColorPressed:c,closeBorderRadius:p,closeColorHover:d,closeColorPressed:u,headerTextColor:f,descriptionTextColor:h,actionTextColor:e,boxShadow:g})},iO={name:"Notification",common:_,peers:{Scrollbar:qt},self:oO},sO=iO,lO={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},aO=t=>{const{textColor2:e,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:o,infoColor:i,successColor:s,errorColor:l,warningColor:a,popoverColor:c,boxShadow2:d,primaryColor:u,lineHeight:f,borderRadius:h,closeColorHover:p,closeColorPressed:m}=t;return Object.assign(Object.assign({},lO),{closeBorderRadius:h,textColor:e,textColorInfo:e,textColorSuccess:e,textColorError:e,textColorWarning:e,textColorLoading:e,color:c,colorInfo:c,colorSuccess:c,colorError:c,colorWarning:c,colorLoading:c,boxShadow:d,boxShadowInfo:d,boxShadowSuccess:d,boxShadowError:d,boxShadowWarning:d,boxShadowLoading:d,iconColor:e,iconColorInfo:i,iconColorSuccess:s,iconColorWarning:a,iconColorError:l,iconColorLoading:u,closeColorHover:p,closeColorPressed:m,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:o,closeColorHoverInfo:p,closeColorPressedInfo:m,closeIconColorInfo:r,closeIconColorHoverInfo:n,closeIconColorPressedInfo:o,closeColorHoverSuccess:p,closeColorPressedSuccess:m,closeIconColorSuccess:r,closeIconColorHoverSuccess:n,closeIconColorPressedSuccess:o,closeColorHoverError:p,closeColorPressedError:m,closeIconColorError:r,closeIconColorHoverError:n,closeIconColorPressedError:o,closeColorHoverWarning:p,closeColorPressedWarning:m,closeIconColorWarning:r,closeIconColorHoverWarning:n,closeIconColorPressedWarning:o,closeColorHoverLoading:p,closeColorPressedLoading:m,closeIconColorLoading:r,closeIconColorHoverLoading:n,closeIconColorPressedLoading:o,loadingColor:u,lineHeight:f,borderRadius:h})},cO={name:"Message",common:_,self:aO},dO=cO,uO={name:"ButtonGroup",common:_},fO=uO,pO={name:"GradientText",common:_,self(t){const{primaryColor:e,successColor:r,warningColor:n,errorColor:o,infoColor:i,primaryColorSuppl:s,successColorSuppl:l,warningColorSuppl:a,errorColorSuppl:c,infoColorSuppl:d,fontWeightStrong:u}=t;return{fontWeight:u,rotate:"252deg",colorStartPrimary:e,colorEndPrimary:s,colorStartInfo:i,colorEndInfo:d,colorStartWarning:n,colorEndWarning:a,colorStartError:o,colorEndError:c,colorStartSuccess:r,colorEndSuccess:l}}},hO=pO,mO={name:"InputNumber",common:_,peers:{Button:Kt,Input:ar},self(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}},gO=mO,bO={name:"Layout",common:_,peers:{Scrollbar:qt},self(t){const{textColor2:e,bodyColor:r,popoverColor:n,cardColor:o,dividerColor:i,scrollbarColor:s,scrollbarColorHover:l}=t;return{textColor:e,textColorInverted:e,color:r,colorEmbedded:r,headerColor:o,headerColorInverted:o,footerColor:o,footerColorInverted:o,headerBorderColor:i,headerBorderColorInverted:i,footerBorderColor:i,footerBorderColorInverted:i,siderBorderColor:i,siderBorderColorInverted:i,siderColor:o,siderColorInverted:o,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:n,siderToggleButtonIconColor:e,siderToggleButtonIconColorInverted:e,siderToggleBarColor:ne(r,s),siderToggleBarColorHover:ne(r,l),__invertScrollbar:"false"}}},xO=bO,yO=t=>{const{textColor2:e,cardColor:r,modalColor:n,popoverColor:o,dividerColor:i,borderRadius:s,fontSize:l,hoverColor:a}=t;return{textColor:e,color:r,colorHover:a,colorModal:n,colorHoverModal:ne(n,a),colorPopover:o,colorHoverPopover:ne(o,a),borderColor:i,borderColorModal:ne(n,i),borderColorPopover:ne(o,i),borderRadius:s,fontSize:l}},vO={name:"List",common:_,self:yO},CO=vO,SO={name:"LoadingBar",common:_,self(t){const{primaryColor:e}=t;return{colorError:"red",colorLoading:e,height:"2px"}}},wO=SO,TO={name:"Log",common:_,peers:{Scrollbar:qt,Code:qg},self(t){const{textColor2:e,inputColor:r,fontSize:n,primaryColor:o}=t;return{loaderFontSize:n,loaderTextColor:e,loaderColor:r,loaderBorder:"1px solid #0000",loadingColor:o}}},kO=TO,MO={name:"Mention",common:_,peers:{InternalSelectMenu:ps,Input:ar},self(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}},AO=MO;function OO(t,e,r,n){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:e,itemColorActiveHoverInverted:e,itemColorActiveCollapsedInverted:e,itemTextColorInverted:t,itemTextColorHoverInverted:r,itemTextColorChildActiveInverted:r,itemTextColorChildActiveHoverInverted:r,itemTextColorActiveInverted:r,itemTextColorActiveHoverInverted:r,itemTextColorHorizontalInverted:t,itemTextColorHoverHorizontalInverted:r,itemTextColorChildActiveHorizontalInverted:r,itemTextColorChildActiveHoverHorizontalInverted:r,itemTextColorActiveHorizontalInverted:r,itemTextColorActiveHoverHorizontalInverted:r,itemIconColorInverted:t,itemIconColorHoverInverted:r,itemIconColorActiveInverted:r,itemIconColorActiveHoverInverted:r,itemIconColorChildActiveInverted:r,itemIconColorChildActiveHoverInverted:r,itemIconColorCollapsedInverted:t,itemIconColorHorizontalInverted:t,itemIconColorHoverHorizontalInverted:r,itemIconColorActiveHorizontalInverted:r,itemIconColorActiveHoverHorizontalInverted:r,itemIconColorChildActiveHorizontalInverted:r,itemIconColorChildActiveHoverHorizontalInverted:r,arrowColorInverted:t,arrowColorHoverInverted:r,arrowColorActiveInverted:r,arrowColorActiveHoverInverted:r,arrowColorChildActiveInverted:r,arrowColorChildActiveHoverInverted:r,groupTextColorInverted:n}}const EO=t=>{const{borderRadius:e,textColor3:r,primaryColor:n,textColor2:o,textColor1:i,fontSize:s,dividerColor:l,hoverColor:a,primaryColorHover:c}=t;return Object.assign({borderRadius:e,color:"#0000",groupTextColor:r,itemColorHover:a,itemColorActive:X(n,{alpha:.1}),itemColorActiveHover:X(n,{alpha:.1}),itemColorActiveCollapsed:X(n,{alpha:.1}),itemTextColor:o,itemTextColorHover:o,itemTextColorActive:n,itemTextColorActiveHover:n,itemTextColorChildActive:n,itemTextColorChildActiveHover:n,itemTextColorHorizontal:o,itemTextColorHoverHorizontal:c,itemTextColorActiveHorizontal:n,itemTextColorActiveHoverHorizontal:n,itemTextColorChildActiveHorizontal:n,itemTextColorChildActiveHoverHorizontal:n,itemIconColor:i,itemIconColorHover:i,itemIconColorActive:n,itemIconColorActiveHover:n,itemIconColorChildActive:n,itemIconColorChildActiveHover:n,itemIconColorCollapsed:i,itemIconColorHorizontal:i,itemIconColorHoverHorizontal:c,itemIconColorActiveHorizontal:n,itemIconColorActiveHoverHorizontal:n,itemIconColorChildActiveHorizontal:n,itemIconColorChildActiveHoverHorizontal:n,itemHeight:"42px",arrowColor:o,arrowColorHover:o,arrowColorActive:n,arrowColorActiveHover:n,arrowColorChildActive:n,arrowColorChildActiveHover:n,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:s,dividerColor:l},OO("#BBB",n,"#FFF","#AAA"))},PO={name:"Menu",common:_,peers:{Tooltip:na,Dropdown:_d},self(t){const{primaryColor:e,primaryColorSuppl:r}=t,n=EO(t);return n.itemColorActive=X(e,{alpha:.15}),n.itemColorActiveHover=X(e,{alpha:.15}),n.itemColorActiveCollapsed=X(e,{alpha:.15}),n.itemColorActiveInverted=r,n.itemColorActiveHoverInverted=r,n.itemColorActiveCollapsedInverted=r,n}},DO=PO,RO={titleFontSize:"18px",backSize:"22px"};function IO(t){const{textColor1:e,textColor2:r,textColor3:n,fontSize:o,fontWeightStrong:i,primaryColorHover:s,primaryColorPressed:l}=t;return Object.assign(Object.assign({},RO),{titleFontWeight:i,fontSize:o,titleTextColor:e,backColor:r,backColorHover:s,backColorPressed:l,subtitleTextColor:n})}const $O={name:"PageHeader",common:_,self:IO},NO={iconSize:"22px"},zO=t=>{const{fontSize:e,warningColor:r}=t;return Object.assign(Object.assign({},NO),{fontSize:e,iconColor:r})},BO={name:"Popconfirm",common:_,peers:{Button:Kt,Popover:ho},self:zO},HO=BO,LO=t=>{const{infoColor:e,successColor:r,warningColor:n,errorColor:o,textColor2:i,progressRailColor:s,fontSize:l,fontWeight:a}=t;return{fontSize:l,fontSizeCircle:"28px",fontWeightCircle:a,railColor:s,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:e,iconColorInfo:e,iconColorSuccess:r,iconColorWarning:n,iconColorError:o,textColorCircle:i,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:i,fillColor:e,fillColorInfo:e,fillColorSuccess:r,fillColorWarning:n,fillColorError:o,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},_O={name:"Progress",common:_,self(t){const e=LO(t);return e.textColorLineInner="rgb(0, 0, 0)",e.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",e}},eb=_O,FO={name:"Rate",common:_,self(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},WO=FO,jO={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},VO=t=>{const{textColor2:e,textColor1:r,errorColor:n,successColor:o,infoColor:i,warningColor:s,lineHeight:l,fontWeightStrong:a}=t;return Object.assign(Object.assign({},jO),{lineHeight:l,titleFontWeight:a,titleTextColor:r,textColor:e,iconColorError:n,iconColorSuccess:o,iconColorInfo:i,iconColorWarning:s})},qO={name:"Result",common:_,self:VO},KO=qO,UO={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},GO={name:"Slider",common:_,self(t){const e="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:r,modalColor:n,primaryColorSuppl:o,popoverColor:i,textColor2:s,cardColor:l,borderRadius:a,fontSize:c,opacityDisabled:d}=t;return Object.assign(Object.assign({},UO),{fontSize:c,markFontSize:c,railColor:r,railColorHover:r,fillColor:o,fillColorHover:o,opacityDisabled:d,handleColor:"#FFF",dotColor:l,dotColorModal:n,dotColorPopover:i,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:i,indicatorBoxShadow:e,indicatorTextColor:s,indicatorBorderRadius:a,dotBorder:`2px solid ${r}`,dotBorderActive:`2px solid ${o}`,dotBoxShadow:""})}},JO=GO,XO=t=>{const{opacityDisabled:e,heightTiny:r,heightSmall:n,heightMedium:o,heightLarge:i,heightHuge:s,primaryColor:l,fontSize:a}=t;return{fontSize:a,textColor:l,sizeTiny:r,sizeSmall:n,sizeMedium:o,sizeLarge:i,sizeHuge:s,color:l,opacitySpinning:e}},YO={name:"Spin",common:_,self:XO},QO=YO,ZO=t=>{const{textColor2:e,textColor3:r,fontSize:n,fontWeight:o}=t;return{labelFontSize:n,labelFontWeight:o,valueFontWeight:o,valueFontSize:"24px",labelTextColor:r,valuePrefixTextColor:e,valueSuffixTextColor:e,valueTextColor:e}},eE={name:"Statistic",common:_,self:ZO},tE=eE,rE={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},nE=t=>{const{fontWeightStrong:e,baseColor:r,textColorDisabled:n,primaryColor:o,errorColor:i,textColor1:s,textColor2:l}=t;return Object.assign(Object.assign({},rE),{stepHeaderFontWeight:e,indicatorTextColorProcess:r,indicatorTextColorWait:n,indicatorTextColorFinish:o,indicatorTextColorError:i,indicatorBorderColorProcess:o,indicatorBorderColorWait:n,indicatorBorderColorFinish:o,indicatorBorderColorError:i,indicatorColorProcess:o,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:n,splitorColorWait:n,splitorColorFinish:o,splitorColorError:n,headerTextColorProcess:s,headerTextColorWait:n,headerTextColorFinish:n,headerTextColorError:i,descriptionTextColorProcess:l,descriptionTextColorWait:n,descriptionTextColorFinish:n,descriptionTextColorError:i})},oE={name:"Steps",common:_,self:nE},iE=oE,sE={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},lE={name:"Switch",common:_,self(t){const{primaryColorSuppl:e,opacityDisabled:r,borderRadius:n,primaryColor:o,textColor2:i,baseColor:s}=t,l="rgba(255, 255, 255, .20)";return Object.assign(Object.assign({},sE),{iconColor:s,textColor:i,loadingColor:e,opacityDisabled:r,railColor:l,railColorActive:e,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 8px 0 ${X(o,{alpha:.3})}`})}},aE=lE,cE={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},dE=t=>{const{dividerColor:e,cardColor:r,modalColor:n,popoverColor:o,tableHeaderColor:i,tableColorStriped:s,textColor1:l,textColor2:a,borderRadius:c,fontWeightStrong:d,lineHeight:u,fontSizeSmall:f,fontSizeMedium:h,fontSizeLarge:p}=t;return Object.assign(Object.assign({},cE),{fontSizeSmall:f,fontSizeMedium:h,fontSizeLarge:p,lineHeight:u,borderRadius:c,borderColor:ne(r,e),borderColorModal:ne(n,e),borderColorPopover:ne(o,e),tdColor:r,tdColorModal:n,tdColorPopover:o,tdColorStriped:ne(r,s),tdColorStripedModal:ne(n,s),tdColorStripedPopover:ne(o,s),thColor:ne(r,i),thColorModal:ne(n,i),thColorPopover:ne(o,i),thTextColor:l,tdTextColor:a,thFontWeight:d})},uE={name:"Table",common:_,self:dE},fE=uE,pE={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},tb=t=>{const{textColor2:e,primaryColor:r,textColorDisabled:n,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:s,closeColorHover:l,closeColorPressed:a,tabColor:c,baseColor:d,dividerColor:u,fontWeight:f,textColor1:h,borderRadius:p,fontSize:m,fontWeightStrong:g}=t;return Object.assign(Object.assign({},pE),{colorSegment:c,tabFontSizeCard:m,tabTextColorLine:h,tabTextColorActiveLine:r,tabTextColorHoverLine:r,tabTextColorDisabledLine:n,tabTextColorSegment:h,tabTextColorActiveSegment:e,tabTextColorHoverSegment:e,tabTextColorDisabledSegment:n,tabTextColorBar:h,tabTextColorActiveBar:r,tabTextColorHoverBar:r,tabTextColorDisabledBar:n,tabTextColorCard:h,tabTextColorHoverCard:h,tabTextColorActiveCard:r,tabTextColorDisabledCard:n,barColor:r,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:s,closeColorHover:l,closeColorPressed:a,closeBorderRadius:p,tabColor:c,tabColorSegment:d,tabBorderColor:u,tabFontWeightActive:f,tabFontWeight:f,tabBorderRadius:p,paneTextColor:e,fontWeightStrong:g})},hE={name:"Tabs",common:Hd,self:tb},mE=hE,gE={name:"Tabs",common:_,self(t){const e=tb(t),{inputColor:r}=t;return e.colorSegment=r,e.tabColorSegment=r,e}},bE=gE,xE=t=>{const{textColor1:e,textColor2:r,fontWeightStrong:n,fontSize:o}=t;return{fontSize:o,titleTextColor:e,textColor:r,titleFontWeight:n}},yE={name:"Thing",common:_,self:xE},vE=yE,CE={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},SE={name:"Timeline",common:_,self(t){const{textColor3:e,infoColorSuppl:r,errorColorSuppl:n,successColorSuppl:o,warningColorSuppl:i,textColor1:s,textColor2:l,railColor:a,fontWeightStrong:c,fontSize:d}=t;return Object.assign(Object.assign({},CE),{contentFontSize:d,titleFontWeight:c,circleBorder:`2px solid ${e}`,circleBorderInfo:`2px solid ${r}`,circleBorderError:`2px solid ${n}`,circleBorderSuccess:`2px solid ${o}`,circleBorderWarning:`2px solid ${i}`,iconColor:e,iconColorInfo:r,iconColorError:n,iconColorSuccess:o,iconColorWarning:i,titleTextColor:s,contentTextColor:l,metaTextColor:e,lineColor:a})}},wE=SE,TE={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},kE={name:"Transfer",common:_,peers:{Checkbox:ri,Scrollbar:qt,Input:ar,Empty:po,Button:Kt},self(t){const{fontWeight:e,fontSizeLarge:r,fontSizeMedium:n,fontSizeSmall:o,heightLarge:i,heightMedium:s,borderRadius:l,inputColor:a,tableHeaderColor:c,textColor1:d,textColorDisabled:u,textColor2:f,textColor3:h,hoverColor:p,closeColorHover:m,closeColorPressed:g,closeIconColor:x,closeIconColorHover:w,closeIconColorPressed:O,dividerColor:b}=t;return Object.assign(Object.assign({},TE),{itemHeightSmall:s,itemHeightMedium:s,itemHeightLarge:i,fontSizeSmall:o,fontSizeMedium:n,fontSizeLarge:r,borderRadius:l,dividerColor:b,borderColor:"#0000",listColor:a,headerColor:c,titleTextColor:d,titleTextColorDisabled:u,extraTextColor:h,extraTextColorDisabled:u,itemTextColor:f,itemTextColorDisabled:u,itemColorPending:p,titleFontWeight:e,closeColorHover:m,closeColorPressed:g,closeIconColor:x,closeIconColorHover:w,closeIconColorPressed:O})}},ME=kE,AE=t=>{const{borderRadiusSmall:e,dividerColor:r,hoverColor:n,pressedColor:o,primaryColor:i,textColor3:s,textColor2:l,textColorDisabled:a,fontSize:c}=t;return{fontSize:c,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:e,nodeColorHover:n,nodeColorPressed:o,nodeColorActive:X(i,{alpha:.1}),arrowColor:s,nodeTextColor:l,nodeTextColorDisabled:a,loadingColor:i,dropMarkColor:i,lineColor:r}},OE={name:"Tree",common:_,peers:{Checkbox:ri,Scrollbar:qt,Empty:po},self(t){const{primaryColor:e}=t,r=AE(t);return r.nodeColorActive=X(e,{alpha:.15}),r}},rb=OE,EE={name:"TreeSelect",common:_,peers:{Tree:rb,Empty:po,InternalSelection:Ld}},PE=EE,DE={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},RE=t=>{const{primaryColor:e,textColor2:r,borderColor:n,lineHeight:o,fontSize:i,borderRadiusSmall:s,dividerColor:l,fontWeightStrong:a,textColor1:c,textColor3:d,infoColor:u,warningColor:f,errorColor:h,successColor:p,codeColor:m}=t;return Object.assign(Object.assign({},DE),{aTextColor:e,blockquoteTextColor:r,blockquotePrefixColor:n,blockquoteLineHeight:o,blockquoteFontSize:i,codeBorderRadius:s,liTextColor:r,liLineHeight:o,liFontSize:i,hrColor:l,headerFontWeight:a,headerTextColor:c,pTextColor:r,pTextColor1Depth:c,pTextColor2Depth:r,pTextColor3Depth:d,pLineHeight:o,pFontSize:i,headerBarColor:e,headerBarColorPrimary:e,headerBarColorInfo:u,headerBarColorError:h,headerBarColorWarning:f,headerBarColorSuccess:p,textColor:r,textColor1Depth:c,textColor2Depth:r,textColor3Depth:d,textColorPrimary:e,textColorInfo:u,textColorSuccess:p,textColorWarning:f,textColorError:h,codeTextColor:r,codeColor:m,codeBorder:"1px solid #0000"})},IE={name:"Typography",common:_,self:RE},$E=IE,NE=t=>{const{iconColor:e,primaryColor:r,errorColor:n,textColor2:o,successColor:i,opacityDisabled:s,actionColor:l,borderColor:a,hoverColor:c,lineHeight:d,borderRadius:u,fontSize:f}=t;return{fontSize:f,lineHeight:d,borderRadius:u,draggerColor:l,draggerBorder:`1px dashed ${a}`,draggerBorderHover:`1px dashed ${r}`,itemColorHover:c,itemColorHoverError:X(n,{alpha:.06}),itemTextColor:o,itemTextColorError:n,itemTextColorSuccess:i,itemIconColor:e,itemDisabledOpacity:s,itemBorderImageCardError:`1px solid ${n}`,itemBorderImageCard:`1px solid ${a}`}},zE={name:"Upload",common:_,peers:{Button:Kt,Progress:eb},self(t){const{errorColor:e}=t,r=NE(t);return r.itemColorHoverError=X(e,{alpha:.09}),r}},BE=zE,HE={name:"Watermark",common:_,self(t){const{fontFamily:e}=t;return{fontFamily:e}}},LE=HE,_E={name:"Row",common:_},FE=_E,WE={name:"FloatButton",common:_,self(t){const{popoverColor:e,textColor2:r,buttonColor2Hover:n,buttonColor2Pressed:o,primaryColor:i,primaryColorHover:s,primaryColorPressed:l,baseColor:a,borderRadius:c}=t;return{color:e,textColor:r,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)",colorHover:n,colorPressed:o,colorPrimary:i,colorPrimaryHover:s,colorPrimaryPressed:l,textColorPrimary:a,borderRadiusSquare:c}}},jE=WE,VE=t=>{const{primaryColor:e,baseColor:r}=t;return{color:e,iconColor:r}},qE={name:"IconWrapper",common:_,self:VE},KE=qE,UE={name:"Image",common:_,peers:{Tooltip:na},self:t=>{const{textColor2:e}=t;return{toolbarIconColor:e,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},GE={extraFontSize:"12px",width:"440px"},JE={name:"Transfer",common:_,peers:{Checkbox:ri,Scrollbar:qt,Input:ar,Empty:po,Button:Kt},self(t){const{iconColorDisabled:e,iconColor:r,fontWeight:n,fontSizeLarge:o,fontSizeMedium:i,fontSizeSmall:s,heightLarge:l,heightMedium:a,heightSmall:c,borderRadius:d,inputColor:u,tableHeaderColor:f,textColor1:h,textColorDisabled:p,textColor2:m,hoverColor:g}=t;return Object.assign(Object.assign({},GE),{itemHeightSmall:c,itemHeightMedium:a,itemHeightLarge:l,fontSizeSmall:s,fontSizeMedium:i,fontSizeLarge:o,borderRadius:d,borderColor:"#0000",listColor:u,headerColor:f,titleTextColor:h,titleTextColorDisabled:p,extraTextColor:m,filterDividerColor:"#0000",itemTextColor:m,itemTextColorDisabled:p,itemColorPending:g,titleFontWeight:n,iconColor:r,iconColorDisabled:e})}},XE=JE,YE={name:"QrCode",common:_,self:t=>({borderRadius:t.borderRadius})},QE=YE,ZE={name:"Skeleton",common:_,self(t){const{heightSmall:e,heightMedium:r,heightLarge:n,borderRadius:o}=t;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:o,heightSmall:e,heightMedium:r,heightLarge:n}}},eP={name:"Split",common:_},tP=eP,Fd="n-tabs",nb={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},rP=mt({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:nb,setup(t){const e=Dt(Fd,null);return e||Gm("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:e.paneStyleRef,class:e.paneClassRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){return q("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),nP=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},sC(nb,["displayDirective"])),$c=mt({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:nP,setup(t){const{mergedClsPrefixRef:e,valueRef:r,typeRef:n,closableRef:o,tabStyleRef:i,addTabStyleRef:s,tabClassRef:l,addTabClassRef:a,tabChangeIdRef:c,onBeforeLeaveRef:d,triggerRef:u,handleAdd:f,activateTab:h,handleClose:p}=Dt(Fd);return{trigger:u,mergedClosable:Ee(()=>{if(t.internalAddable)return!1;const{closable:m}=t;return m===void 0?o.value:m}),style:i,addStyle:s,tabClass:l,addTabClass:a,clsPrefix:e,value:r,type:n,handleClose(m){m.stopPropagation(),!t.disabled&&p(t.name)},activateTab(){if(t.disabled)return;if(t.internalAddable){f();return}const{name:m}=t,g=++c.id;if(m!==r.value){const{value:x}=d;x?Promise.resolve(x(t.name,r.value)).then(w=>{w&&c.id===g&&h(m)}):h(m)}}}},render(){const{internalAddable:t,clsPrefix:e,name:r,disabled:n,label:o,tab:i,value:s,mergedClosable:l,trigger:a,$slots:{default:c}}=this,d=o??i;return q("div",{class:`${e}-tabs-tab-wrapper`},this.internalLeftPadded?q("div",{class:`${e}-tabs-tab-pad`}):null,q("div",Object.assign({key:r,"data-name":r,"data-disabled":n?!0:void 0},zm({class:[`${e}-tabs-tab`,s===r&&`${e}-tabs-tab--active`,n&&`${e}-tabs-tab--disabled`,l&&`${e}-tabs-tab--closable`,t&&`${e}-tabs-tab--addable`,t?this.addTabClass:this.tabClass],onClick:a==="click"?this.activateTab:void 0,onMouseenter:a==="hover"?this.activateTab:void 0,style:t?this.addStyle:this.style},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),q("span",{class:`${e}-tabs-tab__label`},t?q(ct,null,q("div",{class:`${e}-tabs-tab__height-placeholder`},""),q(Bg,{clsPrefix:e},{default:()=>q(rk,null)})):c?c():typeof d=="object"?d:lC(d??r)),l&&this.type==="card"?q(ak,{clsPrefix:e,class:`${e}-tabs-tab__close`,onClick:this.handleClose,disabled:n}):null))}}),oP=U("tabs",`
 box-sizing: border-box;
 width: 100%;
 display: flex;
 flex-direction: column;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[re("segment-type",[U("tabs-rail",[le("&.transition-disabled",[U("tabs-capsule",`
 transition: none;
 `)])])]),re("top",[U("tab-pane",`
 padding: var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left);
 `)]),re("left",[U("tab-pane",`
 padding: var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) var(--n-pane-padding-top);
 `)]),re("left, right",`
 flex-direction: row;
 `,[U("tabs-bar",`
 width: 2px;
 right: 0;
 transition:
 top .2s var(--n-bezier),
 max-height .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),U("tabs-tab",`
 padding: var(--n-tab-padding-vertical); 
 `)]),re("right",`
 flex-direction: row-reverse;
 `,[U("tab-pane",`
 padding: var(--n-pane-padding-left) var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom);
 `),U("tabs-bar",`
 left: 0;
 `)]),re("bottom",`
 flex-direction: column-reverse;
 justify-content: flex-end;
 `,[U("tab-pane",`
 padding: var(--n-pane-padding-bottom) var(--n-pane-padding-right) var(--n-pane-padding-top) var(--n-pane-padding-left);
 `),U("tabs-bar",`
 top: 0;
 `)]),U("tabs-rail",`
 position: relative;
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[U("tabs-capsule",`
 border-radius: var(--n-tab-border-radius);
 position: absolute;
 pointer-events: none;
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 transition: transform 0.3s var(--n-bezier);
 `),U("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[U("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[re("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 `),le("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),re("flex",[U("tabs-nav",`
 width: 100%;
 position: relative;
 `,[U("tabs-wrapper",`
 width: 100%;
 `,[U("tabs-tab",`
 margin-right: 0;
 `)])])]),U("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[Te("prefix, suffix",`
 display: flex;
 align-items: center;
 `),Te("prefix","padding-right: 16px;"),Te("suffix","padding-left: 16px;")]),re("top, bottom",[U("tabs-nav-scroll-wrapper",[le("&::before",`
 top: 0;
 bottom: 0;
 left: 0;
 width: 20px;
 `),le("&::after",`
 top: 0;
 bottom: 0;
 right: 0;
 width: 20px;
 `),re("shadow-start",[le("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),re("shadow-end",[le("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)])])]),re("left, right",[U("tabs-nav-scroll-content",`
 flex-direction: column;
 `),U("tabs-nav-scroll-wrapper",[le("&::before",`
 top: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),le("&::after",`
 bottom: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),re("shadow-start",[le("&::before",`
 box-shadow: inset 0 10px 8px -8px rgba(0, 0, 0, .12);
 `)]),re("shadow-end",[le("&::after",`
 box-shadow: inset 0 -10px 8px -8px rgba(0, 0, 0, .12);
 `)])])]),U("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[U("tabs-nav-y-scroll",`
 height: 100%;
 width: 100%;
 overflow-y: auto; 
 scrollbar-width: none;
 `,[le("&::-webkit-scrollbar",`
 width: 0;
 height: 0;
 `)]),le("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 z-index: 1;
 `)]),U("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 min-height: 100%;
 width: fit-content;
 box-sizing: border-box;
 `),U("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),U("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),U("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[re("disabled",{cursor:"not-allowed"}),Te("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),Te("label",`
 display: flex;
 align-items: center;
 z-index: 1;
 `)]),U("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[le("&.transition-disabled",`
 transition: none;
 `),re("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),U("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),U("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[le("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),le("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),le("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),le("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),le("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),U("tabs-tab-pad",`
 box-sizing: border-box;
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),re("line-type, bar-type",[U("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[le("&:hover",{color:"var(--n-tab-text-color-hover)"}),re("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),re("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),U("tabs-nav",[re("line-type",[re("top",[Te("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),U("tabs-nav-scroll-content",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),U("tabs-bar",`
 bottom: -1px;
 `)]),re("left",[Te("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),U("tabs-nav-scroll-content",`
 border-right: 1px solid var(--n-tab-border-color);
 `),U("tabs-bar",`
 right: -1px;
 `)]),re("right",[Te("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),U("tabs-nav-scroll-content",`
 border-left: 1px solid var(--n-tab-border-color);
 `),U("tabs-bar",`
 left: -1px;
 `)]),re("bottom",[Te("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),U("tabs-nav-scroll-content",`
 border-top: 1px solid var(--n-tab-border-color);
 `),U("tabs-bar",`
 top: -1px;
 `)]),Te("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),U("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 `),U("tabs-bar",`
 border-radius: 0;
 `)]),re("card-type",[Te("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),U("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 `),U("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 `),U("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[re("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 `,[Te("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),fl("disabled",[le("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),re("closable","padding-right: 8px;"),re("active",`
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),re("disabled","color: var(--n-tab-text-color-disabled);")]),U("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);")]),re("left, right",[U("tabs-wrapper",`
 flex-direction: column;
 `,[U("tabs-tab-wrapper",`
 flex-direction: column;
 `,[U("tabs-tab-pad",`
 height: var(--n-tab-gap-vertical);
 width: 100%;
 `)])])]),re("top",[re("card-type",[U("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 `,[re("active",`
 border-bottom: 1px solid #0000;
 `)]),U("tabs-tab-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),U("tabs-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `)])]),re("left",[re("card-type",[U("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-bottom-left-radius: var(--n-tab-border-radius);
 `,[re("active",`
 border-right: 1px solid #0000;
 `)]),U("tabs-tab-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `),U("tabs-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `)])]),re("right",[re("card-type",[U("tabs-tab",`
 border-top-right-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[re("active",`
 border-left: 1px solid #0000;
 `)]),U("tabs-tab-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `),U("tabs-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `)])]),re("bottom",[re("card-type",[U("tabs-tab",`
 border-bottom-left-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[re("active",`
 border-top: 1px solid #0000;
 `)]),U("tabs-tab-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `),U("tabs-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `)])])])]),iP=Object.assign(Object.assign({},fs.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},placement:{type:String,default:"top"},tabStyle:[String,Object],tabClass:String,addTabStyle:[String,Object],addTabClass:String,barWidth:Number,paneClass:String,paneStyle:[String,Object],paneWrapperClass:String,paneWrapperStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),sP=mt({name:"Tabs",props:iP,setup(t,{slots:e}){var r,n,o,i;const{mergedClsPrefixRef:s,inlineThemeDisabled:l}=$g(t),a=fs("Tabs","-tabs",oP,mE,t,s),c=Ie(null),d=Ie(null),u=Ie(null),f=Ie(null),h=Ie(null),p=Ie(null),m=Ie(!0),g=Ie(!0),x=uf(t,["labelSize","size"]),w=uf(t,["activeName","value"]),O=Ie((n=(r=w.value)!==null&&r!==void 0?r:t.defaultValue)!==null&&n!==void 0?n:e.default?(i=(o=Mi(e.default())[0])===null||o===void 0?void 0:o.props)===null||i===void 0?void 0:i.name:null),b=NC(w,O),A={id:0},v=Ee(()=>{if(!(!t.justifyContent||t.type==="card"))return{display:"flex",justifyContent:t.justifyContent}});gn(b,()=>{A.id=0,V(),I()});function k(){var C;const{value:T}=b;return T===null?null:(C=c.value)===null||C===void 0?void 0:C.querySelector(`[data-name="${T}"]`)}function B(C){if(t.type==="card")return;const{value:T}=d;if(!T)return;const M=T.style.opacity==="0";if(C){const R=`${s.value}-tabs-bar--disabled`,{barWidth:W,placement:G}=t;if(C.dataset.disabled==="true"?T.classList.add(R):T.classList.remove(R),["top","bottom"].includes(G)){if(F(["top","maxHeight","height"]),typeof W=="number"&&C.offsetWidth>=W){const te=Math.floor((C.offsetWidth-W)/2)+C.offsetLeft;T.style.left=`${te}px`,T.style.maxWidth=`${W}px`}else T.style.left=`${C.offsetLeft}px`,T.style.maxWidth=`${C.offsetWidth}px`;T.style.width="8192px",M&&(T.style.transition="none"),T.offsetWidth,M&&(T.style.transition="",T.style.opacity="1")}else{if(F(["left","maxWidth","width"]),typeof W=="number"&&C.offsetHeight>=W){const te=Math.floor((C.offsetHeight-W)/2)+C.offsetTop;T.style.top=`${te}px`,T.style.maxHeight=`${W}px`}else T.style.top=`${C.offsetTop}px`,T.style.maxHeight=`${C.offsetHeight}px`;T.style.height="8192px",M&&(T.style.transition="none"),T.offsetHeight,M&&(T.style.transition="",T.style.opacity="1")}}}function P(){if(t.type==="card")return;const{value:C}=d;C&&(C.style.opacity="0")}function F(C){const{value:T}=d;if(T)for(const M of C)T.style[M]=""}function V(){if(t.type==="card")return;const C=k();C?B(C):P()}function I(C){var T;const M=(T=h.value)===null||T===void 0?void 0:T.$el;if(!M)return;const R=k();if(!R)return;const{scrollLeft:W,offsetWidth:G}=M,{offsetLeft:te,offsetWidth:fe}=R;W>te?M.scrollTo({top:0,left:te,behavior:"smooth"}):te+fe>W+G&&M.scrollTo({top:0,left:te+fe-G,behavior:"smooth"})}const Y=Ie(null);let pe=0,Ce=null;function ce(C){const T=Y.value;if(T){pe=C.getBoundingClientRect().height;const M=`${pe}px`,R=()=>{T.style.height=M,T.style.maxHeight=M};Ce?(R(),Ce(),Ce=null):Ce=R}}function J(C){const T=Y.value;if(T){const M=C.getBoundingClientRect().height,R=()=>{document.body.offsetHeight,T.style.maxHeight=`${M}px`,T.style.height=`${Math.max(pe,M)}px`};Ce?(Ce(),Ce=null,R()):Ce=R}}function se(){const C=Y.value;if(C){C.style.maxHeight="",C.style.height="";const{paneWrapperStyle:T}=t;if(typeof T=="string")C.style.cssText=T;else if(T){const{maxHeight:M,height:R}=T;M!==void 0&&(C.style.maxHeight=M),R!==void 0&&(C.style.height=R)}}}const ze={value:[]},De=Ie("next");function Ze(C){const T=b.value;let M="next";for(const R of ze.value){if(R===T)break;if(R===C){M="prev";break}}De.value=M,Re(C)}function Re(C){const{onActiveNameChange:T,onUpdateValue:M,"onUpdate:value":R}=t;T&&wo(T,C),M&&wo(M,C),R&&wo(R,C),O.value=C}function Nt(C){const{onClose:T}=t;T&&wo(T,C)}function gt(){const{value:C}=d;if(!C)return;const T="transition-disabled";C.classList.add(T),V(),C.classList.remove(T)}const Fe=Ie(null);function me({transitionDisabled:C}){const T=c.value;if(!T)return;C&&T.classList.add("transition-disabled");const M=k();M&&Fe.value&&(Fe.value.style.width=`${M.offsetWidth}px`,Fe.value.style.height=`${M.offsetHeight}px`,Fe.value.style.transform=`translateX(${M.offsetLeft-Yv(getComputedStyle(T).paddingLeft)}px)`,C&&Fe.value.offsetWidth),C&&T.classList.remove("transition-disabled")}gn([b],()=>{t.type==="segment"&&Eo(()=>{me({transitionDisabled:!1})})}),uo(()=>{t.type==="segment"&&me({transitionDisabled:!0})});let et=0;function tt(C){var T;if(C.contentRect.width===0&&C.contentRect.height===0||et===C.contentRect.width)return;et=C.contentRect.width;const{type:M}=t;if((M==="line"||M==="bar")&&gt(),M!=="segment"){const{placement:R}=t;S((R==="top"||R==="bottom"?(T=h.value)===null||T===void 0?void 0:T.$el:p.value)||null)}}const xe=La(tt,64);gn([()=>t.justifyContent,()=>t.size],()=>{Eo(()=>{const{type:C}=t;(C==="line"||C==="bar")&&gt()})});const _e=Ie(!1);function bt(C){var T;const{target:M,contentRect:{width:R}}=C,W=M.parentElement.offsetWidth;if(!_e.value)W<R&&(_e.value=!0);else{const{value:G}=f;if(!G)return;W-R>G.$el.offsetWidth&&(_e.value=!1)}S(((T=h.value)===null||T===void 0?void 0:T.$el)||null)}const Zt=La(bt,64);function y(){const{onAdd:C}=t;C&&C(),Eo(()=>{const T=k(),{value:M}=h;!T||!M||M.scrollTo({left:T.offsetLeft,top:0,behavior:"smooth"})})}function S(C){if(!C)return;const{placement:T}=t;if(T==="top"||T==="bottom"){const{scrollLeft:M,scrollWidth:R,offsetWidth:W}=C;m.value=M<=0,g.value=M+W>=R}else{const{scrollTop:M,scrollHeight:R,offsetHeight:W}=C;m.value=M<=0,g.value=M+W>=R}}const E=La(C=>{S(C.target)},64);jl(Fd,{triggerRef:Lt(t,"trigger"),tabStyleRef:Lt(t,"tabStyle"),tabClassRef:Lt(t,"tabClass"),addTabStyleRef:Lt(t,"addTabStyle"),addTabClassRef:Lt(t,"addTabClass"),paneClassRef:Lt(t,"paneClass"),paneStyleRef:Lt(t,"paneStyle"),mergedClsPrefixRef:s,typeRef:Lt(t,"type"),closableRef:Lt(t,"closable"),valueRef:b,tabChangeIdRef:A,onBeforeLeaveRef:Lt(t,"onBeforeLeave"),activateTab:Ze,handleClose:Nt,handleAdd:y}),$C(()=>{V(),I()}),Vl(()=>{const{value:C}=u;if(!C)return;const{value:T}=s,M=`${T}-tabs-nav-scroll-wrapper--shadow-start`,R=`${T}-tabs-nav-scroll-wrapper--shadow-end`;m.value?C.classList.remove(M):C.classList.add(M),g.value?C.classList.remove(R):C.classList.add(R)});const $={syncBarPosition:()=>{V()}},N=()=>{me({transitionDisabled:!0})},H=Ee(()=>{const{value:C}=x,{type:T}=t,M={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[T],R=`${C}${M}`,{self:{barColor:W,closeIconColor:G,closeIconColorHover:te,closeIconColorPressed:fe,tabColor:Oe,tabBorderColor:Se,paneTextColor:We,tabFontWeight:At,tabBorderRadius:yr,tabFontWeightActive:mo,colorSegment:D,fontWeightStrong:Q,tabColorSegment:ee,closeSize:be,closeIconSize:ve,closeColorHover:lt,closeColorPressed:zt,closeBorderRadius:Jr,[he("panePadding",C)]:Pn,[he("tabPadding",R)]:Nr,[he("tabPaddingVertical",R)]:ii,[he("tabGap",R)]:go,[he("tabGap",`${R}Vertical`)]:Xr,[he("tabTextColor",T)]:va,[he("tabTextColorActive",T)]:si,[he("tabTextColorHover",T)]:bo,[he("tabTextColorDisabled",T)]:dx,[he("tabFontSize",C)]:ux},common:{cubicBezierEaseInOut:fx}}=a.value;return{"--n-bezier":fx,"--n-color-segment":D,"--n-bar-color":W,"--n-tab-font-size":ux,"--n-tab-text-color":va,"--n-tab-text-color-active":si,"--n-tab-text-color-disabled":dx,"--n-tab-text-color-hover":bo,"--n-pane-text-color":We,"--n-tab-border-color":Se,"--n-tab-border-radius":yr,"--n-close-size":be,"--n-close-icon-size":ve,"--n-close-color-hover":lt,"--n-close-color-pressed":zt,"--n-close-border-radius":Jr,"--n-close-icon-color":G,"--n-close-icon-color-hover":te,"--n-close-icon-color-pressed":fe,"--n-tab-color":Oe,"--n-tab-font-weight":At,"--n-tab-font-weight-active":mo,"--n-tab-padding":Nr,"--n-tab-padding-vertical":ii,"--n-tab-gap":go,"--n-tab-gap-vertical":Xr,"--n-pane-padding-left":Es(Pn,"left"),"--n-pane-padding-right":Es(Pn,"right"),"--n-pane-padding-top":Es(Pn,"top"),"--n-pane-padding-bottom":Es(Pn,"bottom"),"--n-font-weight-strong":Q,"--n-tab-color-segment":ee}}),L=l?Ng("tabs",Ee(()=>`${x.value[0]}${t.type[0]}`),H,t):void 0;return Object.assign({mergedClsPrefix:s,mergedValue:b,renderedNames:new Set,segmentCapsuleElRef:Fe,tabsPaneWrapperRef:Y,tabsElRef:c,barElRef:d,addTabInstRef:f,xScrollInstRef:h,scrollWrapperElRef:u,addTabFixed:_e,tabWrapperStyle:v,handleNavResize:xe,mergedSize:x,handleScroll:E,handleTabsResize:Zt,cssVars:l?void 0:H,themeClass:L==null?void 0:L.themeClass,animationDirection:De,renderNameListRef:ze,yScrollElRef:p,handleSegmentResize:N,onAnimationBeforeLeave:ce,onAnimationEnter:J,onAnimationAfterEnter:se,onRender:L==null?void 0:L.onRender},$)},render(){const{mergedClsPrefix:t,type:e,placement:r,addTabFixed:n,addable:o,mergedSize:i,renderNameListRef:s,onRender:l,paneWrapperClass:a,paneWrapperStyle:c,$slots:{default:d,prefix:u,suffix:f}}=this;l==null||l();const h=d?Mi(d()).filter(A=>A.type.__TAB_PANE__===!0):[],p=d?Mi(d()).filter(A=>A.type.__TAB__===!0):[],m=!p.length,g=e==="card",x=e==="segment",w=!g&&!x&&this.justifyContent;s.value=[];const O=()=>{const A=q("div",{style:this.tabWrapperStyle,class:[`${t}-tabs-wrapper`]},w?null:q("div",{class:`${t}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}),m?h.map((v,k)=>(s.value.push(v.props.name),Fa(q($c,Object.assign({},v.props,{internalCreatedByPane:!0,internalLeftPadded:k!==0&&(!w||w==="center"||w==="start"||w==="end")}),v.children?{default:v.children.tab}:void 0)))):p.map((v,k)=>(s.value.push(v.props.name),Fa(k!==0&&!w?qf(v):v))),!n&&o&&g?Vf(o,(m?h.length:p.length)!==0):null,w?null:q("div",{class:`${t}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));return q("div",{ref:"tabsElRef",class:`${t}-tabs-nav-scroll-content`},g&&o?q(Na,{onResize:this.handleTabsResize},{default:()=>A}):A,g?q("div",{class:`${t}-tabs-pad`}):null,g?null:q("div",{ref:"barElRef",class:`${t}-tabs-bar`}))},b=x?"top":r;return q("div",{class:[`${t}-tabs`,this.themeClass,`${t}-tabs--${e}-type`,`${t}-tabs--${i}-size`,w&&`${t}-tabs--flex`,`${t}-tabs--${b}`],style:this.cssVars},q("div",{class:[`${t}-tabs-nav--${e}-type`,`${t}-tabs-nav--${b}`,`${t}-tabs-nav`]},ul(u,A=>A&&q("div",{class:`${t}-tabs-nav__prefix`},A)),x?q(Na,{onResize:this.handleSegmentResize},{default:()=>q("div",{class:`${t}-tabs-rail`,ref:"tabsElRef"},q("div",{class:`${t}-tabs-capsule`,ref:"segmentCapsuleElRef"},q("div",{class:`${t}-tabs-wrapper`},q("div",{class:`${t}-tabs-tab`}))),m?h.map((A,v)=>(s.value.push(A.props.name),q($c,Object.assign({},A.props,{internalCreatedByPane:!0,internalLeftPadded:v!==0}),A.children?{default:A.children.tab}:void 0))):p.map((A,v)=>(s.value.push(A.props.name),v===0?A:qf(A))))}):q(Na,{onResize:this.handleNavResize},{default:()=>q("div",{class:`${t}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},["top","bottom"].includes(b)?q(u1,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:O}):q("div",{class:`${t}-tabs-nav-y-scroll`,onScroll:this.handleScroll,ref:"yScrollElRef"},O()))}),n&&o&&g?Vf(o,!0):null,ul(f,A=>A&&q("div",{class:`${t}-tabs-nav__suffix`},A))),m&&(this.animated&&(b==="top"||b==="bottom")?q("div",{ref:"tabsPaneWrapperRef",style:c,class:[`${t}-tabs-pane-wrapper`,a]},jf(h,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):jf(h,this.mergedValue,this.renderedNames)))}});function jf(t,e,r,n,o,i,s){const l=[];return t.forEach(a=>{const{name:c,displayDirective:d,"display-directive":u}=a.props,f=p=>d===p||u===p,h=e===c;if(a.key!==void 0&&(a.key=c),h||f("show")||f("show:lazy")&&r.has(c)){r.has(c)||r.add(c);const p=!f("if");l.push(p?My(a,[[kv,h]]):a)}}),s?q(Um,{name:`${s}-transition`,onBeforeLeave:n,onEnter:o,onAfterEnter:i},{default:()=>l}):l}function Vf(t,e){return q($c,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:e,disabled:typeof t=="object"&&t.disabled})}function qf(t){const e=Vr(t);return e.props?e.props.internalLeftPadded=!0:e.props={internalLeftPadded:!0},e}function Fa(t){return Array.isArray(t.dynamicProps)?t.dynamicProps.includes("internalLeftPadded")||t.dynamicProps.push("internalLeftPadded"):t.dynamicProps=["internalLeftPadded"],t}const lP="2.38.2";function aP({componentPrefix:t="N",components:e=[]}={}){const r=[];function n(i,s,l){i.component(t+s)||i.component(t+s,l)}function o(i){r.includes(i)||(r.push(i),e.forEach(s=>{const{name:l,alias:a}=s;n(i,l,s),a&&a.forEach(c=>{n(i,c,s)})}))}return{version:lP,componentPrefix:t,install:o}}const cP=()=>({}),dP={name:"Equation",common:_,self:cP},uP=dP,fP={name:"FloatButtonGroup",common:_,self(t){const{popoverColor:e,dividerColor:r,borderRadius:n}=t;return{color:e,buttonBorderColor:r,borderRadiusSquare:n,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)"}}},pP=fP,hP={name:"dark",common:_,Alert:Wk,Anchor:Kk,AutoComplete:Zk,Avatar:Wg,AvatarGroup:oM,BackTop:lM,Badge:cM,Breadcrumb:pM,Button:Kt,ButtonGroup:fO,Calendar:MM,Card:Vg,Carousel:NM,Cascader:FM,Checkbox:ri,Code:qg,Collapse:qM,CollapseTransition:GM,ColorPicker:EM,DataTable:hA,DatePicker:TA,Descriptions:OA,Dialog:Qg,Divider:BA,Drawer:_A,Dropdown:_d,DynamicInput:jA,DynamicTags:UA,Element:JA,Empty:po,Ellipsis:Jg,Equation:uP,Flex:QA,Form:rO,GradientText:hO,Icon:bA,IconWrapper:KE,Image:UE,Input:ar,InputNumber:gO,LegacyTransfer:XE,Layout:xO,List:CO,LoadingBar:wO,Log:kO,Menu:DO,Mention:AO,Message:dO,Modal:$A,Notification:sO,PageHeader:$O,Pagination:Gg,Popconfirm:HO,Popover:ho,Popselect:Kg,Progress:eb,QrCode:QE,Radio:Xg,Rate:WO,Result:KO,Row:FE,Scrollbar:qt,Select:Ug,Skeleton:ZE,Slider:JO,Space:Zg,Spin:QO,Statistic:tE,Steps:iE,Switch:aE,Table:fE,Tabs:bE,Tag:Fg,Thing:vE,TimePicker:Yg,Timeline:wE,Tooltip:na,Transfer:ME,Tree:rb,TreeSelect:PE,Typography:$E,Upload:BE,Watermark:LE,Split:tP,FloatButton:jE,FloatButtonGroup:pP};function at(t){this.content=t}at.prototype={constructor:at,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,o=n.find(t),i=n.content.slice();return o==-1?i.push(r||t,e):(i[o+1]=e,r&&(i[o]=r)),new at(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new at(r)},addToStart:function(t,e){return new at([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new at(r)},addBefore:function(t,e,r){var n=this.remove(e),o=n.content.slice(),i=n.find(t);return o.splice(i==-1?o.length:i,0,e,r),new at(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=at.from(t),t.size?new at(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=at.from(t),t.size?new at(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=at.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};at.from=function(t){if(t instanceof at)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new at(e)};function ob(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let o=t.child(n),i=e.child(n);if(o==i){r+=o.nodeSize;continue}if(!o.sameMarkup(i))return r;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)r++;return r}if(o.content.size||i.content.size){let s=ob(o.content,i.content,r+1);if(s!=null)return s}r+=o.nodeSize}}function ib(t,e,r,n){for(let o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:r,b:n};let s=t.child(--o),l=e.child(--i),a=s.nodeSize;if(s==l){r-=a,n-=a;continue}if(!s.sameMarkup(l))return{a:r,b:n};if(s.isText&&s.text!=l.text){let c=0,d=Math.min(s.text.length,l.text.length);for(;c<d&&s.text[s.text.length-c-1]==l.text[l.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(s.content.size||l.content.size){let c=ib(s.content,l.content,r-1,n-1);if(c)return c}r-=a,n-=a}}class z{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,o=0,i){for(let s=0,l=0;l<r;s++){let a=this.content[s],c=l+a.nodeSize;if(c>e&&n(a,o+l,i||null,s)!==!1&&a.content.size){let d=l+1;a.nodesBetween(Math.max(0,e-d),Math.min(a.content.size,r-d),n,o+d)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,o){let i="",s=!0;return this.nodesBetween(e,r,(l,a)=>{let c=l.isText?l.text.slice(Math.max(e,a)-a,r-a):l.isLeaf?o?typeof o=="function"?o(l):o:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&n&&(s?s=!1:i+=n),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,o=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(o[o.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new z(o,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],o=0;if(r>e)for(let i=0,s=0;s<r;i++){let l=this.content[i],a=s+l.nodeSize;a>e&&((s<e||a>r)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,r-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,r-s-1))),n.push(l),o+=l.nodeSize),s=a}return new z(n,o)}cutByIndex(e,r){return e==r?z.empty:e==0&&r==this.content.length?this:new z(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let o=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return o[e]=r,new z(o,i)}addToStart(e){return new z([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new z(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let o=this.content[r];e(o,n,r),n+=o.nodeSize}}findDiffStart(e,r=0){return ob(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return ib(this,e,r,n)}findIndex(e,r=-1){if(e==0)return zs(0,e);if(e==this.size)return zs(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,o=0;;n++){let i=this.child(n),s=o+i.nodeSize;if(s>=e)return s==e||r>0?zs(n+1,s):zs(n,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return z.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new z(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return z.empty;let r,n=0;for(let o=0;o<e.length;o++){let i=e[o];n+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(r||(r=e.slice(0,o)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new z(r||e,n)}static from(e){if(!e)return z.empty;if(e instanceof z)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new z([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}z.empty=new z([],0);const Wa={index:0,offset:0};function zs(t,e){return Wa.index=t,Wa.offset=e,Wa}function gl(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!gl(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!gl(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Pe=class Nc{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let o=0;o<e.length;o++){let i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,o)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&gl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);return n.create(r.attrs)}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Nc.none;if(e instanceof Nc)return[e];let r=e.slice();return r.sort((n,o)=>n.type.rank-o.type.rank),r}};Pe.none=[];class bl extends Error{}class j{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=lb(this.content,e+this.openStart,r);return n&&new j(n,this.openStart,this.openEnd)}removeBetween(e,r){return new j(sb(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return j.empty;let n=r.openStart||0,o=r.openEnd||0;if(typeof n!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new j(z.fromJSON(e,r.content),n,o)}static maxOpen(e,r=!0){let n=0,o=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)o++;return new j(e,n,o)}}j.empty=new j(z.empty,0,0);function sb(t,e,r){let{index:n,offset:o}=t.findIndex(e),i=t.maybeChild(n),{index:s,offset:l}=t.findIndex(r);if(o==e||i.isText){if(l!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(sb(i.content,e-o-1,r-o-1)))}function lb(t,e,r,n){let{index:o,offset:i}=t.findIndex(e),s=t.maybeChild(o);if(i==e||s.isText)return n&&!n.canReplace(o,o,r)?null:t.cut(0,e).append(r).append(t.cut(e));let l=lb(s.content,e-i-1,r);return l&&t.replaceChild(o,s.copy(l))}function mP(t,e,r){if(r.openStart>t.depth)throw new bl("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new bl("Inconsistent open depths");return ab(t,e,r,0)}function ab(t,e,r,n){let o=t.index(n),i=t.node(n);if(o==e.index(n)&&n<t.depth-r.openStart){let s=ab(t,e,r,n+1);return i.copy(i.content.replaceChild(o,s))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let s=t.parent,l=s.content;return Yn(s,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=gP(r,t);return Yn(i,db(t,s,l,e,n))}else return Yn(i,xl(t,e,n))}function cb(t,e){if(!e.type.compatibleContent(t.type))throw new bl("Cannot join "+e.type.name+" onto "+t.type.name)}function zc(t,e,r){let n=t.node(r);return cb(n,e.node(r)),n}function Xn(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Pi(t,e,r,n){let o=(e||t).node(r),i=0,s=e?e.index(r):o.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(Xn(t.nodeAfter,n),i++));for(let l=i;l<s;l++)Xn(o.child(l),n);e&&e.depth==r&&e.textOffset&&Xn(e.nodeBefore,n)}function Yn(t,e){return t.type.checkContent(e),t.copy(e)}function db(t,e,r,n,o){let i=t.depth>o&&zc(t,e,o+1),s=n.depth>o&&zc(r,n,o+1),l=[];return Pi(null,t,o,l),i&&s&&e.index(o)==r.index(o)?(cb(i,s),Xn(Yn(i,db(t,e,r,n,o+1)),l)):(i&&Xn(Yn(i,xl(t,e,o+1)),l),Pi(e,r,o,l),s&&Xn(Yn(s,xl(r,n,o+1)),l)),Pi(n,null,o,l),new z(l)}function xl(t,e,r){let n=[];if(Pi(null,t,r,n),t.depth>r){let o=zc(t,e,r+1);Xn(Yn(o,xl(t,e,r+1)),n)}return Pi(e,null,r,n),new z(n)}function gP(t,e){let r=e.depth-t.openStart,o=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)o=e.node(i).copy(z.from(o));return{start:o.resolveNoCache(t.openStart+r),end:o.resolveNoCache(o.content.size-t.openEnd-r)}}class Xi{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],o=e.child(r);return n?e.child(r).cut(n):o}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],o=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)o+=n.child(i).nodeSize;return o}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Pe.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),o=e.maybeChild(r);if(!n){let l=n;n=o,o=l}let i=n.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,o=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!o||!n[i].isInSet(o.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new yl(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],o=0,i=r;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(i),c=i-a;if(n.push(s,l,o+a),!c||(s=s.child(l),s.isText))break;i=c-1,o+=a+1}return new Xi(r,n,i)}static resolveCached(e,r){let n=Kf.get(e);if(n)for(let i=0;i<n.elts.length;i++){let s=n.elts[i];if(s.pos==r)return s}else Kf.set(e,n=new bP);let o=n.elts[n.i]=Xi.resolve(e,r);return n.i=(n.i+1)%xP,o}}class bP{constructor(){this.elts=[],this.i=0}}const xP=12,Kf=new WeakMap;class yl{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const yP=Object.create(null);let Qn=class Bc{constructor(e,r,n,o=Pe.none){this.type=e,this.attrs=r,this.marks=o,this.content=n||z.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,o=0){this.content.nodesBetween(e,r,n,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,o){return this.content.textBetween(e,r,n,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&gl(this.attrs,r||e.defaultAttrs||yP)&&Pe.sameSet(this.marks,n||Pe.none)}copy(e=null){return e==this.content?this:new Bc(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Bc(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return j.empty;let o=this.resolve(e),i=this.resolve(r),s=n?0:o.sharedDepth(r),l=o.start(s),c=o.node(s).content.cut(o.pos-l,i.pos-l);return new j(c,o.depth-s,i.depth-s)}replace(e,r,n){return mP(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:o}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(o==e||r.isText)return r;e-=o+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let o=this.content.child(r-1);return{node:o,index:r-1,offset:n-o.nodeSize}}resolve(e){return Xi.resolveCached(this,e)}resolveNoCache(e){return Xi.resolve(this,e)}rangeHasMark(e,r,n){let o=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ub(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=z.empty,o=0,i=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,o,i),l=s&&s.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let a=o;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(e,r,n,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(e).matchType(n),s=i&&i.matchFragment(this.content,r);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Pe.none;for(let r=0;r<this.marks.length;r++)e=this.marks[r].addToSet(e);if(!Pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let o=z.fromJSON(e,r.content);return e.nodeType(r.type).create(r.attrs,o,n)}};Qn.prototype.text=void 0;class vl extends Qn{constructor(e,r,n,o){if(super(e,r,null,o),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ub(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new vl(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new vl(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ub(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class io{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new vP(e,r);if(n.next==null)return io.empty;let o=fb(n);n.next&&n.err("Unexpected trailing text");let i=AP(MP(o));return OP(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let o=this;for(let i=r;o&&i<n;i++)o=o.matchType(e.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let o=[this];function i(s,l){let a=s.matchFragment(e,n);if(a&&(!r||a.validEnd))return z.from(l.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:d,next:u}=s.next[c];if(!(d.isText||d.hasRequiredAttrs())&&o.indexOf(u)==-1){o.push(u);let f=i(u,l.concat(d));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let o=n.shift(),i=o.match;if(i.matchType(e)){let s=[];for(let l=o;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:l,next:a}=i.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!o.type||a.validEnd)&&(n.push({match:l.contentMatch,type:l,via:o}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let o=0;o<n.next.length;o++)e.indexOf(n.next[o].next)==-1&&r(n.next[o].next)}return r(this),e.map((n,o)=>{let i=o+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)i+=(s?", ":"")+n.next[s].type.name+"->"+e.indexOf(n.next[s].next);return i}).join(`
`)}}io.empty=new io(!0);class vP{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function fb(t){let e=[];do e.push(CP(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function CP(t){let e=[];do e.push(SP(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function SP(t){let e=kP(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=wP(t,e);else break;return e}function Uf(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function wP(t,e){let r=Uf(t),n=r;return t.eat(",")&&(t.next!="}"?n=Uf(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function TP(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let o=[];for(let i in r){let s=r[i];s.groups.indexOf(e)>-1&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function kP(t){if(t.eat("(")){let e=fb(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=TP(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function MP(t){let e=[[]];return o(i(t,0),r()),e;function r(){return e.push([])-1}function n(s,l,a){let c={term:a,to:l};return e[s].push(c),c}function o(s,l){s.forEach(a=>a.to=l)}function i(s,l){if(s.type=="choice")return s.exprs.reduce((a,c)=>a.concat(i(c,l)),[]);if(s.type=="seq")for(let a=0;;a++){let c=i(s.exprs[a],l);if(a==s.exprs.length-1)return c;o(c,l=r())}else if(s.type=="star"){let a=r();return n(l,a),o(i(s.expr,a),a),[n(a)]}else if(s.type=="plus"){let a=r();return o(i(s.expr,l),a),o(i(s.expr,a),a),[n(a)]}else{if(s.type=="opt")return[n(l)].concat(i(s.expr,l));if(s.type=="range"){let a=l;for(let c=0;c<s.min;c++){let d=r();o(i(s.expr,a),d),a=d}if(s.max==-1)o(i(s.expr,a),a);else for(let c=s.min;c<s.max;c++){let d=r();n(a,d),o(i(s.expr,a),d),a=d}return[n(a)]}else{if(s.type=="name")return[n(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function pb(t,e){return e-t}function Gf(t,e){let r=[];return n(e),r.sort(pb);function n(o){let i=t[o];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(o);for(let s=0;s<i.length;s++){let{term:l,to:a}=i[s];!l&&r.indexOf(a)==-1&&n(a)}}}function AP(t){let e=Object.create(null);return r(Gf(t,0));function r(n){let o=[];n.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let c;for(let d=0;d<o.length;d++)o[d][0]==l&&(c=o[d][1]);Gf(t,a).forEach(d=>{c||o.push([l,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let i=e[n.join(",")]=new io(n.indexOf(t.length-1)>-1);for(let s=0;s<o.length;s++){let l=o[s][1].sort(pb);i.next.push({type:o[s][0],next:e[l.join(",")]||r(l)})}return i}}function OP(t,e){for(let r=0,n=[t];r<n.length;r++){let o=n[r],i=!o.validEnd,s=[];for(let l=0;l<o.next.length;l++){let{type:a,next:c}=o.next[l];s.push(a.name),i&&!(a.isText||a.hasRequiredAttrs())&&(i=!1),n.indexOf(c)==-1&&n.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function hb(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function mb(t,e){let r=Object.create(null);for(let n in t){let o=e&&e[n];if(o===void 0){let i=t[n];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=o}return r}function gb(t){let e=Object.create(null);if(t)for(let r in t)e[r]=new EP(t[r]);return e}let Jf=class bb{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=gb(n.attrs),this.defaultAttrs=hb(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==io.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:mb(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Qn(this,this.computeAttrs(e),z.from(r),Pe.setFrom(n))}createChecked(e=null,r,n){return r=z.from(r),this.checkContent(r),new Qn(this,this.computeAttrs(e),r,Pe.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=z.from(r),r.size){let s=this.contentMatch.fillBefore(r);if(!s)return null;r=s.append(r)}let o=this.contentMatch.matchFragment(r),i=o&&o.fillBefore(z.empty,!0);return i?new Qn(this,e,r.append(i),Pe.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Pe.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,s)=>n[i]=new bb(i,r,s));let o=r.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};class EP{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class oa{constructor(e,r,n,o){this.name=e,this.rank=r,this.schema=n,this.spec=o,this.attrs=gb(o.attrs),this.excluded=null;let i=hb(this.attrs);this.instance=i?new Pe(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Pe(this,mb(this.attrs,e))}static compile(e,r){let n=Object.create(null),o=0;return e.forEach((i,s)=>n[i]=new oa(i,o++,r,s)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}excludes(e){return this.excluded.indexOf(e)>-1}}class PP{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let o in e)r[o]=e[o];r.nodes=at.from(e.nodes),r.marks=at.from(e.marks||{}),this.nodes=Jf.compile(this.spec.nodes,this),this.marks=oa.compile(this.spec.marks,this);let n=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=n[s]||(n[s]=io.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?Xf(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:Xf(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Jf){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,o)}text(e,r){let n=this.nodes.text;return new vl(n,n.defaultAttrs,e,Pe.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Qn.fromJSON(this,e)}markFromJSON(e){return Pe.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function Xf(t,e){let r=[];for(let n=0;n<e.length;n++){let o=e[n],i=t.marks[o],s=i;if(i)r.push(i);else for(let l in t.marks){let a=t.marks[l];(o=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(o)>-1)&&r.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function DP(t){return t.tag!=null}function RP(t){return t.style!=null}class Lo{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(o=>{if(DP(o))this.tags.push(o);else if(RP(o)){let i=/[^=]*/.exec(o.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=e.nodes[o.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new Qf(this,r,!1);return n.addAll(e,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new Qf(this,r,!0);return n.addAll(e,r.from,r.to),j.maxOpen(n.finish())}matchTag(e,r,n){for(let o=n?this.tags.indexOf(n)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(NP(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,r,n,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!n.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(s.getAttrs){let a=s.getAttrs(r);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let r=[];function n(o){let i=o.priority==null?50:o.priority,s=0;for(;s<r.length;s++){let l=r[s];if((l.priority==null?50:l.priority)<i)break}r.splice(s,0,o)}for(let o in e.marks){let i=e.marks[o].spec.parseDOM;i&&i.forEach(s=>{n(s=Zf(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in e.nodes){let i=e.nodes[o].spec.parseDOM;i&&i.forEach(s=>{n(s=Zf(s)),s.node||s.ignore||s.mark||(s.node=o)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Lo(e,Lo.schemaRules(e)))}}const xb={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},IP={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yb={ol:!0,ul:!0},Cl=1,Sl=2,Di=4;function Yf(t,e,r){return e!=null?(e?Cl:0)|(e==="full"?Sl:0):t&&t.whitespace=="pre"?Cl|Sl:r&~Di}class Bs{constructor(e,r,n,o,i,s,l){this.type=e,this.attrs=r,this.marks=n,this.pendingMarks=o,this.solid=i,this.options=l,this.content=[],this.activeMarks=Pe.none,this.stashMarks=[],this.match=s||(l&Di?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(z.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,o;return(o=n.findWrapping(e.type))?(this.match=n,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Cl)){let n=this.content[this.content.length-1],o;if(n&&n.isText&&(o=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let r=z.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(z.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}popFromStashMark(e){for(let r=this.stashMarks.length-1;r>=0;r--)if(e.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]}applyPending(e){for(let r=0,n=this.pendingMarks;r<n.length;r++){let o=n[r];(this.type?this.type.allowsMarkType(o.type):zP(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!xb.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Qf{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0;let o=r.topNode,i,s=Yf(null,r.preserveWhitespace,0)|(n?Di:0);o?i=new Bs(o.type,o.attrs,Pe.none,Pe.none,!0,r.topMatch||o.type.contentMatch,s):n?i=new Bs(null,null,Pe.none,Pe.none,!0,null,s):i=new Bs(e.schema.topNodeType,null,Pe.none,Pe.none,!0,null,s),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,r){let n=e.style;if(!n||!n.length)return r();let o=this.readStyles(e.style);if(!o)return;let[i,s]=o,l=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<i.length;a++)this.addPendingMark(i[a]);r();for(let a=0;a<i.length;a++)this.removePendingMark(i[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}addTextNode(e){let r=e.nodeValue,n=this.top;if(n.options&Sl||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(n.options&Cl)n.options&Sl?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=n.content[n.content.length-1],i=e.previousSibling;(!o||i&&i.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(e)}else this.findInside(e)}addElement(e,r){let n=e.nodeName.toLowerCase(),o;yb.hasOwnProperty(n)&&this.parser.normalizeLists&&$P(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(i?i.ignore:IP.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let s,l=this.top,a=this.needsBlock;if(xb.hasOwnProperty(n))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}i&&i.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,i,i.consuming===!1?o:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let r=Pe.none,n=Pe.none;if(e.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=e.getPropertyValue(i);if(s)for(let l=void 0;;){let a=this.parser.matchStyle(i,s,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(c=>{a.clearMark(c)&&(n=c.addToSet(n))}):r=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(r),a.consuming===!1)l=a;else break}}return[r,n]}addElementByRule(e,r,n){let o,i,s;r.node?(i=this.parser.schema.nodes[r.node],i.isLeaf?this.insertNode(i.create(r.attrs))||this.leafFallback(e):o=this.enter(i,r.attrs||null,r.preserveWhitespace)):(s=this.parser.schema.marks[r.mark].create(r.attrs),this.addPendingMark(s));let l=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof r.contentElement=="string"?a=e.querySelector(r.contentElement):typeof r.contentElement=="function"?a=r.contentElement(e):r.contentElement&&(a=r.contentElement),this.findAround(e,a,!0),this.addAll(a)}o&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,r,n){let o=r||0;for(let i=r?e.childNodes[r]:e.firstChild,s=n==null?null:e.childNodes[n];i!=s;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i);this.findAtPoint(e,o)}findPlace(e){let r,n;for(let o=this.open;o>=0;o--){let i=this.nodes[o],s=i.findWrapping(e);if(s&&(!r||r.length>s.length)&&(r=s,n=i,!s.length)||i.solid)break}if(!r)return!1;this.sync(n);for(let o=0;o<r.length;o++)this.enterInner(r[o],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(e)){this.closeExtra();let r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));let n=r.activeMarks;for(let o=0;o<e.marks.length;o++)(!r.type||r.type.allowsMarkType(e.marks[o].type))&&(n=e.marks[o].addToSet(n));return r.content.push(e.mark(n)),!0}return!1}enter(e,r,n){let o=this.findPlace(e.create(r));return o&&this.enterInner(e,r,!0,n),o}enterInner(e,r=null,n=!1,o){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let s=Yf(e,o,i.options);i.options&Di&&i.content.length==0&&(s|=Di),this.nodes.push(new Bs(e,r,i.activeMarks,i.pendingMarks,n,null,s)),this.open++}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let o=n.length-1;o>=0;o--)e+=n[o].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&r.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,o=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(o?0:1),s=(l,a)=>{for(;l>=0;l--){let c=r[l];if(c==""){if(l==r.length-1||l==0)continue;for(;a>=i;a--)if(s(l-1,a))return!0;return!1}else{let d=a>0||a==0&&o?this.nodes[a].type:n&&a>=i?n.node(a-i).type:null;if(!d||d.name!=c&&d.groups.indexOf(c)==-1)return!1;a--}}return!0};return s(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}addPendingMark(e){let r=BP(e,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,r){for(let n=this.open;n>=0;n--){let o=this.nodes[n];if(o.pendingMarks.lastIndexOf(e)>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);let s=o.popFromStashMark(e);s&&o.type&&o.type.allowsMarkType(s.type)&&(o.activeMarks=s.addToSet(o.activeMarks))}if(o==r)break}}}function $P(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&yb.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function NP(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Zf(t){let e={};for(let r in t)e[r]=t[r];return e}function zP(t,e){let r=e.schema.nodes;for(let n in r){let o=r[n];if(!o.allowsMarkType(t))continue;let i=[],s=l=>{i.push(l);for(let a=0;a<l.edgeCount;a++){let{type:c,next:d}=l.edge(a);if(c==e||i.indexOf(d)<0&&s(d))return!0}};if(s(o.contentMatch))return!0}}function BP(t,e){for(let r=0;r<e.length;r++)if(t.eq(e[r]))return e[r]}class Ar{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=ja(r).createDocumentFragment());let o=n,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let l=0,a=0;for(;l<i.length&&a<s.marks.length;){let c=s.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(i[l][0])||c.type.spec.spanning===!1)break;l++,a++}for(;l<i.length;)o=i.pop()[1];for(;a<s.marks.length;){let c=s.marks[a++],d=this.serializeMark(c,s.isInline,r);d&&(i.push([c,o]),o.appendChild(d.dom),o=d.contentDOM||d.dom)}}o.appendChild(this.serializeNodeInner(s,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:o}=Ar.renderSpec(ja(r),this.nodes[e.type.name](e));if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,o)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let o=e.marks.length-1;o>=0;o--){let i=this.serializeMark(e.marks[o],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let o=this.marks[e.type.name];return o&&Ar.renderSpec(ja(n),o(e,r))}static renderSpec(e,r,n=null){if(typeof r=="string")return{dom:e.createTextNode(r)};if(r.nodeType!=null)return{dom:r};if(r.dom&&r.dom.nodeType!=null)return r;let o=r[0],i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let s,l=n?e.createElementNS(n,o):e.createElement(o),a=r[1],c=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){c=2;for(let d in a)if(a[d]!=null){let u=d.indexOf(" ");u>0?l.setAttributeNS(d.slice(0,u),d.slice(u+1),a[d]):l.setAttribute(d,a[d])}}for(let d=c;d<r.length;d++){let u=r[d];if(u===0){if(d<r.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:h}=Ar.renderSpec(e,u,n);if(l.appendChild(f),h){if(s)throw new RangeError("Multiple content holes");s=h}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ar(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=ep(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return ep(e.marks)}}function ep(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function ja(t){return t.document||window.document}const vb=65535,Cb=Math.pow(2,16);function HP(t,e){return t+e*Cb}function tp(t){return t&vb}function LP(t){return(t-(t&vb))/Cb}const Sb=1,wb=2,Xs=4,Tb=8;class Hc{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&Tb)>0}get deletedBefore(){return(this.delInfo&(Sb|Xs))>0}get deletedAfter(){return(this.delInfo&(wb|Xs))>0}get deletedAcross(){return(this.delInfo&Xs)>0}}class Ut{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Ut.empty)return Ut.empty}recover(e){let r=0,n=tp(e);if(!this.inverted)for(let o=0;o<n;o++)r+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[n*3]+r+LP(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?o:0);if(a>e)break;let c=this.ranges[l+i],d=this.ranges[l+s],u=a+c;if(e<=u){let f=c?e==a?-1:e==u?1:r:r,h=a+o+(f<0?0:d);if(n)return h;let p=e==(r<0?a:u)?null:HP(l/3,e-a),m=e==a?wb:e==u?Sb:Xs;return(r<0?e!=a:e!=u)&&(m|=Tb),new Hc(h,m,p)}o+=d-c}return n?e+o:new Hc(e+o,0,null)}touches(e,r){let n=0,o=tp(r),i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?n:0);if(a>e)break;let c=this.ranges[l+i],d=a+c;if(e<=d&&l==o*3)return!0;n+=this.ranges[l+s]-c}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],l=s-(this.inverted?i:0),a=s+(this.inverted?0:i),c=this.ranges[o+r],d=this.ranges[o+n];e(l,l+c,a,a+d),i+=d-c}}invert(){return new Ut(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ut.empty:new Ut(e<0?[0,-e,0]:[0,0,e])}}Ut.empty=new Ut([]);class Ro{constructor(e=[],r,n=0,o=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=o}slice(e=0,r=this.maps.length){return new Ro(this.maps,this.mirror,e,r)}copy(){return new Ro(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let o=e.getMirror(r);this.appendMap(e.maps[r],o!=null&&o<r?n+o:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let o=e.getMirror(r);this.appendMap(e.maps[r].invert(),o!=null&&o>r?n-o-1:void 0)}}invert(){let e=new Ro;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let o=0;for(let i=this.from;i<this.to;i++){let s=this.maps[i],l=s.mapResult(e,r);if(l.recover!=null){let a=this.getMirror(i);if(a!=null&&a>i&&a<this.to){i=a,e=this.maps[a].recover(l.recover);continue}}o|=l.delInfo,e=l.pos}return n?e:new Hc(e,o,null)}}const Va=Object.create(null);class kt{getMap(){return Ut.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Va[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Va)throw new RangeError("Duplicate use of step JSON ID "+e);return Va[e]=r,r.prototype.jsonID=e,r}}class Qe{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Qe(e,null)}static fail(e){return new Qe(null,e)}static fromReplace(e,r,n,o){try{return Qe.ok(e.replace(r,n,o))}catch(i){if(i instanceof bl)return Qe.fail(i.message);throw i}}}function Wd(t,e,r){let n=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(Wd(i.content,e,i))),i.isInline&&(i=e(i,r,o)),n.push(i)}return z.fromArray(n)}class un extends kt{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),o=n.node(n.sharedDepth(this.to)),i=new j(Wd(r.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),r.openStart,r.openEnd);return Qe.fromReplace(e,this.from,this.to,i)}invert(){return new Or(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new un(r.pos,n.pos,this.mark)}merge(e){return e instanceof un&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new un(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new un(r.from,r.to,e.markFromJSON(r.mark))}}kt.jsonID("addMark",un);class Or extends kt{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new j(Wd(r.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),r.openStart,r.openEnd);return Qe.fromReplace(e,this.from,this.to,n)}invert(){return new un(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Or(r.pos,n.pos,this.mark)}merge(e){return e instanceof Or&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Or(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Or(r.from,r.to,e.markFromJSON(r.mark))}}kt.jsonID("removeMark",Or);class fn extends kt{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Qe.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Qe.fromReplace(e,this.pos,this.pos+1,new j(z.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let o=0;o<r.marks.length;o++)if(!r.marks[o].isInSet(n))return new fn(this.pos,r.marks[o]);return new fn(this.pos,this.mark)}}return new _o(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new fn(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new fn(r.pos,e.markFromJSON(r.mark))}}kt.jsonID("addNodeMark",fn);class _o extends kt{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Qe.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Qe.fromReplace(e,this.pos,this.pos+1,new j(z.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new fn(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new _o(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _o(r.pos,e.markFromJSON(r.mark))}}kt.jsonID("removeNodeMark",_o);class rt extends kt{constructor(e,r,n,o=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=o}apply(e){return this.structure&&Lc(e,this.from,this.to)?Qe.fail("Structure replace would overwrite content"):Qe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ut([this.from,this.to-this.from,this.slice.size])}invert(e){return new rt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new rt(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof rt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?j.empty:new j(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new rt(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?j.empty:new j(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new rt(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new rt(r.from,r.to,j.fromJSON(e,r.slice),!!r.structure)}}kt.jsonID("replace",rt);class ot extends kt{constructor(e,r,n,o,i,s,l=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=o,this.slice=i,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Lc(e,this.from,this.gapFrom)||Lc(e,this.gapTo,this.to)))return Qe.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Qe.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Qe.fromReplace(e,this.from,this.to,n):Qe.fail("Content does not fit in gap")}getMap(){return new Ut([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new ot(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),o=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||o<r.pos||i>n.pos?null:new ot(r.pos,n.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ot(r.from,r.to,r.gapFrom,r.gapTo,j.fromJSON(e,r.slice),r.insert,!!r.structure)}}kt.jsonID("replaceAround",ot);function Lc(t,e,r){let n=t.resolve(e),o=r-e,i=n.depth;for(;o>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,o--;if(o>0){let s=n.node(i).maybeChild(n.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function _P(t,e,r,n){let o=[],i=[],s,l;t.doc.nodesBetween(e,r,(a,c,d)=>{if(!a.isInline)return;let u=a.marks;if(!n.isInSet(u)&&d.type.allowsMarkType(n.type)){let f=Math.max(c,e),h=Math.min(c+a.nodeSize,r),p=n.addToSet(u);for(let m=0;m<u.length;m++)u[m].isInSet(p)||(s&&s.to==f&&s.mark.eq(u[m])?s.to=h:o.push(s=new Or(f,h,u[m])));l&&l.to==f?l.to=h:i.push(l=new un(f,h,n))}}),o.forEach(a=>t.step(a)),i.forEach(a=>t.step(a))}function FP(t,e,r,n){let o=[],i=0;t.doc.nodesBetween(e,r,(s,l)=>{if(!s.isInline)return;i++;let a=null;if(n instanceof oa){let c=s.marks,d;for(;d=n.isInSet(c);)(a||(a=[])).push(d),c=d.removeFromSet(c)}else n?n.isInSet(s.marks)&&(a=[n]):a=s.marks;if(a&&a.length){let c=Math.min(l+s.nodeSize,r);for(let d=0;d<a.length;d++){let u=a[d],f;for(let h=0;h<o.length;h++){let p=o[h];p.step==i-1&&u.eq(o[h].style)&&(f=p)}f?(f.to=c,f.step=i):o.push({style:u,from:Math.max(l,e),to:c,step:i})}}}),o.forEach(s=>t.step(new Or(s.from,s.to,s.style)))}function kb(t,e,r,n=r.contentMatch,o=!0){let i=t.doc.nodeAt(e),s=[],l=e+1;for(let a=0;a<i.childCount;a++){let c=i.child(a),d=l+c.nodeSize,u=n.matchType(c.type);if(!u)s.push(new rt(l,d,j.empty));else{n=u;for(let f=0;f<c.marks.length;f++)r.allowsMarkType(c.marks[f].type)||t.step(new Or(l,d,c.marks[f]));if(o&&c.isText&&r.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new j(z.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),s.push(new rt(l+f.index,l+f.index+f[0].length,p))}}l=d}if(!n.validEnd){let a=n.fillBefore(z.empty,!0);t.replace(l,l,new j(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function WP(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function ni(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let o=t.$from.node(n),i=t.$from.index(n),s=t.$to.indexAfter(n);if(n<t.depth&&o.canReplace(i,s,r))return n;if(n==0||o.type.spec.isolating||!WP(o,i,s))break}return null}function jP(t,e,r){let{$from:n,$to:o,depth:i}=e,s=n.before(i+1),l=o.after(i+1),a=s,c=l,d=z.empty,u=0;for(let p=i,m=!1;p>r;p--)m||n.index(p)>0?(m=!0,d=z.from(n.node(p).copy(d)),u++):a--;let f=z.empty,h=0;for(let p=i,m=!1;p>r;p--)m||o.after(p+1)<o.end(p)?(m=!0,f=z.from(o.node(p).copy(f)),h++):c++;t.step(new ot(a,c,s,l,new j(d.append(f),u,h),d.size-u,!0))}function jd(t,e,r=null,n=t){let o=VP(t,e),i=o&&qP(n,e);return i?o.map(rp).concat({type:e,attrs:r}).concat(i.map(rp)):null}function rp(t){return{type:t,attrs:null}}function VP(t,e){let{parent:r,startIndex:n,endIndex:o}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return r.canReplaceWith(n,o,s)?i:null}function qP(t,e){let{parent:r,startIndex:n,endIndex:o}=t,i=r.child(n),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let c=n;a&&c<o;c++)a=a.matchType(r.child(c).type);return!a||!a.validEnd?null:s}function KP(t,e,r){let n=z.empty;for(let s=r.length-1;s>=0;s--){if(n.size){let l=r[s].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=z.from(r[s].type.create(r[s].attrs,n))}let o=e.start,i=e.end;t.step(new ot(o,i,o,i,new j(n,0,0),r.length,!0))}function UP(t,e,r,n,o){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(n,o)&&XP(t.doc,t.mapping.slice(i).map(l),n)){let a=null;if(n.schema.linebreakReplacement){let f=n.whitespace=="pre",h=!!n.contentMatch.matchType(n.schema.linebreakReplacement);f&&!h?a=!1:!f&&h&&(a=!0)}a===!1&&JP(t,s,l,i),kb(t,t.mapping.slice(i).map(l,1),n,void 0,a===null);let c=t.mapping.slice(i),d=c.map(l,1),u=c.map(l+s.nodeSize,1);return t.step(new ot(d,u,d+1,u-1,new j(z.from(n.create(o,null,s.marks)),0,0),1,!0)),a===!0&&GP(t,s,l,i),!1}})}function GP(t,e,r,n){e.forEach((o,i)=>{if(o.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(o.text);){let a=t.mapping.slice(n).map(r+1+i+s.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function JP(t,e,r,n){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=t.mapping.slice(n).map(r+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function XP(t,e,r){let n=t.resolve(e),o=n.index();return n.parent.canReplaceWith(o,o+1,r)}function YP(t,e,r,n,o){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let s=r.create(n,null,o||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new ot(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new j(z.from(s),0,0),1,!0))}function Io(t,e,r=1,n){let o=t.resolve(e),i=o.depth-r,s=n&&n[n.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,d=r-2;c>i;c--,d--){let u=o.node(c),f=o.index(c);if(u.type.spec.isolating)return!1;let h=u.content.cutByIndex(f,u.childCount),p=n&&n[d+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=n&&n[d]||u;if(!u.canReplace(f+1,u.childCount)||!m.type.validContent(h))return!1}let l=o.indexAfter(i),a=n&&n[0];return o.node(i).canReplaceWith(l,l,a?a.type:o.node(i+1).type)}function QP(t,e,r=1,n){let o=t.doc.resolve(e),i=z.empty,s=z.empty;for(let l=o.depth,a=o.depth-r,c=r-1;l>a;l--,c--){i=z.from(o.node(l).copy(i));let d=n&&n[c];s=z.from(d?d.type.create(d.attrs,s):o.node(l).copy(s))}t.step(new rt(e,e,new j(i.append(s),r,r),!0))}function Mn(t,e){let r=t.resolve(e),n=r.index();return Mb(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function Mb(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function ia(t,e,r=-1){let n=t.resolve(e);for(let o=n.depth;;o--){let i,s,l=n.index(o);if(o==n.depth?(i=n.nodeBefore,s=n.nodeAfter):r>0?(i=n.node(o+1),l++,s=n.node(o).maybeChild(l)):(i=n.node(o).maybeChild(l-1),s=n.node(o+1)),i&&!i.isTextblock&&Mb(i,s)&&n.node(o).canReplace(l,l+1))return e;if(o==0)break;e=r<0?n.before(o):n.after(o)}}function ZP(t,e,r){let n=new rt(e-r,e+r,j.empty,!0);t.step(n)}function eD(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let o=n.depth-1;o>=0;o--){let i=n.index(o);if(n.node(o).canReplaceWith(i,i,r))return n.before(o+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let o=n.depth-1;o>=0;o--){let i=n.indexAfter(o);if(n.node(o).canReplaceWith(i,i,r))return n.after(o+1);if(i<n.node(o).childCount)return null}return null}function Ab(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let o=r.content;for(let i=0;i<r.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let s=n.depth;s>=0;s--){let l=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,a=n.index(s)+(l>0?1:0),c=n.node(s),d=!1;if(i==1)d=c.canReplace(a,a,o);else{let u=c.contentMatchAt(a).findWrapping(o.firstChild.type);d=u&&c.canReplaceWith(a,a,u[0])}if(d)return l==0?n.pos:l<0?n.before(s+1):n.after(s+1)}return null}function sa(t,e,r=e,n=j.empty){if(e==r&&!n.size)return null;let o=t.resolve(e),i=t.resolve(r);return Ob(o,i,n)?new rt(e,r,n):new tD(o,i,n).fit()}function Ob(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class tD{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=z.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=z.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(e<0?this.$to:n.doc.resolve(e));if(!o)return null;let i=this.placed,s=n.depth,l=o.depth;for(;s&&l&&i.childCount==1;)i=i.firstChild.content,s--,l--;let a=new j(i,s,l);return e>-1?new ot(n.pos,e,this.$to.pos,this.$to.end(),a,r):a.size||n.pos!=this.$to.pos?new rt(n.pos,o.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,o=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(o=0),i.type.spec.isolating&&o<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let o,i=null;n?(i=qa(this.unplaced.content,n-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:c}=this.frontier[l],d,u=null;if(r==1&&(s?c.matchType(s.type)||(u=c.fillBefore(z.from(s),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:l,parent:i,inject:u};if(r==2&&s&&(d=c.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:l,parent:i,wrap:d};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,o=qa(e,r);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new j(e,r+1,Math.max(n,o.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,o=qa(e,r);if(o.childCount<=1&&r>0){let i=e.size-r<=r+o.size;this.unplaced=new j(hi(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new j(hi(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:o,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let m=0;m<i.length;m++)this.openFrontierNode(i[m]);let s=this.unplaced,l=n?n.content:s.content,a=s.openStart-e,c=0,d=[],{match:u,type:f}=this.frontier[r];if(o){for(let m=0;m<o.childCount;m++)d.push(o.child(m));u=u.matchFragment(o)}let h=l.size+e-(s.content.size-s.openEnd);for(;c<l.childCount;){let m=l.child(c),g=u.matchType(m.type);if(!g)break;c++,(c>1||a==0||m.content.size)&&(u=g,d.push(Eb(m.mark(f.allowedMarks(m.marks)),c==1?a:0,c==l.childCount?h:-1)))}let p=c==l.childCount;p||(h=-1),this.placed=mi(this.placed,r,z.from(d)),this.frontier[r].match=u,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=l;m<h;m++){let x=g.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),g=x.content}this.unplaced=p?e==0?j.empty:new j(hi(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new j(hi(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Ka(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,o=this.$to.after(n);for(;n>1&&o==this.$to.end(--n);)++o;return o}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:o}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),s=Ka(e,r,o,n,i);if(s){for(let l=r-1;l>=0;l--){let{match:a,type:c}=this.frontier[l],d=Ka(e,l,c,a,!0);if(!d||d.childCount)continue e}return{depth:r,fit:s,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=mi(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let o=e.node(n),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(n));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,r=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=mi(this.placed,this.depth,z.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(z.empty,!0);r.childCount&&(this.placed=mi(this.placed,this.frontier.length,r))}}function hi(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(hi(t.firstChild.content,e-1,r)))}function mi(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(mi(t.lastChild.content,e-1,r)))}function qa(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function Eb(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,Eb(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(z.empty,!0)))),t.copy(n)}function Ka(t,e,r,n,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!r.compatibleContent(i.type))return null;let l=n.fillBefore(i.content,!0,s);return l&&!rD(r,i.content,s)?l:null}function rD(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function nD(t){return t.spec.defining||t.spec.definingForContent}function oD(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let o=t.doc.resolve(e),i=t.doc.resolve(r);if(Ob(o,i,n))return t.step(new rt(e,r,n));let s=Db(o,t.doc.resolve(r));s[s.length-1]==0&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let f=o.depth,h=o.pos-1;f>0;f--,h--){let p=o.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?l=f:o.before(f)==h&&s.splice(1,0,-f)}let a=s.indexOf(l),c=[],d=n.openStart;for(let f=n.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==n.openStart)break;f=p.content}for(let f=d-1;f>=0;f--){let h=c[f],p=nD(h.type);if(p&&!h.sameMarkup(o.node(Math.abs(l)-1)))d=f;else if(p||!h.type.isTextblock)break}for(let f=n.openStart;f>=0;f--){let h=(f+d+1)%(n.openStart+1),p=c[h];if(p)for(let m=0;m<s.length;m++){let g=s[(m+a)%s.length],x=!0;g<0&&(x=!1,g=-g);let w=o.node(g-1),O=o.index(g-1);if(w.canReplaceWith(O,O,p.type,p.marks))return t.replace(o.before(g),x?i.after(g):r,new j(Pb(n.content,0,n.openStart,h),h,n.openEnd))}}let u=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,r,n),!(t.steps.length>u));f--){let h=s[f];h<0||(e=o.before(h),r=i.after(h))}}function Pb(t,e,r,n,o){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(Pb(i.content,e+1,r,n,i)))}if(e>n){let i=o.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(z.empty,!0))}return t}function iD(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let o=eD(t.doc,e,n.type);o!=null&&(e=r=o)}t.replaceRange(e,r,new j(z.from(n),0,0))}function sD(t,e,r){let n=t.doc.resolve(e),o=t.doc.resolve(r),i=Db(n,o);for(let s=0;s<i.length;s++){let l=i[s],a=s==i.length-1;if(a&&l==0||n.node(l).type.contentMatch.validEnd)return t.delete(n.start(l),o.end(l));if(l>0&&(a||n.node(l-1).canReplace(n.index(l-1),o.indexAfter(l-1))))return t.delete(n.before(l),o.after(l))}for(let s=1;s<=n.depth&&s<=o.depth;s++)if(e-n.start(s)==n.depth-s&&r>n.end(s)&&o.end(s)-r!=o.depth-s)return t.delete(n.before(s),r);t.delete(e,r)}function Db(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let o=n;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&r.push(o)}return r}class $o extends kt{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Qe.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let o=r.type.create(n,null,r.marks);return Qe.fromReplace(e,this.pos,this.pos+1,new j(z.from(o),0,r.isLeaf?0:1))}getMap(){return Ut.empty}invert(e){return new $o(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new $o(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new $o(r.pos,r.attr,r.value)}}kt.jsonID("attr",$o);class Yi extends kt{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let o in e.attrs)r[o]=e.attrs[o];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Qe.ok(n)}getMap(){return Ut.empty}invert(e){return new Yi(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Yi(r.attr,r.value)}}kt.jsonID("docAttr",Yi);let Fo=class extends Error{};Fo=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Fo.prototype=Object.create(Error.prototype);Fo.prototype.constructor=Fo;Fo.prototype.name="TransformError";class Rb{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ro}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Fo(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=j.empty){let o=sa(this.doc,e,r,n);return o&&this.step(o),this}replaceWith(e,r,n){return this.replace(e,r,new j(z.from(n),0,0))}delete(e,r){return this.replace(e,r,j.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return oD(this,e,r,n),this}replaceRangeWith(e,r,n){return iD(this,e,r,n),this}deleteRange(e,r){return sD(this,e,r),this}lift(e,r){return jP(this,e,r),this}join(e,r=1){return ZP(this,e,r),this}wrap(e,r){return KP(this,e,r),this}setBlockType(e,r=e,n,o=null){return UP(this,e,r,n,o),this}setNodeMarkup(e,r,n=null,o){return YP(this,e,r,n,o),this}setNodeAttribute(e,r,n){return this.step(new $o(e,r,n)),this}setDocAttribute(e,r){return this.step(new Yi(e,r)),this}addNodeMark(e,r){return this.step(new fn(e,r)),this}removeNodeMark(e,r){if(!(r instanceof Pe)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new _o(e,r)),this}split(e,r=1,n){return QP(this,e,r,n),this}addMark(e,r,n){return _P(this,e,r,n),this}removeMark(e,r,n){return FP(this,e,r,n),this}clearIncompatible(e,r,n){return kb(this,e,r,n),this}}const Ua=Object.create(null);class de{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new Ib(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=j.empty){let n=r.content.lastChild,o=null;for(let l=0;l<r.openEnd;l++)o=n,n=n.lastChild;let i=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:c}=s[l],d=e.mapping.slice(i);e.replaceRange(d.map(a.pos),d.map(c.pos),l?j.empty:r),l==0&&ip(e,i,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:l}=o[i],a=e.mapping.slice(n),c=a.map(s.pos),d=a.map(l.pos);i?e.deleteRange(c,d):(e.replaceRangeWith(c,d,r),ip(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let o=e.parent.inlineContent?new ae(e):vo(e.node(0),e.parent,e.pos,e.index(),r,n);if(o)return o;for(let i=e.depth-1;i>=0;i--){let s=r<0?vo(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):vo(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(s)return s}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new hr(e.node(0))}static atStart(e){return vo(e,e,0,0,1)||new hr(e)}static atEnd(e){return vo(e,e,e.content.size,e.childCount,-1)||new hr(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Ua[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Ua)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ua[e]=r,r.prototype.jsonID=e,r}getBookmark(){return ae.between(this.$anchor,this.$head).getBookmark()}}de.prototype.visible=!0;class Ib{constructor(e,r){this.$from=e,this.$to=r}}let np=!1;function op(t){!np&&!t.parent.inlineContent&&(np=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ae extends de{constructor(e,r=e){op(e),op(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return de.near(n);let o=e.resolve(r.map(this.anchor));return new ae(o.parent.inlineContent?o:n,n)}replace(e,r=j.empty){if(super.replace(e,r),r==j.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof ae&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new la(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ae(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let o=e.resolve(r);return new this(o,n==r?o:e.resolve(n))}static between(e,r,n){let o=e.pos-r.pos;if((!n||o)&&(n=o>=0?1:-1),!r.parent.inlineContent){let i=de.findFrom(r,n,!0)||de.findFrom(r,-n,!0);if(i)r=i.$head;else return de.near(r,n)}return e.parent.inlineContent||(o==0?e=r:(e=(de.findFrom(e,-n,!0)||de.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=o<0&&(e=r))),new ae(e,r)}}de.jsonID("text",ae);class la{constructor(e,r){this.anchor=e,this.head=r}map(e){return new la(e.map(this.anchor),e.map(this.head))}resolve(e){return ae.between(e.resolve(this.anchor),e.resolve(this.head))}}class ie extends de{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:o}=r.mapResult(this.anchor),i=e.resolve(o);return n?de.near(i):new ie(i)}content(){return new j(z.from(this.node),0,0)}eq(e){return e instanceof ie&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Vd(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ie(e.resolve(r.anchor))}static create(e,r){return new ie(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ie.prototype.visible=!1;de.jsonID("node",ie);class Vd{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new la(n,n):new Vd(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&ie.isSelectable(n)?new ie(r):de.near(r)}}class hr extends de{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=j.empty){if(r==j.empty){e.delete(0,e.doc.content.size);let n=de.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new hr(e)}map(e){return new hr(e)}eq(e){return e instanceof hr}getBookmark(){return lD}}de.jsonID("all",hr);const lD={map(){return this},resolve(t){return new hr(t)}};function vo(t,e,r,n,o,i=!1){if(e.inlineContent)return ae.create(t,r);for(let s=n-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let l=e.child(s);if(l.isAtom){if(!i&&ie.isSelectable(l))return ie.create(t,r-(o<0?l.nodeSize:0))}else{let a=vo(t,l,r+o,o<0?l.childCount:0,o,i);if(a)return a}r+=l.nodeSize*o}return null}function ip(t,e,r){let n=t.steps.length-1;if(n<e)return;let o=t.steps[n];if(!(o instanceof rt||o instanceof ot))return;let i=t.mapping.maps[n],s;i.forEach((l,a,c,d)=>{s==null&&(s=d)}),t.setSelection(de.near(t.doc.resolve(s),r))}const sp=1,Hs=2,lp=4;class aD extends Rb{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|sp)&~Hs,this.storedMarks=null,this}get selectionSet(){return(this.updated&sp)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Hs,this}ensureMarks(e){return Pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Hs)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Hs,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Pe.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let o=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let s=this.doc.resolve(r);i=n==r?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,o.text(e,i)),this.selection.empty||this.setSelection(de.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=lp,this}get scrolledIntoView(){return(this.updated&lp)>0}}function ap(t,e){return!e||!t?t:t.bind(e)}class gi{constructor(e,r,n){this.name=e,this.init=ap(r.init,n),this.apply=ap(r.apply,n)}}const cD=[new gi("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new gi("selection",{init(t,e){return t.selection||de.atStart(e.doc)},apply(t){return t.selection}}),new gi("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new gi("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ga{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=cD.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new gi(n.key,n.spec.state,n))})}}class To{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let o=this.config.plugins[n];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=o?o[s].n:0,c=o?o[s].state:this,d=a<r.length&&l.spec.appendTransaction.call(l,a?r.slice(a):r,c,n);if(d&&n.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",e),!o){o=[];for(let u=0;u<this.config.plugins.length;u++)o.push(u<s?{state:n,n:r.length}:{state:this,n:0})}r.push(d),n=n.applyInner(d),i=!0}o&&(o[s]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new To(this.config),n=this.config.fields;for(let o=0;o<n.length;o++){let i=n[o];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new aD(this)}static create(e){let r=new Ga(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new To(r);for(let o=0;o<r.fields.length;o++)n[r.fields[o].name]=r.fields[o].init(e,n);return n}reconfigure(e){let r=new Ga(this.schema,e.plugins),n=r.fields,o=new To(r);for(let i=0;i<n.length;i++){let s=n[i].name;o[s]=this.hasOwnProperty(s)?this[s]:n[i].init(e,o)}return o}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[n],i=o.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(o,this[o.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Ga(e.schema,e.plugins),i=new To(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=Qn.fromJSON(e.schema,r.doc);else if(s.name=="selection")i.selection=de.fromJSON(i.doc,r.selection);else if(s.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let a=n[l],c=a.spec.state;if(a.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){i[s.name]=c.fromJSON.call(a,e,r[l],i);return}}i[s.name]=s.init(e,i)}}),i}}function $b(t,e,r){for(let n in t){let o=t[n];o instanceof Function?o=o.bind(e):n=="handleDOMEvents"&&(o=$b(o,e,{})),r[n]=o}return r}class Mt{constructor(e){this.spec=e,this.props={},e.props&&$b(e.props,this,this.props),this.key=e.key?e.key.key:Nb("plugin")}getState(e){return e[this.key]}}const Ja=Object.create(null);function Nb(t){return t in Ja?t+"$"+ ++Ja[t]:(Ja[t]=0,t+"$")}class Qt{constructor(e="key"){this.key=Nb(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const dt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Qi=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let _c=null;const _r=function(t,e,r){let n=_c||(_c=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},dD=function(){_c=null},so=function(t,e,r,n){return r&&(cp(t,e,r,n,-1)||cp(t,e,r,n,1))},uD=/^(img|br|input|textarea|hr)$/i;function cp(t,e,r,n,o){for(;;){if(t==r&&e==n)return!0;if(e==(o<0?0:Mr(t))){let i=t.parentNode;if(!i||i.nodeType!=1||hs(t)||uD.test(t.nodeName)||t.contentEditable=="false")return!1;e=dt(t)+(o<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.contentEditable=="false")return!1;e=o<0?Mr(t):0}else return!1}}function Mr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function fD(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Mr(t)}else if(t.parentNode&&!hs(t))e=dt(t),t=t.parentNode;else return null}}function pD(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!hs(t))e=dt(t)+1,t=t.parentNode;else return null}}function hD(t,e,r){for(let n=e==0,o=e==Mr(t);n||o;){if(t==r)return!0;let i=dt(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,o=o&&i==Mr(t)}}function hs(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const aa=function(t){return t.focusNode&&so(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Hn(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function mD(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function gD(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:n.offset}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:n.startOffset}}}const Dr=typeof navigator<"u"?navigator:null,dp=typeof document<"u"?document:null,An=Dr&&Dr.userAgent||"",Fc=/Edge\/(\d+)/.exec(An),zb=/MSIE \d/.exec(An),Wc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(An),Ft=!!(zb||Wc||Fc),bn=zb?document.documentMode:Wc?+Wc[1]:Fc?+Fc[1]:0,gr=!Ft&&/gecko\/(\d+)/i.test(An);gr&&+(/Firefox\/(\d+)/.exec(An)||[0,0])[1];const jc=!Ft&&/Chrome\/(\d+)/.exec(An),Pt=!!jc,bD=jc?+jc[1]:0,Rt=!Ft&&!!Dr&&/Apple Computer/.test(Dr.vendor),Wo=Rt&&(/Mobile\/\w+/.test(An)||!!Dr&&Dr.maxTouchPoints>2),tr=Wo||(Dr?/Mac/.test(Dr.platform):!1),xD=Dr?/Win/.test(Dr.platform):!1,dr=/Android \d/.test(An),ms=!!dp&&"webkitFontSmoothing"in dp.documentElement.style,yD=ms?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function vD(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function zr(t,e){return typeof t=="number"?t:t[e]}function CD(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function up(t,e,r){let n=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=r||t.dom;s;s=Qi(s)){if(s.nodeType!=1)continue;let l=s,a=l==i.body,c=a?vD(i):CD(l),d=0,u=0;if(e.top<c.top+zr(n,"top")?u=-(c.top-e.top+zr(o,"top")):e.bottom>c.bottom-zr(n,"bottom")&&(u=e.bottom-e.top>c.bottom-c.top?e.top+zr(o,"top")-c.top:e.bottom-c.bottom+zr(o,"bottom")),e.left<c.left+zr(n,"left")?d=-(c.left-e.left+zr(o,"left")):e.right>c.right-zr(n,"right")&&(d=e.right-c.right+zr(o,"right")),d||u)if(a)i.defaultView.scrollBy(d,u);else{let f=l.scrollLeft,h=l.scrollTop;u&&(l.scrollTop+=u),d&&(l.scrollLeft+=d);let p=l.scrollLeft-f,m=l.scrollTop-h;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function SD(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,o;for(let i=(e.left+e.right)/2,s=r+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(i,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=r-20){n=l,o=a.top;break}}return{refDOM:n,refTop:o,stack:Bb(t.dom)}}function Bb(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Qi(n));return e}function wD({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;Hb(r,n==0?0:n-e)}function Hb(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:o,left:i}=t[r];n.scrollTop!=o+e&&(n.scrollTop=o+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let xo=null;function TD(t){if(t.setActive)return t.setActive();if(xo)return t.focus(xo);let e=Bb(t);t.focus(xo==null?{get preventScroll(){return xo={preventScroll:!0},!0}}:void 0),xo||(xo=!1,Hb(e,0))}function Lb(t,e){let r,n=2e8,o,i=0,s=e.top,l=e.top,a,c;for(let d=t.firstChild,u=0;d;d=d.nextSibling,u++){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=_r(d).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=s&&p.bottom>=l){s=Math.max(p.bottom,s),l=Math.min(p.top,l);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<n){r=d,n=m,o=m&&r.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,d.nodeType==1&&m&&(i=u+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=d,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!r&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=u+1)}}return!r&&a&&(r=a,o=c,n=0),r&&r.nodeType==3?kD(r,o):!r||n&&r.nodeType==1?{node:t,offset:i}:Lb(r,o)}function kD(t,e){let r=t.nodeValue.length,n=document.createRange();for(let o=0;o<r;o++){n.setEnd(t,o+1),n.setStart(t,o);let i=tn(n,1);if(i.top!=i.bottom&&qd(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function qd(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function MD(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function AD(t,e,r){let{node:n,offset:o}=Lb(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();i=s.left!=s.right&&r.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(n,o,i)}function OD(t,e,r,n){let o=-1;for(let i=e,s=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&(!s&&a.left>n.left||a.top>n.top?o=l.posBefore:(!s&&a.right<n.left||a.bottom<n.top)&&(o=l.posAfter),s=!0),!l.contentDOM&&o<0&&!l.node.isText)return(l.node.isBlock?n.top<(a.top+a.bottom)/2:n.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}i=l.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,r,-1)}function _b(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let o=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=o;;){let s=t.childNodes[i];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let c=l[a];if(qd(e,c))return _b(s,e,c)}}if((i=(i+1)%n)==o)break}return t}function ED(t,e){let r=t.dom.ownerDocument,n,o=0,i=gD(r,e.left,e.top);i&&({node:n,offset:o}=i);let s=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!qd(e,c)||(s=_b(t.dom,e,c),!s))return null}if(Rt)for(let c=s;n&&c;c=Qi(c))c.draggable&&(n=void 0);if(s=MD(s,e),n){if(gr&&n.nodeType==1&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let d=n.childNodes[o],u;d.nodeName=="IMG"&&(u=d.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&o++}let c;ms&&o&&n.nodeType==1&&(c=n.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&o--,n==t.dom&&o==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(o==0||n.nodeType!=1||n.childNodes[o-1].nodeName!="BR")&&(l=OD(t,n,o,e))}l==null&&(l=AD(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function fp(t){return t.top<t.bottom||t.left<t.right}function tn(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(fp(n))return n}return Array.prototype.find.call(r,fp)||t.getBoundingClientRect()}const PD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Fb(t,e,r){let{node:n,offset:o,atom:i}=t.docView.domFromPos(e,r<0?-1:1),s=ms||gr;if(n.nodeType==3)if(s&&(PD.test(n.nodeValue)||(r<0?!o:o==n.nodeValue.length))){let a=tn(_r(n,o,o),r);if(gr&&o&&/\s/.test(n.nodeValue[o-1])&&o<n.nodeValue.length){let c=tn(_r(n,o-1,o-1),-1);if(c.top==a.top){let d=tn(_r(n,o,o+1),-1);if(d.top!=a.top)return di(d,d.left<c.left)}}return a}else{let a=o,c=o,d=r<0?1:-1;return r<0&&!o?(c++,d=-1):r>=0&&o==n.nodeValue.length?(a--,d=1):r<0?a--:c++,di(tn(_r(n,a,c),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&o&&(r<0||o==Mr(n))){let a=n.childNodes[o-1];if(a.nodeType==1)return Xa(a.getBoundingClientRect(),!1)}if(i==null&&o<Mr(n)){let a=n.childNodes[o];if(a.nodeType==1)return Xa(a.getBoundingClientRect(),!0)}return Xa(n.getBoundingClientRect(),r>=0)}if(i==null&&o&&(r<0||o==Mr(n))){let a=n.childNodes[o-1],c=a.nodeType==3?_r(a,Mr(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return di(tn(c,1),!1)}if(i==null&&o<Mr(n)){let a=n.childNodes[o];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?_r(a,0,s?0:1):a.nodeType==1?a:null:null;if(c)return di(tn(c,-1),!0)}return di(tn(n.nodeType==3?_r(n):n,-r),r>=0)}function di(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Xa(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function Wb(t,e,r){let n=t.state,o=t.root.activeElement;n!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),o!=t.dom&&o&&o.focus()}}function DD(t,e,r){let n=e.selection,o=r=="up"?n.$from:n.$to;return Wb(t,e,()=>{let{node:i}=t.docView.domFromPos(o.pos,r=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let s=Fb(t,o.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=_r(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let d=a[c];if(d.bottom>d.top+1&&(r=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const RD=/[\u0590-\u08ac]/;function ID(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let o=n.parentOffset,i=!o,s=o==n.parent.content.size,l=t.domSelection();return!RD.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?i:s:Wb(t,e,()=>{let{focusNode:a,focusOffset:c,anchorNode:d,anchorOffset:u}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",r,"character");let h=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:p,focusOffset:m}=t.domSelectionRange(),g=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&c==m;try{l.collapse(d,u),a&&(a!=d||c!=u)&&l.extend&&l.extend(a,c)}catch{}return f!=null&&(l.caretBidiLevel=f),g})}let pp=null,hp=null,mp=!1;function $D(t,e,r){return pp==e&&hp==r?mp:(pp=e,hp=r,mp=r=="up"||r=="down"?DD(t,e,r):ID(t,e,r))}const or=0,gp=1,jn=2,Rr=3;class gs{constructor(e,r,n,o){this.parent=e,this.children=r,this.dom=n,this.contentDOM=o,this.dirty=or,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let o=this.children[r];if(o==e)return n;n+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,s;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=r>dt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,o=e;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!r||i.node))if(n&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let o=e;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==e&&i!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<i)return o.descAt(e-n-o.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,o=0;for(let i=0;n<this.children.length;n++){let s=this.children[n],l=i+s.size;if(l>e||s instanceof Vb){o=e-i;break}i=l}if(o)return this.children[n].domFromPos(o-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof jb&&i.side>=0;n--);if(r<=0){let i,s=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,s=!1);return i&&r&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?dt(i.dom)+1:0}}else{let i,s=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?dt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=n,l=0;;l++){let a=this.children[l],c=s+a.size;if(o==-1&&e<=c){let d=s+a.border;if(e>=d&&r<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,r,d);e=s;for(let u=l;u>0;u--){let f=this.children[u-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=dt(f.dom)+1;break}e-=f.size}o==-1&&(o=0)}if(o>-1&&(c>r||l==this.children.length-1)){r=c;for(let d=l+1;d<this.children.length;d++){let u=this.children[d];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){i=dt(u.dom);break}r+=u.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:r,fromOffset:o,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,o=!1){let i=Math.min(e,r),s=Math.max(e,r);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],m=h+p.size;if(i>h&&s<m)return p.setSelection(e-h-p.border,r-h-p.border,n,o);h=m}let l=this.domFromPos(e,e?-1:1),a=r==e?l:this.domFromPos(r,r?-1:1),c=n.getSelection(),d=!1;if((gr||Rt)&&e==r){let{node:f,offset:h}=l;if(f.nodeType==3){if(d=!!(h&&f.nodeValue[h-1]==`
`),d&&h==f.nodeValue.length)for(let p=f,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(l=a={node:m.parentNode,offset:dt(m)+1});break}let g=p.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let p=f.childNodes[h-1];d=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(gr&&c.focusNode&&c.focusNode!=a.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(o=!0)}if(!(o||d&&Rt)&&so(l.node,l.offset,c.anchorNode,c.anchorOffset)&&so(a.node,a.offset,c.focusNode,c.focusOffset))return;let u=!1;if((c.extend||e==r)&&!d){c.collapse(l.node,l.offset);try{e!=r&&c.extend(a.node,a.offset),u=!0}catch{}}if(!u){if(e>r){let h=l;l=a,a=h}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,o=0;o<this.children.length;o++){let i=this.children[o],s=n+i.size;if(n==s?e<=s&&r>=n:e<s&&r>n){let l=n+i.border,a=s-i.border;if(e>=l&&r<=a){this.dirty=e==n||r==s?jn:gp,e==l&&r==a&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Rr:i.markDirty(e-l,r-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?jn:Rr}n=s}this.dirty=jn}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?jn:gp;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class jb extends gs{constructor(e,r,n,o){let i,s=r.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==or&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ND extends gs{constructor(e,r,n,o){super(e,[],r,null),this.textDOM=n,this.text=o}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class lo extends gs{constructor(e,r,n,o){super(e,[],n,o),this.mark=r}static create(e,r,n,o){let i=o.nodeViews[r.type.name],s=i&&i(r,o,n);return(!s||!s.dom)&&(s=Ar.renderSpec(document,r.type.spec.toDOM(r,n))),new lo(e,r,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Rr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Rr&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=or){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=or}}slice(e,r,n){let o=lo.create(this.parent,this.mark,!0,n),i=this.children,s=this.size;r<s&&(i=Kc(i,r,s,n)),e>0&&(i=Kc(i,0,e,n));for(let l=0;l<i.length;l++)i[l].parent=o;return o.children=i,o}}class xn extends gs{constructor(e,r,n,o,i,s,l,a,c){super(e,[],i,s),this.node=r,this.outerDeco=n,this.innerDeco=o,this.nodeDOM=l}static create(e,r,n,o,i,s){let l=i.nodeViews[r.type.name],a,c=l&&l(r,i,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},n,o),d=c&&c.dom,u=c&&c.contentDOM;if(r.isText){if(!d)d=document.createTextNode(r.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:u}=Ar.renderSpec(document,r.type.spec.toDOM(r)));!u&&!r.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),r.type.spec.draggable&&(d.draggable=!0));let f=d;return d=Ub(d,n,r),c?a=new zD(e,r,n,o,d,u||null,f,c,i,s+1):r.isText?new ca(e,r,n,o,d,f,i):new xn(e,r,n,o,d,u||null,f,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>z.empty)}return e}matchesNode(e,r,n){return this.dirty==or&&e.eq(this.node)&&qc(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,o=r,i=e.composing?this.localCompositionInfo(e,r):null,s=i&&i.pos>-1?i:null,l=i&&i.pos<0,a=new HD(this,s&&s.node,e);FD(this.node,this.innerDeco,(c,d,u)=>{c.spec.marks?a.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!u&&a.syncToMarks(d==this.node.childCount?Pe.none:this.node.child(d).marks,n,e),a.placeWidget(c,e,o)},(c,d,u,f)=>{a.syncToMarks(c.marks,n,e);let h;a.findNodeMatch(c,d,u,f)||l&&e.state.selection.from>o&&e.state.selection.to<o+c.nodeSize&&(h=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(c,d,u,h,e)||a.updateNextNode(c,d,u,e,f,o)||a.addNode(c,d,u,e,o),o+=c.nodeSize}),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==jn)&&(s&&this.protectLocalComposition(e,s),qb(this.contentDOM,this.children,e),Wo&&WD(this.dom))}localCompositionInfo(e,r){let{from:n,to:o}=e.state.selection;if(!(e.state.selection instanceof ae)||n<r||o>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,l=jD(this.node.content,s,n-r,o-r);return l<0?null:{node:i,pos:l,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:o}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new ND(this,i,r,o);e.input.compositionNodes.push(s),this.children=Kc(this.children,n,n+o.length,e,s)}update(e,r,n,o){return this.dirty==Rr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,o),!0)}updateInner(e,r,n,o){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=or}updateOuterDeco(e){if(qc(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Kb(this.dom,this.nodeDOM,Vc(this.outerDeco,this.node,r),Vc(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function bp(t,e,r,n,o){Ub(n,e,t);let i=new xn(void 0,t,e,r,n,n,n,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class ca extends xn{constructor(e,r,n,o,i,s,l){super(e,r,n,o,i,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,o){return this.dirty==Rr||this.dirty!=or&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=or||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=or,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let o=this.node.cut(e,r),i=document.createTextNode(o.text);return new ca(this.parent,o,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Rr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Vb extends gs{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==or&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class zD extends xn{constructor(e,r,n,o,i,s,l,a,c,d){super(e,r,n,o,i,s,l,c,d),this.spec=a}update(e,r,n,o){if(this.dirty==Rr)return!1;if(this.spec.update){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,o),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,o){this.spec.setSelection?this.spec.setSelection(e,r,n):super.setSelection(e,r,n,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function qb(t,e,r){let n=t.firstChild,o=!1;for(let i=0;i<e.length;i++){let s=e[i],l=s.dom;if(l.parentNode==t){for(;l!=n;)n=xp(n),o=!0;n=n.nextSibling}else o=!0,t.insertBefore(l,n);if(s instanceof lo){let a=n?n.previousSibling:t.lastChild;qb(s.contentDOM,s.children,r),n=a?a.nextSibling:t.firstChild}}for(;n;)n=xp(n),o=!0;o&&r.trackWrites==t&&(r.trackWrites=null)}const Ri=function(t){t&&(this.nodeName=t)};Ri.prototype=Object.create(null);const Vn=[new Ri];function Vc(t,e,r){if(t.length==0)return Vn;let n=r?Vn[0]:new Ri,o=[n];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&o.push(n=new Ri(s.nodeName));for(let l in s){let a=s[l];a!=null&&(r&&o.length==1&&o.push(n=new Ri(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+a:l=="style"?n.style=(n.style?n.style+";":"")+a:l!="nodeName"&&(n[l]=a))}}}return o}function Kb(t,e,r,n){if(r==Vn&&n==Vn)return e;let o=e;for(let i=0;i<n.length;i++){let s=n[i],l=r[i];if(i){let a;l&&l.nodeName==s.nodeName&&o!=t&&(a=o.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(o),l=Vn[0]),o=a}BD(o,l||Vn[0],s)}return o}function BD(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],o=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)o.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<o.length;i++)n.indexOf(o[i])==-1&&t.classList.add(o[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=n.exec(e.style);)t.style.removeProperty(o[1])}r.style&&(t.style.cssText+=r.style)}}function Ub(t,e,r){return Kb(t,t,Vn,Vc(e,r,t.nodeType!=1))}function qc(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function xp(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class HD{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=LD(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let o=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=or,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=lo.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(e,r,n))i=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let c=this.top.children[l];if(c.matchesNode(e,r,n)&&!this.preMatch.matched.has(c)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,o,i){let s=this.top.children[o];return s.dirty==Rr&&s.dom==s.contentDOM&&(s.dirty=jn),s.update(e,r,n,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==n)return o}return-1}e=r}}updateNextNode(e,r,n,o,i,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof xn){let c=this.preMatch.matched.get(a);if(c!=null&&c!=i)return!1;let d=a.dom,u,f=this.isLocked(d)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Rr&&qc(r,a.outerDeco));if(!f&&a.update(e,r,n,o))return this.destroyBetween(this.index,l),a.dom!=d&&(this.changed=!0),this.index++,!0;if(!f&&(u=this.recreateWrapper(a,e,r,n,o,s)))return this.top.children[this.index]=u,u.contentDOM&&(u.dirty=jn,u.updateChildren(o,s+1),u.dirty=or),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,o,i,s){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content))return null;let l=xn.create(this.top,r,n,o,i,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,r,n,o,i){let s=xn.create(this.top,e,r,n,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,r,n){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new jb(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof lo;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof ca)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Rt||Pt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let o=new Vb(this.top,[],n,null);r!=this.top?r.children.push(o):r.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function LD(t,e){let r=e,n=r.children.length,o=t.childCount,i=new Map,s=[];e:for(;o>0;){let l;for(;;)if(n){let c=r.children[n-1];if(c instanceof lo)r=c,n=c.children.length;else{l=c,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let a=l.node;if(a){if(a!=t.child(o-1))break;--o,i.set(l,o),s.push(l)}}return{index:o,matched:i,matches:s.reverse()}}function _D(t,e){return t.type.side-e.type.side}function FD(t,e,r,n){let o=e.locals(t),i=0;if(o.length==0){for(let c=0;c<t.childCount;c++){let d=t.child(c);n(d,o,e.forChild(i,d),c),i+=d.nodeSize}return}let s=0,l=[],a=null;for(let c=0;;){let d,u;for(;s<o.length&&o[s].to==i;){let g=o[s++];g.widget&&(d?(u||(u=[d])).push(g):d=g)}if(d)if(u){u.sort(_D);for(let g=0;g<u.length;g++)r(u[g],c,!!a)}else r(d,c,!!a);let f,h;if(a)h=-1,f=a,a=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let g=0;g<l.length;g++)l[g].to<=i&&l.splice(g--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)l.push(o[s++]);let p=i+f.nodeSize;if(f.isText){let g=p;s<o.length&&o[s].from<g&&(g=o[s].from);for(let x=0;x<l.length;x++)l[x].to<g&&(g=l[x].to);g<p&&(a=f.cut(g-i),f=f.cut(0,g-i),p=g,h=-1)}else for(;s<o.length&&o[s].to<p;)s++;let m=f.isInline&&!f.isLeaf?l.filter(g=>!g.inline):l.slice();n(f,m,e.forChild(i,f),h),i=p}}function WD(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function jD(t,e,r,n){for(let o=0,i=0;o<t.childCount&&i<=n;){let s=t.child(o++),l=i;if(i+=s.nodeSize,!s.isText)continue;let a=s.text;for(;o<t.childCount;){let c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;a+=c.text}if(i>=r){if(i>=n&&a.slice(n-e.length-l,n-l)==e)return n-e.length;let c=l<n?a.lastIndexOf(e,n-l-1):-1;if(c>=0&&c+e.length+l>=r)return l+c;if(r==n&&a.length>=n+e.length-l&&a.slice(n-l,n-l+e.length)==e)return n}}return-1}function Kc(t,e,r,n,o){let i=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],c=l,d=l+=a.size;c>=r||d<=e?i.push(a):(c<e&&i.push(a.slice(0,e-c,n)),o&&(i.push(o),o=void 0),d>r&&i.push(a.slice(r-c,a.size,n)))}return i}function Kd(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let o=t.docView.nearestDesc(r.focusNode),i=o&&o.size==0,s=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(s<0)return null;let l=n.resolve(s),a,c;if(aa(r)){for(a=l;o&&!o.node;)o=o.parent;let d=o.node;if(o&&d.isAtom&&ie.isSelectable(d)&&o.parent&&!(d.isInline&&hD(r.focusNode,r.focusOffset,o.dom))){let u=o.posBefore;c=new ie(s==u?l:n.resolve(u))}}else{let d=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(d<0)return null;a=n.resolve(d)}if(!c){let d=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;c=Ud(t,a,l,d)}return c}function Gb(t){return t.editable?t.hasFocus():Xb(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function jr(t,e=!1){let r=t.state.selection;if(Jb(t,r),!!Gb(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Pt){let n=t.domSelectionRange(),o=t.domObserver.currentSelection;if(n.anchorNode&&o.anchorNode&&so(n.anchorNode,n.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)qD(t);else{let{anchor:n,head:o}=r,i,s;yp&&!(r instanceof ae)&&(r.$from.parent.inlineContent||(i=vp(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(s=vp(t,r.to))),t.docView.setSelection(n,o,t.root,e),yp&&(i&&Cp(i),s&&Cp(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&VD(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const yp=Rt||Pt&&bD<63;function vp(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),o=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if(Rt&&o&&o.contentEditable=="false")return Ya(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return Ya(o);if(i)return Ya(i)}}function Ya(t){return t.contentEditable="true",Rt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Cp(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function VD(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,o=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Gb(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function qD(t){let e=t.domSelection(),r=document.createRange(),n=t.cursorWrapper.dom,o=n.nodeName=="IMG";o?r.setEnd(n.parentNode,dt(n)+1):r.setEnd(n,0),r.collapse(!1),e.removeAllRanges(),e.addRange(r),!o&&!t.state.selection.visible&&Ft&&bn<=11&&(n.disabled=!0,n.disabled=!1)}function Jb(t,e){if(e instanceof ie){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(Sp(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else Sp(t)}function Sp(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Ud(t,e,r,n){return t.someProp("createSelectionBetween",o=>o(t,e,r))||ae.between(e,r,n)}function wp(t){return t.editable&&!t.hasFocus()?!1:Xb(t)}function Xb(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function KD(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return so(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Uc(t,e){let{$anchor:r,$head:n}=t.selection,o=e>0?r.max(n):r.min(n),i=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return i&&de.findFrom(i,e)}function sn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Tp(t,e,r){let n=t.state.selection;if(n instanceof ae)if(r.indexOf("s")>-1){let{$head:o}=n,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(o.pos+i.nodeSize*(e<0?-1:1));return sn(t,new ae(n.$anchor,s))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=Uc(t.state,e);return o&&o instanceof ie?sn(t,o):!1}else if(!(tr&&r.indexOf("m")>-1)){let o=n.$head,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let l=e<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?ie.isSelectable(i)?sn(t,new ie(e<0?t.state.doc.resolve(o.pos-i.nodeSize):o)):ms?sn(t,new ae(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof ie&&n.node.isInline)return sn(t,new ae(e>0?n.$to:n.$from));{let o=Uc(t.state,e);return o?sn(t,o):!1}}}function wl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ii(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function yo(t,e){return e<0?UD(t):GD(t)}function UD(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let o,i,s=!1;for(gr&&r.nodeType==1&&n<wl(r)&&Ii(r.childNodes[n],-1)&&(s=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(Ii(l,-1))o=r,i=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(Yb(r))break;{let l=r.previousSibling;for(;l&&Ii(l,-1);)o=r.parentNode,i=dt(l),l=l.previousSibling;if(l)r=l,n=wl(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}s?Gc(t,r,n):o&&Gc(t,o,i)}function GD(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let o=wl(r),i,s;for(;;)if(n<o){if(r.nodeType!=1)break;let l=r.childNodes[n];if(Ii(l,1))i=r,s=++n;else break}else{if(Yb(r))break;{let l=r.nextSibling;for(;l&&Ii(l,1);)i=l.parentNode,s=dt(l)+1,l=l.nextSibling;if(l)r=l,n=0,o=wl(r);else{if(r=r.parentNode,r==t.dom)break;n=o=0}}}i&&Gc(t,i,s)}function Yb(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function JD(t,e){for(;t&&e==t.childNodes.length&&!hs(t);)e=dt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function XD(t,e){for(;t&&!e&&!hs(t);)e=dt(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function Gc(t,e,r){if(e.nodeType!=3){let i,s;(s=JD(e,r))?(e=s,r=0):(i=XD(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(aa(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&jr(t)},50)}function kp(t,e){let r=t.state.doc.resolve(e);if(!(Pt||xD)&&r.parent.inlineContent){let o=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Mp(t,e,r){let n=t.state.selection;if(n instanceof ae&&!n.empty||r.indexOf("s")>-1||tr&&r.indexOf("m")>-1)return!1;let{$from:o,$to:i}=n;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Uc(t.state,e);if(s&&s instanceof ie)return sn(t,s)}if(!o.parent.inlineContent){let s=e<0?o:i,l=n instanceof hr?de.near(s,e):de.findFrom(s,e);return l?sn(t,l):!1}return!1}function Ap(t,e){if(!(t.state.selection instanceof ae))return!0;let{$head:r,$anchor:n,empty:o}=t.state.selection;if(!r.sameParent(n))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(r.pos-i.nodeSize,r.pos):s.delete(r.pos,r.pos+i.nodeSize),t.dispatch(s),!0}return!1}function Op(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function YD(t){if(!Rt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Op(t,n,"true"),setTimeout(()=>Op(t,n,"false"),20)}return!1}function QD(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ZD(t,e){let r=e.keyCode,n=QD(e);if(r==8||tr&&r==72&&n=="c")return Ap(t,-1)||yo(t,-1);if(r==46&&!e.shiftKey||tr&&r==68&&n=="c")return Ap(t,1)||yo(t,1);if(r==13||r==27)return!0;if(r==37||tr&&r==66&&n=="c"){let o=r==37?kp(t,t.state.selection.from)=="ltr"?-1:1:-1;return Tp(t,o,n)||yo(t,o)}else if(r==39||tr&&r==70&&n=="c"){let o=r==39?kp(t,t.state.selection.from)=="ltr"?1:-1:1;return Tp(t,o,n)||yo(t,o)}else{if(r==38||tr&&r==80&&n=="c")return Mp(t,-1,n)||yo(t,-1);if(r==40||tr&&r==78&&n=="c")return YD(t)||Mp(t,1,n)||yo(t,1);if(n==(tr?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function Qb(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let r=[],{content:n,openStart:o,openEnd:i}=e;for(;o>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){o--,i--;let h=n.firstChild;r.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let s=t.someProp("clipboardSerializer")||Ar.fromSchema(t.state.schema),l=o0(),a=l.createElement("div");a.appendChild(s.serializeFragment(n,{document:l}));let c=a.firstChild,d,u=0;for(;c&&c.nodeType==1&&(d=n0[c.nodeName.toLowerCase()]);){for(let h=d.length-1;h>=0;h--){let p=l.createElement(d[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),u++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${i}${u?` -${u}`:""} ${JSON.stringify(r)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function Zb(t,e,r,n,o){let i=o.parent.type.spec.code,s,l;if(!r&&!e)return null;let a=e&&(n||i||!r);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,i||n,t)}),i)return e?new j(z.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):j.empty;let u=t.someProp("clipboardTextParser",f=>f(e,o,n,t));if(u)l=u;else{let f=o.marks(),{schema:h}=t.state,p=Ar.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=s.appendChild(document.createElement("p"));m&&g.appendChild(p.serializeNode(h.text(m,f)))})}}else t.someProp("transformPastedHTML",u=>{r=u(r,t)}),s=rR(r),ms&&nR(s);let c=s&&s.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let u=+d[3];u>0;u--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Lo.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||d),context:o,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!eR.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)l=oR(Ep(l,+d[1],+d[2]),d[4]);else if(l=j.maxOpen(tR(l.content,o),!0),l.openStart||l.openEnd){let u=0,f=0;for(let h=l.content.firstChild;u<l.openStart&&!h.type.spec.isolating;u++,h=h.firstChild);for(let h=l.content.lastChild;f<l.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);l=Ep(l,u,f)}return t.someProp("transformPasted",u=>{l=u(l,t)}),l}const eR=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function tR(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let o=e.node(r).contentMatchAt(e.index(r)),i,s=[];if(t.forEach(l=>{if(!s)return;let a=o.findWrapping(l.type),c;if(!a)return s=null;if(c=s.length&&i.length&&t0(a,i,l,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=r0(s[s.length-1],i.length));let d=e0(l,a);s.push(d),o=o.matchType(d.type),i=a}}),s)return z.from(s)}return t}function e0(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,z.from(t));return t}function t0(t,e,r,n,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let i=t0(t,e,r,n.lastChild,o+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(o==t.length-1?r.type:t[o+1]))return n.copy(n.content.append(z.from(e0(r,t,o+1))))}}function r0(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,r0(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(z.empty,!0);return t.copy(r.append(n))}function Jc(t,e,r,n,o,i){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(i=0),o<n-1&&(l=Jc(l,e,r,n,o+1,i)),o>=r&&(l=e<0?s.contentMatchAt(0).fillBefore(l,i<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(z.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function Ep(t,e,r){return e<t.openStart&&(t=new j(Jc(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new j(Jc(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const n0={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Pp=null;function o0(){return Pp||(Pp=document.implementation.createHTMLDocument("title"))}function rR(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=o0().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),o;if((o=n&&n0[n[1].toLowerCase()])&&(t=o.map(i=>"<"+i+">").join("")+t+o.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=t,o)for(let i=0;i<o.length;i++)r=r.querySelector(o[i])||r;return r}function nR(t){let e=t.querySelectorAll(Pt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function oR(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:o,openStart:i,openEnd:s}=t;for(let l=n.length-2;l>=0;l-=2){let a=r.nodes[n[l]];if(!a||a.hasRequiredAttrs())break;o=z.from(a.create(n[l+1],o)),i++,s++}return new j(o,i,s)}const It={},$t={},iR={touchstart:!0,touchmove:!0};class sR{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function lR(t){for(let e in It){let r=It[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{cR(t,n)&&!Gd(t,n)&&(t.editable||!(n.type in $t))&&r(t,n)},iR[e]?{passive:!0}:void 0)}Rt&&t.dom.addEventListener("input",()=>null),Xc(t)}function pn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function aR(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Xc(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Gd(t,n))})}function Gd(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function cR(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function dR(t,e){!Gd(t,e)&&It[e.type]&&(t.editable||!(e.type in $t))&&It[e.type](t,e)}$t.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!s0(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(dr&&Pt&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Wo&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",o=>o(t,Hn(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||ZD(t,r)?r.preventDefault():pn(t,"key")};$t.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};$t.keypress=(t,e)=>{let r=e;if(s0(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||tr&&r.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof ae)||!n.$from.sameParent(n.$to)){let o=String.fromCharCode(r.charCode);!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",i=>i(t,n.$from.pos,n.$to.pos,o))&&t.dispatch(t.state.tr.insertText(o).scrollIntoView()),r.preventDefault()}};function da(t){return{left:t.clientX,top:t.clientY}}function uR(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Jd(t,e,r,n,o){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,l=>s>i.depth?l(t,r,i.nodeAfter,i.before(s),o,!0):l(t,r,i.node(s),i.before(s),o,!1)))return!0;return!1}function No(t,e,r){t.focused||t.focus();let n=t.state.tr.setSelection(e);r=="pointer"&&n.setMeta("pointer",!0),t.dispatch(n)}function fR(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&ie.isSelectable(n)?(No(t,new ie(r),"pointer"),!0):!1}function pR(t,e){if(e==-1)return!1;let r=t.state.selection,n,o;r instanceof ie&&(n=r.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s);if(ie.isSelectable(l)){n&&r.$from.depth>0&&s>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?o=i.before(r.$from.depth):o=i.before(s);break}}return o!=null?(No(t,ie.create(t.state.doc,o),"pointer"),!0):!1}function hR(t,e,r,n,o){return Jd(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(o?pR(t,r):fR(t,r))}function mR(t,e,r,n){return Jd(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",o=>o(t,e,n))}function gR(t,e,r,n){return Jd(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",o=>o(t,e,n))||bR(t,r,n)}function bR(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(No(t,ae.create(n,0,n.content.size),"pointer"),!0):!1;let o=n.resolve(e);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),l=o.before(i);if(s.inlineContent)No(t,ae.create(n,l+1,l+1+s.content.size),"pointer");else if(ie.isSelectable(s))No(t,ie.create(n,l),"pointer");else continue;return!0}}function Xd(t){return Tl(t)}const i0=tr?"metaKey":"ctrlKey";It.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=Xd(t),o=Date.now(),i="singleClick";o-t.input.lastClick.time<500&&uR(r,t.input.lastClick)&&!r[i0]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:o,x:r.clientX,y:r.clientY,type:i};let s=t.posAtCoords(da(r));s&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new xR(t,s,r,!!n)):(i=="doubleClick"?mR:gR)(t,s.pos,s.inside,r)?r.preventDefault():pn(t,"pointer"))};class xR{constructor(e,r,n,o){this.view=e,this.pos=r,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[i0],this.allowDefault=n.shiftKey;let i,s;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),s=r.inside;else{let d=e.state.doc.resolve(r.pos);i=d.parent,s=d.depth?d.before():0}const l=o?null:n.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:c}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof ie&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),pn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>jr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(da(e))),this.updateAllowDefault(e),this.allowDefault||!r?pn(this.view,"pointer"):hR(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Rt&&this.mightDrag&&!this.mightDrag.node.isAtom||Pt&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(No(this.view,de.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):pn(this.view,"pointer")}move(e){this.updateAllowDefault(e),pn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}It.touchstart=t=>{t.input.lastTouch=Date.now(),Xd(t),pn(t,"pointer")};It.touchmove=t=>{t.input.lastTouch=Date.now(),pn(t,"pointer")};It.contextmenu=t=>Xd(t);function s0(t,e){return t.composing?!0:Rt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const yR=dr?5e3:-1;$t.compositionstart=$t.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Tl(t,!0),t.markCursor=null;else if(Tl(t),gr&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let o=n.focusNode,i=n.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else o=s,i=-1}}t.input.composing=!0}l0(t,yR)};$t.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,l0(t,20))};function l0(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Tl(t),e))}function a0(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=CR());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function vR(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=fD(e.focusNode,e.focusOffset),n=pD(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let o=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!o||!o.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let s=r.pmViewDesc;if(!(!s||!s.isText(r.nodeValue)))return n}}return r||n}function CR(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Tl(t,e=!1){if(!(dr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),a0(t),e||t.docView&&t.docView.dirty){let r=Kd(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0}return!1}}function SR(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(o),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Zi=Ft&&bn<15||Wo&&yD<604;It.copy=$t.cut=(t,e)=>{let r=e,n=t.state.selection,o=r.type=="cut";if(n.empty)return;let i=Zi?null:r.clipboardData,s=n.content(),{dom:l,text:a}=Qb(t,s);i?(r.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):SR(t,l),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function wR(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function TR(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?es(t,n.value,null,o,e):es(t,n.textContent,n.innerHTML,o,e)},50)}function es(t,e,r,n,o){let i=Zb(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,o,i||j.empty)))return!0;if(!i)return!1;let s=wR(i),l=s?t.state.tr.replaceSelectionWith(s,n):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function c0(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}$t.paste=(t,e)=>{let r=e;if(t.composing&&!dr)return;let n=Zi?null:r.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&es(t,c0(n),n.getData("text/html"),o,r)?r.preventDefault():TR(t,r)};class d0{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const u0=tr?"altKey":"ctrlKey";It.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let o=t.state.selection,i=o.empty?null:t.posAtCoords(da(r)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof ie?o.to-1:o.to))){if(n&&n.mightDrag)s=ie.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let u=t.docView.nearestDesc(r.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&(s=ie.create(t.state.doc,u.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:c,slice:d}=Qb(t,l);r.dataTransfer.clearData(),r.dataTransfer.setData(Zi?"Text":"text/html",a.innerHTML),r.dataTransfer.effectAllowed="copyMove",Zi||r.dataTransfer.setData("text/plain",c),t.dragging=new d0(d,!r[u0],s)};It.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};$t.dragover=$t.dragenter=(t,e)=>e.preventDefault();$t.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let o=t.posAtCoords(da(r));if(!o)return;let i=t.state.doc.resolve(o.pos),s=n&&n.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=Zb(t,c0(r.dataTransfer),Zi?null:r.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&!r[u0]);if(t.someProp("handleDrop",p=>p(t,r,s||j.empty,l))){r.preventDefault();return}if(!s)return;r.preventDefault();let a=s?Ab(t.state.doc,i.pos,s):i.pos;a==null&&(a=i.pos);let c=t.state.tr;if(l){let{node:p}=n;p?p.replace(c):c.deleteSelection()}let d=c.mapping.map(a),u=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(u?c.replaceRangeWith(d,d,s.content.firstChild):c.replaceRange(d,d,s),c.doc.eq(f))return;let h=c.doc.resolve(d);if(u&&ie.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ie(h));else{let p=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((m,g,x,w)=>p=w),c.setSelection(Ud(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};It.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&jr(t)},20))};It.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};It.beforeinput=(t,e)=>{if(Pt&&dr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Hn(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in $t)It[t]=$t[t];function ts(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class kl{constructor(e,r){this.toDOM=e,this.spec=r||Zn,this.side=this.spec.side||0}map(e,r,n,o){let{pos:i,deleted:s}=e.mapResult(r.from+o,this.side<0?-1:1);return s?null:new _t(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof kl&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ts(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class yn{constructor(e,r){this.attrs=e,this.spec=r||Zn}map(e,r,n,o){let i=e.map(r.from+o,this.spec.inclusiveStart?-1:1)-n,s=e.map(r.to+o,this.spec.inclusiveEnd?1:-1)-n;return i>=s?null:new _t(i,s,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof yn&&ts(this.attrs,e.attrs)&&ts(this.spec,e.spec)}static is(e){return e.type instanceof yn}destroy(){}}class Yd{constructor(e,r){this.attrs=e,this.spec=r||Zn}map(e,r,n,o){let i=e.mapResult(r.from+o,1);if(i.deleted)return null;let s=e.mapResult(r.to+o,-1);return s.deleted||s.pos<=i.pos?null:new _t(i.pos-n,s.pos-n,this)}valid(e,r){let{index:n,offset:o}=e.content.findIndex(r.from),i;return o==r.from&&!(i=e.child(n)).isText&&o+i.nodeSize==r.to}eq(e){return this==e||e instanceof Yd&&ts(this.attrs,e.attrs)&&ts(this.spec,e.spec)}destroy(){}}class _t{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new _t(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new _t(e,e,new kl(r,n))}static inline(e,r,n,o){return new _t(e,r,new yn(n,o))}static node(e,r,n,o){return new _t(e,r,new Yd(n,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof yn}get widget(){return this.type instanceof kl}}const Co=[],Zn={};class Ve{constructor(e,r){this.local=e.length?e:Co,this.children=r.length?r:Co}static create(e,r){return r.length?Ml(r,e,0,Zn):yt}find(e,r,n){let o=[];return this.findInner(e??0,r??1e9,o,0,n),o}findInner(e,r,n,o,i){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=r&&l.to>=e&&(!i||i(l.spec))&&n.push(l.copy(l.from+o,l.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<r&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,r-l,n,o+l,i)}}map(e,r,n){return this==yt||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Zn)}mapInner(e,r,n,o,i){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,n,o);a&&a.type.valid(r,a)?(s||(s=[])).push(a):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?kR(this.children,s||[],e,r,n,o,i):s?new Ve(s.sort(eo),Co):yt}add(e,r){return r.length?this==yt?Ve.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let o,i=0;e.forEach((l,a)=>{let c=a+n,d;if(d=p0(r,l,c)){for(o||(o=this.children.slice());i<o.length&&o[i]<a;)i+=3;o[i]==a?o[i+2]=o[i+2].addInner(l,d,c+1):o.splice(i,0,a,a+l.nodeSize,Ml(d,l,c+1,Zn)),i+=3}});let s=f0(i?h0(r):r,-n);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Ve(s.length?this.local.concat(s).sort(eo):this.local,o||this.children)}remove(e){return e.length==0||this==yt?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,o=this.local;for(let i=0;i<n.length;i+=3){let s,l=n[i]+r,a=n[i+1]+r;for(let d=0,u;d<e.length;d++)(u=e[d])&&u.from>l&&u.to<a&&(e[d]=null,(s||(s=[])).push(u));if(!s)continue;n==this.children&&(n=this.children.slice());let c=n[i+2].removeInner(s,l+1);c!=yt?n[i+2]=c:(n.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let l=0;l<o.length;l++)o[l].eq(s,r)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1))}return n==this.children&&o==this.local?this:o.length||n.length?new Ve(o,n):yt}forChild(e,r){if(this==yt)return this;if(r.isLeaf)return Ve.empty;let n,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let i=e+1,s=i+r.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>i&&a.type instanceof yn){let c=Math.max(i,a.from)-i,d=Math.min(s,a.to)-i;c<d&&(o||(o=[])).push(a.copy(c,d))}}if(o){let l=new Ve(o.sort(eo),Co);return n?new cn([l,n]):l}return n||yt}eq(e){if(this==e)return!0;if(!(e instanceof Ve)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Qd(this.localsInner(e))}localsInner(e){if(this==yt)return Co;if(e.inlineContent||!this.local.some(yn.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof yn||r.push(this.local[n]);return r}}Ve.empty=new Ve([],[]);Ve.removeOverlap=Qd;const yt=Ve.empty;class cn{constructor(e){this.members=e}map(e,r){const n=this.members.map(o=>o.map(e,r,Zn));return cn.from(n)}forChild(e,r){if(r.isLeaf)return Ve.empty;let n=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(e,r);i!=yt&&(i instanceof cn?n=n.concat(i.members):n.push(i))}return cn.from(n)}eq(e){if(!(e instanceof cn)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let s=0;s<i.length;s++)r.push(i[s])}}return r?Qd(n?r:r.sort(eo)):Co}static from(e){switch(e.length){case 0:return yt;case 1:return e[0];default:return new cn(e.every(r=>r instanceof Ve)?e:e.reduce((r,n)=>r.concat(n instanceof Ve?n:n.members),[]))}}}function kR(t,e,r,n,o,i,s){let l=t.slice();for(let c=0,d=i;c<r.maps.length;c++){let u=0;r.maps[c].forEach((f,h,p,m)=>{let g=m-p-(h-f);for(let x=0;x<l.length;x+=3){let w=l[x+1];if(w<0||f>w+d-u)continue;let O=l[x]+d-u;h>=O?l[x+1]=f<=O?-2:-1:f>=d&&g&&(l[x]+=g,l[x+1]+=g)}u+=g}),d=r.maps[c].map(d,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){a=!0,l[c+1]=-1;continue}let d=r.map(t[c]+i),u=d-o;if(u<0||u>=n.content.size){a=!0;continue}let f=r.map(t[c+1]+i,-1),h=f-o,{index:p,offset:m}=n.content.findIndex(u),g=n.maybeChild(p);if(g&&m==u&&m+g.nodeSize==h){let x=l[c+2].mapInner(r,g,d+1,t[c]+i+1,s);x!=yt?(l[c]=u,l[c+1]=h,l[c+2]=x):(l[c+1]=-2,a=!0)}else a=!0}if(a){let c=MR(l,t,e,r,o,i,s),d=Ml(c,n,0,s);e=d.local;for(let u=0;u<l.length;u+=3)l[u+1]<0&&(l.splice(u,3),u-=3);for(let u=0,f=0;u<d.children.length;u+=3){let h=d.children[u];for(;f<l.length&&l[f]<h;)f+=3;l.splice(f,0,d.children[u],d.children[u+1],d.children[u+2])}}return new Ve(e.sort(eo),l)}function f0(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let o=t[n];r.push(new _t(o.from+e,o.to+e,o.type))}return r}function MR(t,e,r,n,o,i,s){function l(a,c){for(let d=0;d<a.local.length;d++){let u=a.local[d].map(n,o,c);u?r.push(u):s.onRemove&&s.onRemove(a.local[d].spec)}for(let d=0;d<a.children.length;d+=3)l(a.children[d+2],a.children[d]+c+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+i+1);return r}function p0(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,o=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>r&&s.to<n&&((o||(o=[])).push(s),t[i]=null);return o}function h0(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Ml(t,e,r,n){let o=[],i=!1;e.forEach((l,a)=>{let c=p0(t,l,a+r);if(c){i=!0;let d=Ml(c,l,r+a+1,n);d!=yt&&o.push(a,a+l.nodeSize,d)}});let s=f0(i?h0(t):t,-r).sort(eo);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(n.onRemove&&n.onRemove(s[l].spec),s.splice(l--,1));return s.length||o.length?new Ve(s,o):yt}function eo(t,e){return t.from-e.from||t.to-e.to}function Qd(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let o=r+1;o<e.length;o++){let i=e[o];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,n.to),Dp(e,o+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),Dp(e,o,n.copy(i.from,n.to)));break}}}return e}function Dp(t,e,r){for(;e<t.length&&eo(r,t[e])>0;)e++;t.splice(e,0,r)}function Qa(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=yt&&e.push(n)}),t.cursorWrapper&&e.push(Ve.create(t.state.doc,[t.cursorWrapper.deco])),cn.from(e)}const AR={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},OR=Ft&&bn<=11;class ER{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class PR{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ER,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let o=0;o<n.length;o++)this.queue.push(n[o]);Ft&&bn<=11&&n.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),OR&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,AR)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(wp(this.view)){if(this.suppressingSelectionUpdates)return jr(this.view);if(Ft&&bn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&so(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=Qi(i))r.add(i);for(let i=e.anchorNode;i;i=Qi(i))if(r.has(i)){n=i;break}let o=n&&this.view.docView.nearestDesc(n);if(o&&o.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&wp(e)&&!this.ignoreSelectionChange(n),i=-1,s=-1,l=!1,a=[];if(e.editable)for(let d=0;d<r.length;d++){let u=this.registerMutation(r[d],a);u&&(i=i<0?u.from:Math.min(u.from,i),s=s<0?u.to:Math.max(u.to,s),u.typeOver&&(l=!0))}if(gr&&a.length){let d=a.filter(u=>u.nodeName=="BR");if(d.length==2){let[u,f]=d;u.parentNode&&u.parentNode.parentNode==f.parentNode?f.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let f of d){let h=f.parentNode;h&&h.nodeName=="LI"&&(!u||IR(e,u)!=h)&&f.remove()}}}let c=null;i<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&aa(n)&&(c=Kd(e))&&c.eq(de.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,jr(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||o)&&(i>-1&&(e.docView.markDirty(i,s),DR(e)),this.handleDOMChange(i,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||jr(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let u=e.addedNodes[d];r.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let o=e.previousSibling,i=e.nextSibling;if(Ft&&bn<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:u,nextSibling:f}=e.addedNodes[d];(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(o=u),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let s=o&&o.parentNode==e.target?dt(o)+1:0,l=n.localPosFromDOM(e.target,s,-1),a=i&&i.parentNode==e.target?dt(i):e.target.childNodes.length,c=n.localPosFromDOM(e.target,a,1);return{from:l,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Rp=new WeakMap,Ip=!1;function DR(t){if(!Rp.has(t)&&(Rp.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gr,Ip)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ip=!0}}function $p(t,e){let r=e.startContainer,n=e.startOffset,o=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return so(s.node,s.offset,o,i)&&([r,n,o,i]=[o,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:o,focusOffset:i}}function RR(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return $p(t,o)}let r;function n(o){o.preventDefault(),o.stopImmediatePropagation(),r=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?$p(t,r):null}function IR(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function $R(t,e,r){let{node:n,fromOffset:o,toOffset:i,from:s,to:l}=t.docView.parseRange(e,r),a=t.domSelectionRange(),c,d=a.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:a.anchorOffset}],aa(a)||c.push({node:a.focusNode,offset:a.focusOffset})),Pt&&t.input.lastKeyCode===8)for(let g=i;g>o;g--){let x=n.childNodes[g-1],w=x.pmViewDesc;if(x.nodeName=="BR"&&!w){i=g;break}if(!w||w.size)break}let u=t.state.doc,f=t.someProp("domParser")||Lo.fromSchema(t.state.schema),h=u.resolve(s),p=null,m=f.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:o,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:NR,context:h});if(c&&c[0].pos!=null){let g=c[0].pos,x=c[1]&&c[1].pos;x==null&&(x=g),p={anchor:g+s,head:x+s}}return{doc:m,sel:p,from:s,to:l}}function NR(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Rt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Rt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const zR=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function BR(t,e,r,n,o){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,F=Kd(t,P);if(F&&!t.state.selection.eq(F)){if(Pt&&dr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",I=>I(t,Hn(13,"Enter"))))return;let V=t.state.tr.setSelection(F);P=="pointer"?V.setMeta("pointer",!0):P=="key"&&V.scrollIntoView(),i&&V.setMeta("composition",i),t.dispatch(V)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(r);e=s.before(l+1),r=t.state.doc.resolve(r).after(l+1);let a=t.state.selection,c=$R(t,e,r),d=t.state.doc,u=d.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=_R(u.content,c.doc.content,c.from,f,h);if((Wo&&t.input.lastIOSEnter>Date.now()-225||dr)&&o.some(P=>P.nodeType==1&&!zR.test(P.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",P=>P(t,Hn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(n&&a instanceof ae&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let P=Np(t,t.state.doc,c.sel);if(P&&!P.eq(t.state.selection)){let F=t.state.tr.setSelection(P);i&&F.setMeta("composition",i),t.dispatch(F)}}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof ae&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Ft&&bn<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let m=c.doc.resolveNoCache(p.start-c.from),g=c.doc.resolveNoCache(p.endB-c.from),x=d.resolve(p.start),w=m.sameParent(g)&&m.parent.inlineContent&&x.end()>=p.endA,O;if((Wo&&t.input.lastIOSEnter>Date.now()-225&&(!w||o.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!w&&m.pos<c.doc.content.size&&!m.sameParent(g)&&(O=de.findFrom(c.doc.resolve(m.pos+1),1,!0))&&O.head==g.pos)&&t.someProp("handleKeyDown",P=>P(t,Hn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&LR(d,p.start,p.endA,m,g)&&t.someProp("handleKeyDown",P=>P(t,Hn(8,"Backspace")))){dr&&Pt&&t.domObserver.suppressSelectionUpdates();return}Pt&&dr&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),dr&&!w&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,g=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,Hn(13,"Enter"))})},20));let b=p.start,A=p.endA,v,k,B;if(w){if(m.pos==g.pos)Ft&&bn<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>jr(t),20)),v=t.state.tr.delete(b,A),k=d.resolve(p.start).marksAcross(d.resolve(p.endA));else if(p.endA==p.endB&&(B=HR(m.parent.content.cut(m.parentOffset,g.parentOffset),x.parent.content.cut(x.parentOffset,p.endA-x.start()))))v=t.state.tr,B.type=="add"?v.addMark(b,A,B.mark):v.removeMark(b,A,B.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let P=m.parent.textBetween(m.parentOffset,g.parentOffset);if(t.someProp("handleTextInput",F=>F(t,b,A,P)))return;v=t.state.tr.insertText(P,b,A)}}if(v||(v=t.state.tr.replace(b,A,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let P=Np(t,v.doc,c.sel);P&&!(Pt&&dr&&t.composing&&P.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==b||P.head==v.mapping.map(A)-1)||Ft&&P.empty&&P.head==b)&&v.setSelection(P)}k&&v.ensureMarks(k),i&&v.setMeta("composition",i),t.dispatch(v.scrollIntoView())}function Np(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Ud(t,e.resolve(r.anchor),e.resolve(r.head))}function HR(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,o=r,i=n,s,l,a;for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);if(o.length==1&&i.length==0)l=o[0],s="add",a=d=>d.mark(l.addToSet(d.marks));else if(o.length==0&&i.length==1)l=i[0],s="remove",a=d=>d.mark(l.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(a(e.child(d)));if(z.from(c).eq(t))return{mark:l,type:s}}function LR(t,e,r,n,o){if(r-e<=o.pos-n.pos||Za(n,!0,!1)<o.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let l=i.nodeAfter;return l!=null&&r==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(Za(i,!0,!0));return!s.parent.isTextblock||s.pos>r||Za(s,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function Za(t,e,r){let n=t.depth,o=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,o++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function _R(t,e,r,n,o){let i=t.findDiffStart(e,r);if(i==null)return null;let{a:s,b:l}=t.findDiffEnd(e,r+t.size,r+e.size);if(o=="end"){let a=Math.max(0,i-Math.min(s,l));n-=s+a-i}if(s<i&&t.size<e.size){let a=n<=i&&n>=s?i-n:0;i-=a,i&&i<e.size&&zp(e.textBetween(i-1,i+1))&&(i+=a?1:-1),l=i+(l-s),s=i}else if(l<i){let a=n<=i&&n>=l?i-n:0;i-=a,i&&i<t.size&&zp(t.textBetween(i-1,i+1))&&(i+=a?1:-1),s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}function zp(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class FR{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new sR,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Fp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Lp(this),Hp(this),this.nodeViews=_p(this),this.docView=bp(this.state.doc,Bp(this),Qa(this),this.dom,this),this.domObserver=new PR(this,(n,o,i,s)=>BR(this,n,o,i,s)),this.domObserver.start(),lR(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Xc(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Fp),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let o=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(a0(this),s=!0),this.state=e;let l=o.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let h=_p(this);jR(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&Xc(this),this.editable=Lp(this),Hp(this);let a=Qa(this),c=Bp(this),d=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(e.doc,c,a);(u||!e.selection.eq(o.selection))&&(s=!0);let f=d=="preserve"&&s&&this.dom.style.overflowAnchor==null&&SD(this);if(s){this.domObserver.stop();let h=u&&(Ft||Pt)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&WR(o.selection,e.selection);if(u){let p=Pt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=vR(this)),(i||!this.docView.update(e.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=bp(e.doc,c,a,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&KD(this))?jr(this,h):(Jb(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((n=this.dragging)===null||n===void 0)&&n.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():f&&wD(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof ie){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&up(this,r.getBoundingClientRect(),e)}else up(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,o=-1;if(this.state.doc.nodeAt(n.from)==n.node)o=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(o=i)}this.dragging=new d0(e.slice,e.move,o<0?void 0:ie.create(this.state.doc,o))}someProp(e,r){let n=this._props&&this._props[e],o;if(n!=null&&(o=r?r(n):n))return o;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(o=r?r(l):l))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let l=i[s].props[e];if(l!=null&&(o=r?r(l):l))return o}}hasFocus(){if(Ft){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&TD(this.dom),jr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return ED(this,e)}coordsAtPos(e,r=1){return Fb(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let o=this.docView.posFromDOM(e,r,n);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,r){return $D(this,r||this.state,e)}pasteHTML(e,r){return es(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return es(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(aR(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Qa(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,dD())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return dR(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return Rt&&this.root.nodeType===11&&mD(this.dom.ownerDocument)==this.dom&&RR(this,e)||e}domSelection(){return this.root.getSelection()}}function Bp(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[_t.node(0,t.state.doc.content.size,e)]}function Hp(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:_t.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Lp(t){return!t.someProp("editable",e=>e(t.state)===!1)}function WR(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function _p(t){let e=Object.create(null);function r(n){for(let o in n)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=n[o])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function jR(t,e){let r=0,n=0;for(let o in t){if(t[o]!=e[o])return!0;r++}for(let o in e)n++;return r!=n}function Fp(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Cn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Al={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},VR=typeof navigator<"u"&&/Mac/.test(navigator.platform),qR=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ut=0;ut<10;ut++)Cn[48+ut]=Cn[96+ut]=String(ut);for(var ut=1;ut<=24;ut++)Cn[ut+111]="F"+ut;for(var ut=65;ut<=90;ut++)Cn[ut]=String.fromCharCode(ut+32),Al[ut]=String.fromCharCode(ut);for(var ec in Cn)Al.hasOwnProperty(ec)||(Al[ec]=Cn[ec]);function KR(t){var e=VR&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||qR&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Al:Cn)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const UR=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function GR(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,o,i,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))o=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))UR?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+a)}return n&&(r="Alt-"+r),o&&(r="Ctrl-"+r),s&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function JR(t){let e=Object.create(null);for(let r in t)e[GR(r)]=t[r];return e}function tc(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function XR(t){return new Mt({props:{handleKeyDown:Zd(t)}})}function Zd(t){let e=JR(t);return function(r,n){let o=KR(n),i,s=e[tc(o,n)];if(s&&s(r.state,r.dispatch,r))return!0;if(o.length==1&&o!=" "){if(n.shiftKey){let l=e[tc(o,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=Cn[n.keyCode])&&i!=o){let l=e[tc(i,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}const YR=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function m0(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const QR=(t,e,r)=>{let n=m0(t,r);if(!n)return!1;let o=eu(n);if(!o){let s=n.blockRange(),l=s&&ni(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let i=o.nodeBefore;if(!i.type.spec.isolating&&y0(t,o,e))return!0;if(n.parent.content.size==0&&(jo(i,"end")||ie.isSelectable(i))){let s=sa(t.doc,n.before(),n.after(),j.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(jo(i,"end")?de.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):ie.create(l.doc,o.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}}return i.isAtom&&o.depth==n.depth-1?(e&&e(t.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},ZR=(t,e,r)=>{let n=m0(t,r);if(!n)return!1;let o=eu(n);return o?g0(t,o,e):!1},eI=(t,e,r)=>{let n=b0(t,r);if(!n)return!1;let o=tu(n);return o?g0(t,o,e):!1};function g0(t,e,r){let n=e.nodeBefore,o=n,i=e.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let d=o.lastChild;if(!d)return!1;o=d}let s=e.nodeAfter,l=s,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let c=sa(t.doc,i,a,j.empty);if(!c||c.from!=i||c instanceof rt&&c.slice.size>=a-i)return!1;if(r){let d=t.tr.step(c);d.setSelection(ae.create(d.doc,i)),r(d.scrollIntoView())}return!0}function jo(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const tI=(t,e,r)=>{let{$head:n,empty:o}=t.selection,i=n;if(!o)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=eu(n)}let s=i&&i.nodeBefore;return!s||!ie.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ie.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function eu(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function b0(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const rI=(t,e,r)=>{let n=b0(t,r);if(!n)return!1;let o=tu(n);if(!o)return!1;let i=o.nodeAfter;if(y0(t,o,e))return!0;if(n.parent.content.size==0&&(jo(i,"start")||ie.isSelectable(i))){let s=sa(t.doc,n.before(),n.after(),j.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(jo(i,"start")?de.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):ie.create(l.doc,l.mapping.map(o.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&o.depth==n.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},nI=(t,e,r)=>{let{$head:n,empty:o}=t.selection,i=n;if(!o)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=tu(n)}let s=i&&i.nodeAfter;return!s||!ie.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ie.create(t.doc,i.pos)).scrollIntoView()),!0)};function tu(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const oI=(t,e)=>{let r=t.selection,n=r instanceof ie,o;if(n){if(r.node.isTextblock||!Mn(t.doc,r.from))return!1;o=r.from}else if(o=ia(t.doc,r.from,-1),o==null)return!1;if(e){let i=t.tr.join(o);n&&i.setSelection(ie.create(i.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},iI=(t,e)=>{let r=t.selection,n;if(r instanceof ie){if(r.node.isTextblock||!Mn(t.doc,r.to))return!1;n=r.to}else if(n=ia(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},sI=(t,e)=>{let{$from:r,$to:n}=t.selection,o=r.blockRange(n),i=o&&ni(o);return i==null?!1:(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)},lI=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function x0(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const aI=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let o=r.node(-1),i=r.indexAfter(-1),s=x0(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(e){let l=r.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(de.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},cI=(t,e)=>{let r=t.selection,{$from:n,$to:o}=r;if(r instanceof hr||n.parent.inlineContent||o.parent.inlineContent)return!1;let i=x0(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!n.parentOffset&&o.index()<o.parent.childCount?n:o).pos,l=t.tr.insert(s,i.createAndFill());l.setSelection(ae.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},dI=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(Io(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),o=n&&ni(n);return o==null?!1:(e&&e(t.tr.lift(n,o).scrollIntoView()),!0)},uI=(t,e)=>{let{$from:r,to:n}=t.selection,o,i=r.sharedDepth(n);return i==0?!1:(o=r.before(i),e&&e(t.tr.setSelection(ie.create(t.doc,o))),!0)};function fI(t,e,r){let n=e.nodeBefore,o=e.nodeAfter,i=e.index();return!n||!o||!n.type.compatibleContent(o.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||Mn(t.doc,e.pos))?!1:(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function y0(t,e,r){let n=e.nodeBefore,o=e.nodeAfter,i,s;if(n.type.spec.isolating||o.type.spec.isolating)return!1;if(fI(t,e,r))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(i=(s=n.contentMatchAt(n.childCount)).findWrapping(o.type))&&s.matchType(i[0]||o.type).validEnd){if(r){let u=e.pos+o.nodeSize,f=z.empty;for(let m=i.length-1;m>=0;m--)f=z.from(i[m].create(null,f));f=z.from(n.copy(f));let h=t.tr.step(new ot(e.pos-1,u,e.pos,u,new j(f,1,0),i.length,!0)),p=u+2*i.length;Mn(h.doc,p)&&h.join(p),r(h.scrollIntoView())}return!0}let a=de.findFrom(e,1),c=a&&a.$from.blockRange(a.$to),d=c&&ni(c);if(d!=null&&d>=e.depth)return r&&r(t.tr.lift(c,d).scrollIntoView()),!0;if(l&&jo(o,"start",!0)&&jo(n,"end")){let u=n,f=[];for(;f.push(u),!u.isTextblock;)u=u.lastChild;let h=o,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(u.canReplace(u.childCount,u.childCount,h.content)){if(r){let m=z.empty;for(let x=f.length-1;x>=0;x--)m=z.from(f[x].copy(m));let g=t.tr.step(new ot(e.pos-f.length,e.pos+o.nodeSize,e.pos+p,e.pos+o.nodeSize-p,new j(m,f.length,0),0,!0));r(g.scrollIntoView())}return!0}}return!1}function v0(t){return function(e,r){let n=e.selection,o=t<0?n.$from:n.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(r&&r(e.tr.setSelection(ae.create(e.doc,t<0?o.start(i):o.end(i)))),!0):!1}}const pI=v0(-1),hI=v0(1);function mI(t,e=null){return function(r,n){let{$from:o,$to:i}=r.selection,s=o.blockRange(i),l=s&&jd(s,t,e);return l?(n&&n(r.tr.wrap(s,l).scrollIntoView()),!0):!1}}function Wp(t,e=null){return function(r,n){let o=!1;for(let i=0;i<r.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:l}}=r.selection.ranges[i];r.doc.nodesBetween(s,l,(a,c)=>{if(o)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)o=!0;else{let d=r.doc.resolve(c),u=d.index();o=d.parent.canReplaceWith(u,u+1,t)}})}if(!o)return!1;if(n){let i=r.tr;for(let s=0;s<r.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=r.selection.ranges[s];i.setBlockType(l,a,t,e)}n(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function gI(t,e=null){return function(r,n){let{$from:o,$to:i}=r.selection,s=o.blockRange(i),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&o.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(o.index(s.depth-1)==0)return!1;let d=r.doc.resolve(s.start-2);a=new yl(d,d,s.depth),s.endIndex<s.parent.childCount&&(s=new yl(o,r.doc.resolve(i.end(s.depth)),s.depth)),l=!0}let c=jd(a,t,e,s);return c?(n&&n(bI(r.tr,s,c,l,t).scrollIntoView()),!0):!1}}function bI(t,e,r,n,o){let i=z.empty;for(let d=r.length-1;d>=0;d--)i=z.from(r[d].type.create(r[d].attrs,i));t.step(new ot(e.start-(n?2:0),e.end,e.start,e.end,new j(i,0,0),r.length,!0));let s=0;for(let d=0;d<r.length;d++)r[d].type==o&&(s=d+1);let l=r.length-s,a=e.start+r.length-(n?2:0),c=e.parent;for(let d=e.startIndex,u=e.endIndex,f=!0;d<u;d++,f=!1)!f&&Io(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=c.child(d).nodeSize;return t}function xI(t){return function(e,r){let{$from:n,$to:o}=e.selection,i=n.blockRange(o,s=>s.childCount>0&&s.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?yI(e,r,t,i):vI(e,r,i):!0:!1}}function yI(t,e,r,n){let o=t.tr,i=n.end,s=n.$to.end(n.depth);i<s&&(o.step(new ot(i-1,s,i,s,new j(z.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new yl(o.doc.resolve(n.$from.pos),o.doc.resolve(s),n.depth));const l=ni(n);if(l==null)return!1;o.lift(n,l);let a=o.mapping.map(i,-1)-1;return Mn(o.doc,a)&&o.join(a),e(o.scrollIntoView()),!0}function vI(t,e,r){let n=t.tr,o=r.parent;for(let h=r.end,p=r.endIndex-1,m=r.startIndex;p>m;p--)h-=o.child(p).nodeSize,n.delete(h-1,h+1);let i=n.doc.resolve(r.start),s=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,a=r.endIndex==o.childCount,c=i.node(-1),d=i.index(-1);if(!c.canReplace(d+(l?0:1),d+1,s.content.append(a?z.empty:z.from(o))))return!1;let u=i.pos,f=u+s.nodeSize;return n.step(new ot(u-(l?1:0),f+(a?1:0),u+1,f-1,new j((l?z.empty:z.from(o.copy(z.empty))).append(a?z.empty:z.from(o.copy(z.empty))),l?0:1,a?0:1),l?0:1)),e(n.scrollIntoView()),!0}function CI(t){return function(e,r){let{$from:n,$to:o}=e.selection,i=n.blockRange(o,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let l=i.parent,a=l.child(s-1);if(a.type!=t)return!1;if(r){let c=a.lastChild&&a.lastChild.type==l.type,d=z.from(c?t.create():null),u=new j(z.from(t.create(null,z.from(l.type.create(null,d)))),c?3:1,0),f=i.start,h=i.end;r(e.tr.step(new ot(f-(c?3:1),h,f,h,u,1,!0)).scrollIntoView())}return!0}}function ua(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:o}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return o},get tr(){return n=r.selection,o=r.doc,i=r.storedMarks,r}}}class fa{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:n}=this,{view:o}=r,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...d)=>{const u=a(...d)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:n,editor:o,state:i}=this,{view:s}=o,l=[],a=!!e,c=e||i.tr,d=()=>(!a&&r&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),l.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(n).map(([f,h])=>[f,(...m)=>{const g=this.buildProps(c,r),x=h(...m)(g);return l.push(x),u}])),run:d};return u}createCan(e){const{rawCommands:r,state:n}=this,o=!1,i=e||n.tr,s=this.buildProps(i,o);return{...Object.fromEntries(Object.entries(r).map(([a,c])=>[a,(...d)=>c(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,o)}}buildProps(e,r=!0){const{rawCommands:n,editor:o,state:i}=this,{view:s}=o,l={tr:e,editor:o,view:s,state:ua({state:i,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...d)=>c(...d)(l)]))}};return l}}class SI{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(o=>o.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(o=>o!==r):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Z(t,e,r){return t.config[e]===void 0&&t.parent?Z(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Z(t.parent,e,r):null}):t.config[e]}function pa(t){const e=t.filter(o=>o.type==="extension"),r=t.filter(o=>o.type==="node"),n=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function C0(t){const e=[],{nodeExtensions:r,markExtensions:n}=pa(t),o=[...r,...n],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=Z(s,"addGlobalAttributes",l);if(!a)return;a().forEach(d=>{d.types.forEach(u=>{Object.entries(d.attributes).forEach(([f,h])=>{e.push({type:u,name:f,attribute:{...i,...h}})})})})}),o.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=Z(s,"addAttributes",l);if(!a)return;const c=a();Object.entries(c).forEach(([d,u])=>{const f={...i,...u};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:d,attribute:f})})}),e}function st(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Le(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([o,i])=>{if(!n[o]){n[o]=i;return}if(o==="class"){const l=i?i.split(" "):[],a=n[o]?n[o].split(" "):[],c=l.filter(d=>!a.includes(d));n[o]=[...a,...c].join(" ")}else o==="style"?n[o]=[n[o],i].join("; "):n[o]=i}),n},{})}function Yc(t,e){return e.filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Le(r,n),{})}function S0(t){return typeof t=="function"}function ye(t,e=void 0,...r){return S0(t)?e?t.bind(e)(...r):t(...r):t}function wI(t={}){return Object.keys(t).length===0&&t.constructor===Object}function TI(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function jp(t,e){return t.style?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const o=e.reduce((i,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(r):TI(r.getAttribute(s.name));return l==null?i:{...i,[s.name]:l}},{});return{...n,...o}}}}function Vp(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&wI(r)?!1:r!=null))}function kI(t,e){var r;const n=C0(t),{nodeExtensions:o,markExtensions:i}=pa(t),s=(r=o.find(c=>Z(c,"topNode")))===null||r===void 0?void 0:r.name,l=Object.fromEntries(o.map(c=>{const d=n.filter(x=>x.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((x,w)=>{const O=Z(w,"extendNodeSchema",u);return{...x,...O?O(c):{}}},{}),h=Vp({...f,content:ye(Z(c,"content",u)),marks:ye(Z(c,"marks",u)),group:ye(Z(c,"group",u)),inline:ye(Z(c,"inline",u)),atom:ye(Z(c,"atom",u)),selectable:ye(Z(c,"selectable",u)),draggable:ye(Z(c,"draggable",u)),code:ye(Z(c,"code",u)),defining:ye(Z(c,"defining",u)),isolating:ye(Z(c,"isolating",u)),attrs:Object.fromEntries(d.map(x=>{var w;return[x.name,{default:(w=x==null?void 0:x.attribute)===null||w===void 0?void 0:w.default}]}))}),p=ye(Z(c,"parseHTML",u));p&&(h.parseDOM=p.map(x=>jp(x,d)));const m=Z(c,"renderHTML",u);m&&(h.toDOM=x=>m({node:x,HTMLAttributes:Yc(x,d)}));const g=Z(c,"renderText",u);return g&&(h.toText=g),[c.name,h]})),a=Object.fromEntries(i.map(c=>{const d=n.filter(g=>g.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((g,x)=>{const w=Z(x,"extendMarkSchema",u);return{...g,...w?w(c):{}}},{}),h=Vp({...f,inclusive:ye(Z(c,"inclusive",u)),excludes:ye(Z(c,"excludes",u)),group:ye(Z(c,"group",u)),spanning:ye(Z(c,"spanning",u)),code:ye(Z(c,"code",u)),attrs:Object.fromEntries(d.map(g=>{var x;return[g.name,{default:(x=g==null?void 0:g.attribute)===null||x===void 0?void 0:x.default}]}))}),p=ye(Z(c,"parseHTML",u));p&&(h.parseDOM=p.map(g=>jp(g,d)));const m=Z(c,"renderHTML",u);return m&&(h.toDOM=g=>m({mark:g,HTMLAttributes:Yc(g,d)})),[c.name,h]}));return new PP({topNode:s,nodes:l,marks:a})}function rc(t,e){return e.nodes[t]||e.marks[t]||null}function qp(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}const MI=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(o,i,s,l)=>{var a,c;const d=((c=(a=o.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:o,pos:i,parent:s,index:l}))||o.textContent||"%leaf%";r+=d.slice(0,Math.max(0,n-i))}),r};function ru(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class bs{constructor(e){this.find=e.find,this.handler=e.handler}}const AI=(t,e)=>{if(ru(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Ls(t){var e;const{editor:r,from:n,to:o,text:i,rules:s,plugin:l}=t,{view:a}=r;if(a.composing)return!1;const c=a.state.doc.resolve(n);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let d=!1;const u=MI(c)+i;return s.forEach(f=>{if(d)return;const h=AI(u,f.find);if(!h)return;const p=a.state.tr,m=ua({state:a.state,transaction:p}),g={from:n-(h[0].length-i.length),to:o},{commands:x,chain:w,can:O}=new fa({editor:r,state:m});f.handler({state:m,range:g,match:h,commands:x,chain:w,can:O})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:n,to:o,text:i}),a.dispatch(p),d=!0)}),d}function OI(t){const{editor:e,rules:r}=t,n=new Mt({state:{init(){return null},apply(o,i){const s=o.getMeta(n);if(s)return s;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{const{from:c,text:d}=l,u=c+d.length;Ls({editor:e,from:c,to:u,text:d,rules:r,plugin:n})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,s,l){return Ls({editor:e,from:i,to:s,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&Ls({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?Ls({editor:e,from:s.pos,to:s.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function EI(t){return typeof t=="number"}class PI{constructor(e){this.find=e.find,this.handler=e.handler}}const DI=(t,e,r)=>{if(ru(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(o=>{const i=[o.text];return i.index=o.index,i.input=t,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function RI(t){const{editor:e,state:r,from:n,to:o,rule:i,pasteEvent:s,dropEvent:l}=t,{commands:a,chain:c,can:d}=new fa({editor:e,state:r}),u=[];return r.doc.nodesBetween(n,o,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const m=Math.max(n,p),g=Math.min(o,p+h.content.size),x=h.textBetween(m-p,g-p,void 0,"");DI(x,i.find,s).forEach(O=>{if(O.index===void 0)return;const b=m+O.index+1,A=b+O[0].length,v={from:r.tr.mapping.map(b),to:r.tr.mapping.map(A)},k=i.handler({state:r,range:v,match:O,commands:a,chain:c,can:d,pasteEvent:s,dropEvent:l});u.push(k)})}),u.every(h=>h!==null)}const II=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)===null||e===void 0||e.setData("text/html",t),r};function $I(t){const{editor:e,rules:r}=t;let n=null,o=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;const a=({state:d,from:u,to:f,rule:h,pasteEvt:p})=>{const m=d.tr,g=ua({state:d,transaction:m});if(!(!RI({editor:e,state:g,from:Math.max(u-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:l})||!m.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m};return r.map(d=>new Mt({view(u){const f=h=>{var p;n=!((p=u.dom.parentElement)===null||p===void 0)&&p.contains(h.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(u,f)=>(i=n===u.dom.parentElement,l=f,!1),paste:(u,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return s=f,o=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(u,f,h)=>{const p=u[0],m=p.getMeta("uiEvent")==="paste"&&!o,g=p.getMeta("uiEvent")==="drop"&&!i,x=p.getMeta("applyPasteRules"),w=!!x;if(!m&&!g&&!w)return;if(w){const{from:A,text:v}=x,k=A+v.length,B=II(v);return a({rule:d,state:h,from:A,to:{b:k},pasteEvt:B})}const O=f.doc.content.findDiffStart(h.doc.content),b=f.doc.content.findDiffEnd(h.doc.content);if(!(!EI(O)||!b||O===b.b))return a({rule:d,state:h,from:O,to:b,pasteEvt:s})}}))}function NI(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return[...new Set(e)]}class ko{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=ko.resolve(e),this.schema=kI(this.extensions,r),this.setupExtensions()}static resolve(e){const r=ko.sort(ko.flatten(e)),n=NI(r.map(o=>o.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},o=Z(r,"addExtensions",n);return o?[r,...this.flatten(o())]:r}).flat(10)}static sort(e){return e.sort((n,o)=>{const i=Z(n,"priority")||100,s=Z(o,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:rc(r.name,this.schema)},o=Z(r,"addCommands",n);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,r=ko.sort([...this.extensions].reverse()),n=[],o=[],i=r.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:rc(s.name,this.schema)},a=[],c=Z(s,"addKeyboardShortcuts",l);let d={};if(s.type==="mark"&&s.config.exitable&&(d.ArrowRight=()=>br.handleExit({editor:e,mark:s})),c){const m=Object.fromEntries(Object.entries(c()).map(([g,x])=>[g,()=>x({editor:e})]));d={...d,...m}}const u=XR(d);a.push(u);const f=Z(s,"addInputRules",l);qp(s,e.options.enableInputRules)&&f&&n.push(...f());const h=Z(s,"addPasteRules",l);qp(s,e.options.enablePasteRules)&&h&&o.push(...h());const p=Z(s,"addProseMirrorPlugins",l);if(p){const m=p();a.push(...m)}return a}).flat();return[OI({editor:e,rules:n}),...$I({editor:e,rules:o}),...i]}get attributes(){return C0(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=pa(this.extensions);return Object.fromEntries(r.filter(n=>!!Z(n,"addNodeView")).map(n=>{const o=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:e,type:st(n.name,this.schema)},s=Z(n,"addNodeView",i);if(!s)return[];const l=(a,c,d,u)=>{const f=Yc(a,o);return s()({editor:e,node:a,getPos:d,decorations:u,HTMLAttributes:f,extension:n})};return[n.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var r;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:rc(e.name,this.schema)};e.type==="mark"&&(!((r=ye(Z(e,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(e.name);const o=Z(e,"onBeforeCreate",n),i=Z(e,"onCreate",n),s=Z(e,"onUpdate",n),l=Z(e,"onSelectionUpdate",n),a=Z(e,"onTransaction",n),c=Z(e,"onFocus",n),d=Z(e,"onBlur",n),u=Z(e,"onDestroy",n);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),s&&this.editor.on("update",s),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),u&&this.editor.on("destroy",u)})}}function zI(t){return Object.prototype.toString.call(t).slice(8,-1)}function nc(t){return zI(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function ha(t,e){const r={...t};return nc(t)&&nc(e)&&Object.keys(e).forEach(n=>{nc(e[n])?n in t?r[n]=ha(t[n],e[n]):Object.assign(r,{[n]:e[n]}):Object.assign(r,{[n]:e[n]})}),r}class ht{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ye(Z(this,"addOptions",{name:this.name}))),this.storage=ye(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ht(e)}configure(e={}){const r=this.extend();return r.parent=this.parent,r.options=ha(this.options,e),r.storage=ye(Z(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new ht({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=ye(Z(r,"addOptions",{name:r.name})),r.storage=ye(Z(r,"addStorage",{name:r.name,options:r.options})),r}}function w0(t,e,r){const{from:n,to:o}=e,{blockSeparator:i=`

`,textSerializers:s={}}=r||{};let l="";return t.nodesBetween(n,o,(a,c,d,u)=>{var f;a.isBlock&&c>n&&(l+=i);const h=s==null?void 0:s[a.type.name];if(h)return d&&(l+=h({node:a,pos:c,parent:d,index:u,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(n,c)-c,o-c))}),l}function T0(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const BI=ht.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Mt({key:new Qt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:o}=e,{ranges:i}=o,s=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),a=T0(r);return w0(n,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),HI=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),LI=(t=!1)=>({commands:e})=>e.setContent("",t),_I=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:o}=n;return r&&o.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:c,mapping:d}=e,u=c.resolve(d.map(a)),f=c.resolve(d.map(a+l.nodeSize)),h=u.blockRange(f);if(!h)return;const p=ni(h);if(l.type.isTextblock){const{defaultType:m}=u.parent.contentMatchAt(u.index());e.setNodeMarkup(h.start,m)}(p||p===0)&&e.lift(h,p)})}),!0},FI=t=>e=>t(e),WI=()=>({state:t,dispatch:e})=>cI(t,e),jI=(t,e)=>({editor:r,tr:n})=>{const{state:o}=r,i=o.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const s=n.mapping.map(e);return n.insert(s,i.content),n.setSelection(new ae(n.doc.resolve(s-1))),!0},VI=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const o=t.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===n.type){if(e){const l=o.before(i),a=o.after(i);t.delete(l,a).scrollIntoView()}return!0}return!1},qI=t=>({tr:e,state:r,dispatch:n})=>{const o=st(t,r.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(n){const a=i.before(s),c=i.after(s);e.delete(a,c).scrollIntoView()}return!0}return!1},KI=t=>({tr:e,dispatch:r})=>{const{from:n,to:o}=t;return r&&e.delete(n,o),!0},UI=()=>({state:t,dispatch:e})=>YR(t,e),GI=()=>({commands:t})=>t.keyboardShortcut("Enter"),JI=()=>({state:t,dispatch:e})=>aI(t,e);function Ol(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(o=>r.strict?e[o]===t[o]:ru(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function Qc(t,e,r={}){return t.find(n=>n.type===e&&Ol(n.attrs,r))}function XI(t,e,r={}){return!!Qc(t,e,r)}function nu(t,e,r={}){if(!t||!e)return;let n=t.parent.childAfter(t.parentOffset);if(t.parentOffset===n.offset&&n.offset!==0&&(n=t.parent.childBefore(t.parentOffset)),!n.node)return;const o=Qc([...n.node.marks],e,r);if(!o)return;let i=n.index,s=t.start()+n.offset,l=i+1,a=s+n.node.nodeSize;for(Qc([...n.node.marks],e,r);i>0&&o.isInSet(t.parent.child(i-1).marks);)i-=1,s-=t.parent.child(i).nodeSize;for(;l<t.parent.childCount&&XI([...t.parent.child(l).marks],e,r);)a+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:a}}function On(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const YI=(t,e={})=>({tr:r,state:n,dispatch:o})=>{const i=On(t,n.schema),{doc:s,selection:l}=r,{$from:a,from:c,to:d}=l;if(o){const u=nu(a,i,e);if(u&&u.from<=c&&u.to>=d){const f=ae.create(s,u.from,u.to);r.setSelection(f)}}return!0},QI=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function ou(t){return t instanceof ae}function Fr(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function k0(t,e=null){if(!e)return null;const r=de.atStart(t),n=de.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const o=r.from,i=n.to;return e==="all"?ae.create(t,Fr(0,o,i),Fr(t.content.size,o,i)):ae.create(t,Fr(e,o,i),Fr(e,o,i))}function iu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const ZI=(t=null,e={})=>({editor:r,view:n,tr:o,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{iu()&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!ou(r.state.selection))return s(),!0;const l=k0(o.doc,t)||r.state.selection,a=r.state.selection.eq(l);return i&&(a||o.setSelection(l),a&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},e$=(t,e)=>r=>t.every((n,o)=>e(n,{...r,index:o})),t$=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),M0=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&M0(n)}return t};function Kp(t){const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return M0(r)}function El(t,e,r){r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,o=typeof t=="string";if(n)try{return Array.isArray(t)&&t.length>0?z.fromArray(t.map(s=>e.nodeFromJSON(s))):e.nodeFromJSON(t)}catch(i){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),El("",e,r)}if(o){const i=Lo.fromSchema(e);return r.slice?i.parseSlice(Kp(t),r.parseOptions).content:i.parse(Kp(t),r.parseOptions)}return El("",e,r)}function r$(t,e,r){const n=t.steps.length-1;if(n<e)return;const o=t.steps[n];if(!(o instanceof rt||o instanceof ot))return;const i=t.mapping.maps[n];let s=0;i.forEach((l,a,c,d)=>{s===0&&(s=d)}),t.setSelection(de.near(t.doc.resolve(s),r))}const n$=t=>t.toString().startsWith("<"),o$=(t,e,r)=>({tr:n,dispatch:o,editor:i})=>{if(o){r={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};const s=El(e,i.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,d=!0;if((n$(s)?s:[s]).forEach(h=>{h.check(),c=c?h.isText&&h.marks.length===0:!1,d=d?h.isBlock:!1}),l===a&&d){const{parent:h}=n.doc.resolve(l);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(l-=1,a+=1)}let f;c?(Array.isArray(e)?f=e.map(h=>h.text||"").join(""):typeof e=="object"&&e&&e.text?f=e.text:f=e,n.insertText(f,l,a)):(f=s,n.replaceWith(l,a,f)),r.updateSelection&&r$(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:f}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:f})}return!0},i$=()=>({state:t,dispatch:e})=>oI(t,e),s$=()=>({state:t,dispatch:e})=>iI(t,e),l$=()=>({state:t,dispatch:e})=>QR(t,e),a$=()=>({state:t,dispatch:e})=>rI(t,e),c$=()=>({tr:t,state:e,dispatch:r})=>{try{const n=ia(e.doc,e.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),r&&r(t),!0)}catch{return!1}},d$=()=>({state:t,dispatch:e,tr:r})=>{try{const n=ia(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},u$=()=>({state:t,dispatch:e})=>ZR(t,e),f$=()=>({state:t,dispatch:e})=>eI(t,e);function A0(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function p$(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,o,i,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))o=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))iu()||A0()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return n&&(r=`Alt-${r}`),o&&(r=`Ctrl-${r}`),s&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}const h$=t=>({editor:e,view:r,tr:n,dispatch:o})=>{const i=p$(t).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,l))});return a==null||a.steps.forEach(c=>{const d=c.map(n.mapping);d&&o&&n.maybeStep(d)}),!0};function rs(t,e,r={}){const{from:n,to:o,empty:i}=t.selection,s=e?st(e,t.schema):null,l=[];t.doc.nodesBetween(n,o,(u,f)=>{if(u.isText)return;const h=Math.max(n,f),p=Math.min(o,f+u.nodeSize);l.push({node:u,from:h,to:p})});const a=o-n,c=l.filter(u=>s?s.name===u.node.type.name:!0).filter(u=>Ol(u.node.attrs,r,{strict:!1}));return i?!!c.length:c.reduce((u,f)=>u+f.to-f.from,0)>=a}const m$=(t,e={})=>({state:r,dispatch:n})=>{const o=st(t,r.schema);return rs(r,o,e)?sI(r,n):!1},g$=()=>({state:t,dispatch:e})=>dI(t,e),b$=t=>({state:e,dispatch:r})=>{const n=st(t,e.schema);return xI(n)(e,r)},x$=()=>({state:t,dispatch:e})=>lI(t,e);function ma(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Up(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,o)=>(r.includes(o)||(n[o]=t[o]),n),{})}const y$=(t,e)=>({tr:r,state:n,dispatch:o})=>{let i=null,s=null;const l=ma(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=st(t,n.schema)),l==="mark"&&(s=On(t,n.schema)),o&&r.selection.ranges.forEach(a=>{n.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,d)=>{i&&i===c.type&&r.setNodeMarkup(d,void 0,Up(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(u=>{s===u.type&&r.addMark(d,d+c.nodeSize,s.create(Up(u.attrs,e)))})})}),!0):!1},v$=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),C$=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),S$=()=>({state:t,dispatch:e})=>tI(t,e),w$=()=>({state:t,dispatch:e})=>nI(t,e),T$=()=>({state:t,dispatch:e})=>uI(t,e),k$=()=>({state:t,dispatch:e})=>hI(t,e),M$=()=>({state:t,dispatch:e})=>pI(t,e);function O0(t,e,r={}){return El(t,e,{slice:!1,parseOptions:r})}const A$=(t,e=!1,r={})=>({tr:n,editor:o,dispatch:i})=>{const{doc:s}=n,l=O0(t,o.schema,r);return i&&n.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!e),!0};function ga(t,e){const r=On(e,t.schema),{from:n,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,o,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===r.name);return l?{...l.attrs}:{}}function O$(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function E0(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function su(t){return e=>E0(e.$from,t)}function E$(t,e){const r=Ar.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(r),o.innerHTML}function P$(t,e){const r={from:0,to:t.content.size};return w0(t,r,e)}function D$(t,e){const r=st(e,t.schema),{from:n,to:o}=t.selection,i=[];t.doc.nodesBetween(n,o,l=>{i.push(l)});const s=i.reverse().find(l=>l.type.name===r.name);return s?{...s.attrs}:{}}function R$(t,e){const r=ma(typeof e=="string"?e:e.name,t.schema);return r==="node"?D$(t,e):r==="mark"?ga(t,e):{}}function P0(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(o=>{const i=r.resolve(t-1),s=nu(i,o.type);s&&n.push({mark:o,...s})}):r.nodesBetween(t,e,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||n.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),n}function Ys(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const o=t.find(i=>i.type===e&&i.name===n);return o?o.attribute.keepOnSplit:!1}))}function Zc(t,e,r={}){const{empty:n,ranges:o}=t.selection,i=e?On(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(u=>i?i.name===u.type.name:!0).find(u=>Ol(u.attrs,r,{strict:!1}));let s=0;const l=[];if(o.forEach(({$from:u,$to:f})=>{const h=u.pos,p=f.pos;t.doc.nodesBetween(h,p,(m,g)=>{if(!m.isText&&!m.marks.length)return;const x=Math.max(h,g),w=Math.min(p,g+m.nodeSize),O=w-x;s+=O,l.push(...m.marks.map(b=>({mark:b,from:x,to:w})))})}),s===0)return!1;const a=l.filter(u=>i?i.name===u.mark.type.name:!0).filter(u=>Ol(u.mark.attrs,r,{strict:!1})).reduce((u,f)=>u+f.to-f.from,0),c=l.filter(u=>i?u.mark.type!==i&&u.mark.type.excludes(i):!0).reduce((u,f)=>u+f.to-f.from,0);return(a>0?a+c:a)>=s}function I$(t,e,r={}){if(!e)return rs(t,null,r)||Zc(t,null,r);const n=ma(e,t.schema);return n==="node"?rs(t,e,r):n==="mark"?Zc(t,e,r):!1}function Gp(t,e){const{nodeExtensions:r}=pa(e),n=r.find(s=>s.name===t);if(!n)return!1;const o={name:n.name,options:n.options,storage:n.storage},i=ye(Z(n,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function $$(t){var e;const r=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),n=t.toJSON();return JSON.stringify(r)===JSON.stringify(n)}function N$(t){return t instanceof ie}function z$(t,e,r){const o=t.state.doc.content.size,i=Fr(e,0,o),s=Fr(r,0,o),l=t.coordsAtPos(i),a=t.coordsAtPos(s,-1),c=Math.min(l.top,a.top),d=Math.max(l.bottom,a.bottom),u=Math.min(l.left,a.left),f=Math.max(l.right,a.right),h=f-u,p=d-c,x={top:c,bottom:d,left:u,right:f,width:h,height:p,x:u,y:c};return{...x,toJSON:()=>x}}function B$(t,e,r){var n;const{selection:o}=e;let i=null;if(ou(o)&&(i=o.$cursor),i){const l=(n=t.storedMarks)!==null&&n!==void 0?n:i.marks();return!!r.isInSet(l)||!l.some(a=>a.type.excludes(r))}const{ranges:s}=o;return s.some(({$from:l,$to:a})=>{let c=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(l.pos,a.pos,(d,u,f)=>{if(c)return!1;if(d.isInline){const h=!f||f.type.allowsMarkType(r),p=!!r.isInSet(d.marks)||!d.marks.some(m=>m.type.excludes(r));c=h&&p}return!c}),c})}const H$=(t,e={})=>({tr:r,state:n,dispatch:o})=>{const{selection:i}=r,{empty:s,ranges:l}=i,a=On(t,n.schema);if(o)if(s){const c=ga(n,a);r.addStoredMark(a.create({...c,...e}))}else l.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;n.doc.nodesBetween(d,u,(f,h)=>{const p=Math.max(h,d),m=Math.min(h+f.nodeSize,u);f.marks.find(x=>x.type===a)?f.marks.forEach(x=>{a===x.type&&r.addMark(p,m,a.create({...x.attrs,...e}))}):r.addMark(p,m,a.create(e))})});return B$(n,r,a)},L$=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),_$=(t,e={})=>({state:r,dispatch:n,chain:o})=>{const i=st(t,r.schema);return i.isTextblock?o().command(({commands:s})=>Wp(i,e)(r)?!0:s.clearNodes()).command(({state:s})=>Wp(i,e)(s,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},F$=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,o=Fr(t,0,n.content.size),i=ie.create(n,o);e.setSelection(i)}return!0},W$=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:o,to:i}=typeof t=="number"?{from:t,to:t}:t,s=ae.atStart(n).from,l=ae.atEnd(n).to,a=Fr(o,s,l),c=Fr(i,s,l),d=ae.create(n,a,c);e.setSelection(d)}return!0},j$=t=>({state:e,dispatch:r})=>{const n=st(t,e.schema);return CI(n)(e,r)};function Jp(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(n)}}const V$=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:o})=>{const{selection:i,doc:s}=e,{$from:l,$to:a}=i,c=o.extensionManager.attributes,d=Ys(c,l.node().type.name,l.node().attrs);if(i instanceof ie&&i.node.isBlock)return!l.parentOffset||!Io(s,l.pos)?!1:(n&&(t&&Jp(r,o.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(n){const u=a.parentOffset===a.parent.content.size;i instanceof ae&&e.deleteSelection();const f=l.depth===0?void 0:O$(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=u&&f?[{type:f,attrs:d}]:void 0,p=Io(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&Io(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:d}]:void 0),p&&(e.split(e.mapping.map(l.pos),1,h),f&&!u&&!l.parentOffset&&l.parent.type!==f)){const m=e.mapping.map(l.before()),g=e.doc.resolve(m);l.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&Jp(r,o.extensionManager.splittableMarks),e.scrollIntoView()}return!0},q$=t=>({tr:e,state:r,dispatch:n,editor:o})=>{var i;const s=st(t,r.schema),{$from:l,$to:a}=r.selection,c=r.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(a))return!1;const d=l.node(-1);if(d.type!==s)return!1;const u=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(n){let g=z.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let k=l.depth-x;k>=l.depth-3;k-=1)g=z.from(l.node(k).copy(g));const w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,O=Ys(u,l.node().type.name,l.node().attrs),b=((i=s.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(O))||void 0;g=g.append(z.from(s.createAndFill(null,b)||void 0));const A=l.before(l.depth-(x-1));e.replace(A,l.after(-w),new j(g,4-x,0));let v=-1;e.doc.nodesBetween(A,e.doc.content.size,(k,B)=>{if(v>-1)return!1;k.isTextblock&&k.content.size===0&&(v=B+1)}),v>-1&&e.setSelection(ae.near(e.doc.resolve(v))),e.scrollIntoView()}return!0}const f=a.pos===l.end()?d.contentMatchAt(0).defaultType:null,h=Ys(u,d.type.name,d.attrs),p=Ys(u,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const m=f?[{type:s,attrs:h},{type:f,attrs:p}]:[{type:s,attrs:h}];if(!Io(e.doc,l.pos,2))return!1;if(n){const{selection:g,storedMarks:x}=r,{splittableMarks:w}=o.extensionManager,O=x||g.$to.parentOffset&&g.$from.marks();if(e.split(l.pos,2,m).scrollIntoView(),!O||!n)return!0;const b=O.filter(A=>w.includes(A.type.name));e.ensureMarks(b)}return!0},oc=(t,e)=>{const r=su(s=>s.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const o=t.doc.nodeAt(n);return r.node.type===(o==null?void 0:o.type)&&Mn(t.doc,r.pos)&&t.join(r.pos),!0},ic=(t,e)=>{const r=su(s=>s.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const o=t.doc.nodeAt(n);return r.node.type===(o==null?void 0:o.type)&&Mn(t.doc,n)&&t.join(n),!0},K$=(t,e,r,n={})=>({editor:o,tr:i,state:s,dispatch:l,chain:a,commands:c,can:d})=>{const{extensions:u,splittableMarks:f}=o.extensionManager,h=st(t,s.schema),p=st(e,s.schema),{selection:m,storedMarks:g}=s,{$from:x,$to:w}=m,O=x.blockRange(w),b=g||m.$to.parentOffset&&m.$from.marks();if(!O)return!1;const A=su(v=>Gp(v.type.name,u))(m);if(O.depth>=1&&A&&O.depth-A.depth<=1){if(A.node.type===h)return c.liftListItem(p);if(Gp(A.node.type.name,u)&&h.validContent(A.node.content)&&l)return a().command(()=>(i.setNodeMarkup(A.pos,h),!0)).command(()=>oc(i,h)).command(()=>ic(i,h)).run()}return!r||!b||!l?a().command(()=>d().wrapInList(h,n)?!0:c.clearNodes()).wrapInList(h,n).command(()=>oc(i,h)).command(()=>ic(i,h)).run():a().command(()=>{const v=d().wrapInList(h,n),k=b.filter(B=>f.includes(B.type.name));return i.ensureMarks(k),v?!0:c.clearNodes()}).wrapInList(h,n).command(()=>oc(i,h)).command(()=>ic(i,h)).run()},U$=(t,e={},r={})=>({state:n,commands:o})=>{const{extendEmptyMarkRange:i=!1}=r,s=On(t,n.schema);return Zc(n,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e)},G$=(t,e,r={})=>({state:n,commands:o})=>{const i=st(t,n.schema),s=st(e,n.schema);return rs(n,i,r)?o.setNode(s):o.setNode(i,r)},J$=(t,e={})=>({state:r,commands:n})=>{const o=st(t,r.schema);return rs(r,o,e)?n.lift(o):n.wrapIn(o,e)},X$=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const o=r[n];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const s=t.tr,l=i.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(i.text){const a=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,a))}else s.delete(i.from,i.to)}return!0}}return!1},Y$=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:o}=r;return n||e&&o.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},Q$=(t,e={})=>({tr:r,state:n,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=r,a=On(t,n.schema),{$from:c,empty:d,ranges:u}=l;if(!o)return!0;if(d&&s){let{from:f,to:h}=l;const p=(i=c.marks().find(g=>g.type===a))===null||i===void 0?void 0:i.attrs,m=nu(c,a,p);m&&(f=m.from,h=m.to),r.removeMark(f,h,a)}else u.forEach(f=>{r.removeMark(f.$from.pos,f.$to.pos,a)});return r.removeStoredMark(a),!0},Z$=(t,e={})=>({tr:r,state:n,dispatch:o})=>{let i=null,s=null;const l=ma(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=st(t,n.schema)),l==="mark"&&(s=On(t,n.schema)),o&&r.selection.ranges.forEach(a=>{const c=a.$from.pos,d=a.$to.pos;n.doc.nodesBetween(c,d,(u,f)=>{i&&i===u.type&&r.setNodeMarkup(f,void 0,{...u.attrs,...e}),s&&u.marks.length&&u.marks.forEach(h=>{if(s===h.type){const p=Math.max(f,c),m=Math.min(f+u.nodeSize,d);r.addMark(p,m,s.create({...h.attrs,...e}))}})})}),!0):!1},eN=(t,e={})=>({state:r,dispatch:n})=>{const o=st(t,r.schema);return mI(o,e)(r,n)},tN=(t,e={})=>({state:r,dispatch:n})=>{const o=st(t,r.schema);return gI(o,e)(r,n)};var rN=Object.freeze({__proto__:null,blur:HI,clearContent:LI,clearNodes:_I,command:FI,createParagraphNear:WI,cut:jI,deleteCurrentNode:VI,deleteNode:qI,deleteRange:KI,deleteSelection:UI,enter:GI,exitCode:JI,extendMarkRange:YI,first:QI,focus:ZI,forEach:e$,insertContent:t$,insertContentAt:o$,joinUp:i$,joinDown:s$,joinBackward:l$,joinForward:a$,joinItemBackward:c$,joinItemForward:d$,joinTextblockBackward:u$,joinTextblockForward:f$,keyboardShortcut:h$,lift:m$,liftEmptyBlock:g$,liftListItem:b$,newlineInCode:x$,resetAttributes:y$,scrollIntoView:v$,selectAll:C$,selectNodeBackward:S$,selectNodeForward:w$,selectParentNode:T$,selectTextblockEnd:k$,selectTextblockStart:M$,setContent:A$,setMark:H$,setMeta:L$,setNode:_$,setNodeSelection:F$,setTextSelection:W$,sinkListItem:j$,splitBlock:V$,splitListItem:q$,toggleList:K$,toggleMark:U$,toggleNode:G$,toggleWrap:J$,undoInputRule:X$,unsetAllMarks:Y$,unsetMark:Q$,updateAttributes:Z$,wrapIn:eN,wrapInList:tN});const nN=ht.create({name:"commands",addCommands(){return{...rN}}}),oN=ht.create({name:"editable",addProseMirrorPlugins(){return[new Mt({key:new Qt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),iN=ht.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Mt({key:new Qt("focusEvents"),props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),sN=ht.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:c}=l,{empty:d,$anchor:u}=a,{pos:f,parent:h}=u,p=u.parent.isTextblock&&f>0?l.doc.resolve(f-1):u,m=p.parent.type.spec.isolating,g=u.pos-u.parentOffset,x=m&&p.parent.childCount===1?g===u.pos:de.atStart(c).from===f;return!d||!h.type.isTextblock||h.textContent.length||!x||x&&u.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return iu()||A0()?i:o},addProseMirrorPlugins(){return[new Mt({key:new Qt("clearDocument"),appendTransaction:(t,e,r)=>{if(!(t.some(p=>p.docChanged)&&!e.doc.eq(r.doc)))return;const{empty:o,from:i,to:s}=e.selection,l=de.atStart(e.doc).from,a=de.atEnd(e.doc).to;if(o||!(i===l&&s===a)||!(r.doc.textBetween(0,r.doc.content.size," "," ").length===0))return;const u=r.tr,f=ua({state:r,transaction:u}),{commands:h}=new fa({editor:this.editor,state:f});if(h.clearNodes(),!!u.steps.length)return u}})]}}),lN=ht.create({name:"tabindex",addProseMirrorPlugins(){return[new Mt({key:new Qt("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ln{constructor(e,r,n=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new Ln(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ln(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ln(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const o=r.isBlock&&!r.isTextblock,i=this.pos+n+1,s=this.resolvedPos.doc.resolve(i);if(!o&&s.depth<=this.depth)return;const l=new Ln(s,this.editor,o,o?r:null);o&&(l.actualDepth=this.depth+1),e.push(new Ln(s,this.editor,o,o?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,o=this.parent;for(;o&&!n;){if(o.node.type.name===e)if(Object.keys(r).length>0){const i=o.node.attrs,s=Object.keys(r);for(let l=0;l<s.length;l+=1){const a=s[l];if(i[a]!==r[a])break}}else n=o;o=o.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(r);return this.children.forEach(s=>{n&&o.length>0||(s.node.type.name===e&&i.every(a=>r[a]===s.node.attrs[a])&&o.push(s),!(n&&o.length>0)&&(o=o.concat(s.querySelectorAll(e,r,n))))}),o}setAttribute(e){const r=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(r.from).run()}}const aN=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function cN(t,e,r){const n=document.querySelector(`style[data-tiptap-style${r?`-${r}`:""}]`);if(n!==null)return n;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute(`data-tiptap-style${r?`-${r}`:""}`,""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}let dN=class extends SI{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=cN(aN,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const n=S0(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:n});this.view.updateState(o)}unregisterPlugin(e){if(this.isDestroyed)return;const r=typeof e=="string"?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(r))});this.view.updateState(n)}createExtensionManager(){var e,r;const o=[...this.options.enableCoreExtensions?[oN,BI.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||r===void 0?void 0:r.blockSeparator}),nN,iN,sN,lN]:[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new ko(o,this)}createCommandManager(){this.commandManager=new fa({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=O0(this.options.content,this.schema,this.options.parseOptions),r=k0(e,this.options.autofocus);this.view=new FR(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:To.create({doc:e,selection:r||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),i=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return R$(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,o=typeof e=="string"?r:e;return I$(this.state,n,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return E$(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return P$(this.state.doc,{blockSeparator:r,textSerializers:{...T0(this.schema),...n}})}get isEmpty(){return $$(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,r))||null}$pos(e){const r=this.state.doc.resolve(e);return new Ln(r,this)}get $doc(){return this.$pos(0)}};function Vo(t){return new bs({find:t.find,handler:({state:e,range:r,match:n})=>{const o=ye(t.getAttributes,void 0,n);if(o===!1||o===null)return null;const{tr:i}=e,s=n[n.length-1],l=n[0];if(s){const a=l.search(/\S/),c=r.from+l.indexOf(s),d=c+s.length;if(P0(r.from,r.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===t.type&&m!==h.mark.type)).filter(h=>h.to>c).length)return null;d<r.to&&i.delete(d,r.to),c>r.from&&i.delete(r.from+a,c);const f=r.from+a+s.length;i.addMark(r.from+a,f,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}function D0(t){return new bs({find:t.find,handler:({state:e,range:r,match:n})=>{const o=ye(t.getAttributes,void 0,n)||{},{tr:i}=e,s=r.from;let l=r.to;const a=t.type.create(o);if(n[1]){const c=n[0].lastIndexOf(n[1]);let d=s+c;d>l?d=l:l=d+n[1].length;const u=n[0][n[0].length-1];i.insertText(u,s+n[0].length-1),i.replaceWith(d,l,a)}else n[0]&&i.insert(s-1,t.type.create(o)).delete(i.mapping.map(s),i.mapping.map(l));i.scrollIntoView()}})}function ed(t){return new bs({find:t.find,handler:({state:e,range:r,match:n})=>{const o=e.doc.resolve(r.from),i=ye(t.getAttributes,void 0,n)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)}})}function Ue(t){return new bs({find:t.find,handler:({state:e,range:r,match:n})=>{let o=t.replace,i=r.from;const s=r.to;if(n[1]){const l=n[0].lastIndexOf(n[1]);o+=n[0].slice(l+n[1].length),i+=l;const a=i-s;a>0&&(o=n[0].slice(l-a,l)+o,i=s)}e.tr.insertText(o,i,s)}})}function ns(t){return new bs({find:t.find,handler:({state:e,range:r,match:n,chain:o})=>{const i=ye(t.getAttributes,void 0,n)||{},s=e.tr.delete(r.from,r.to),a=s.doc.resolve(r.from).blockRange(),c=a&&jd(a,t.type,i);if(!c)return null;if(s.wrap(a,c),t.keepMarks&&t.editor){const{selection:u,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,p=f||u.$to.parentOffset&&u.$from.marks();if(p){const m=p.filter(g=>h.includes(g.type.name));s.ensureMarks(m)}}if(t.keepAttributes){const u=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(u,i).run()}const d=s.doc.resolve(r.from-1).nodeBefore;d&&d.type===t.type&&Mn(s.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,d))&&s.join(r.from-1)}})}class br{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ye(Z(this,"addOptions",{name:this.name}))),this.storage=ye(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new br(e)}configure(e={}){const r=this.extend();return r.options=ha(this.options,e),r.storage=ye(Z(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new br({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=ye(Z(r,"addOptions",{name:r.name})),r.storage=ye(Z(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const s=o.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===r.name))return!1;const a=s.find(c=>(c==null?void 0:c.type.name)===r.name);return a&&n.removeStoredMark(a),n.insertText(" ",o.pos),e.view.dispatch(n),!0}return!1}}class Ye{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ye(Z(this,"addOptions",{name:this.name}))),this.storage=ye(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ye(e)}configure(e={}){const r=this.extend();return r.options=ha(this.options,e),r.storage=ye(Z(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new Ye({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=ye(Z(r,"addOptions",{name:r.name})),r.storage=ye(Z(r,"addStorage",{name:r.name,options:r.options})),r}}function qo(t){return new PI({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:o})=>{const i=ye(t.getAttributes,void 0,n,o);if(i===!1||i===null)return null;const{tr:s}=e,l=n[n.length-1],a=n[0];let c=r.to;if(l){const d=a.search(/\S/),u=r.from+a.indexOf(l),f=u+l.length;if(P0(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;f<r.to&&s.delete(f,r.to),u>r.from&&s.delete(r.from+d,u),c=r.from+d+l.length,s.addMark(r.from+d,c,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}var Wt="top",sr="bottom",lr="right",jt="left",lu="auto",xs=[Wt,sr,lr,jt],Ko="start",is="end",uN="clippingParents",R0="viewport",ui="popper",fN="reference",Xp=xs.reduce(function(t,e){return t.concat([e+"-"+Ko,e+"-"+is])},[]),I0=[].concat(xs,[lu]).reduce(function(t,e){return t.concat([e,e+"-"+Ko,e+"-"+is])},[]),pN="beforeRead",hN="read",mN="afterRead",gN="beforeMain",bN="main",xN="afterMain",yN="beforeWrite",vN="write",CN="afterWrite",SN=[pN,hN,mN,gN,bN,xN,yN,vN,CN];function Ir(t){return t?(t.nodeName||"").toLowerCase():null}function Yt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ao(t){var e=Yt(t).Element;return t instanceof e||t instanceof Element}function ir(t){var e=Yt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function au(t){if(typeof ShadowRoot>"u")return!1;var e=Yt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function wN(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},o=e.attributes[r]||{},i=e.elements[r];!ir(i)||!Ir(i)||(Object.assign(i.style,n),Object.keys(o).forEach(function(s){var l=o[s];l===!1?i.removeAttribute(s):i.setAttribute(s,l===!0?"":l)}))})}function TN(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],i=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),l=s.reduce(function(a,c){return a[c]="",a},{});!ir(o)||!Ir(o)||(Object.assign(o.style,l),Object.keys(i).forEach(function(a){o.removeAttribute(a)}))})}}const $0={name:"applyStyles",enabled:!0,phase:"write",fn:wN,effect:TN,requires:["computeStyles"]};function Er(t){return t.split("-")[0]}var to=Math.max,Pl=Math.min,Uo=Math.round;function td(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function N0(){return!/^((?!chrome|android).)*safari/i.test(td())}function Go(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),o=1,i=1;e&&ir(t)&&(o=t.offsetWidth>0&&Uo(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Uo(n.height)/t.offsetHeight||1);var s=ao(t)?Yt(t):window,l=s.visualViewport,a=!N0()&&r,c=(n.left+(a&&l?l.offsetLeft:0))/o,d=(n.top+(a&&l?l.offsetTop:0))/i,u=n.width/o,f=n.height/i;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c,x:c,y:d}}function cu(t){var e=Go(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function z0(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&au(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Kr(t){return Yt(t).getComputedStyle(t)}function kN(t){return["table","td","th"].indexOf(Ir(t))>=0}function En(t){return((ao(t)?t.ownerDocument:t.document)||window.document).documentElement}function ba(t){return Ir(t)==="html"?t:t.assignedSlot||t.parentNode||(au(t)?t.host:null)||En(t)}function Yp(t){return!ir(t)||Kr(t).position==="fixed"?null:t.offsetParent}function MN(t){var e=/firefox/i.test(td()),r=/Trident/i.test(td());if(r&&ir(t)){var n=Kr(t);if(n.position==="fixed")return null}var o=ba(t);for(au(o)&&(o=o.host);ir(o)&&["html","body"].indexOf(Ir(o))<0;){var i=Kr(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function ys(t){for(var e=Yt(t),r=Yp(t);r&&kN(r)&&Kr(r).position==="static";)r=Yp(r);return r&&(Ir(r)==="html"||Ir(r)==="body"&&Kr(r).position==="static")?e:r||MN(t)||e}function du(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function $i(t,e,r){return to(t,Pl(e,r))}function AN(t,e,r){var n=$i(t,e,r);return n>r?r:n}function B0(){return{top:0,right:0,bottom:0,left:0}}function H0(t){return Object.assign({},B0(),t)}function L0(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var ON=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,H0(typeof e!="number"?e:L0(e,xs))};function EN(t){var e,r=t.state,n=t.name,o=t.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,l=Er(r.placement),a=du(l),c=[jt,lr].indexOf(l)>=0,d=c?"height":"width";if(!(!i||!s)){var u=ON(o.padding,r),f=cu(i),h=a==="y"?Wt:jt,p=a==="y"?sr:lr,m=r.rects.reference[d]+r.rects.reference[a]-s[a]-r.rects.popper[d],g=s[a]-r.rects.reference[a],x=ys(i),w=x?a==="y"?x.clientHeight||0:x.clientWidth||0:0,O=m/2-g/2,b=u[h],A=w-f[d]-u[p],v=w/2-f[d]/2+O,k=$i(b,v,A),B=a;r.modifiersData[n]=(e={},e[B]=k,e.centerOffset=k-v,e)}}function PN(t){var e=t.state,r=t.options,n=r.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||z0(e.elements.popper,o)&&(e.elements.arrow=o))}const DN={name:"arrow",enabled:!0,phase:"main",fn:EN,effect:PN,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jo(t){return t.split("-")[1]}var RN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IN(t,e){var r=t.x,n=t.y,o=e.devicePixelRatio||1;return{x:Uo(r*o)/o||0,y:Uo(n*o)/o||0}}function Qp(t){var e,r=t.popper,n=t.popperRect,o=t.placement,i=t.variation,s=t.offsets,l=t.position,a=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,u=t.isFixed,f=s.x,h=f===void 0?0:f,p=s.y,m=p===void 0?0:p,g=typeof d=="function"?d({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var x=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),O=jt,b=Wt,A=window;if(c){var v=ys(r),k="clientHeight",B="clientWidth";if(v===Yt(r)&&(v=En(r),Kr(v).position!=="static"&&l==="absolute"&&(k="scrollHeight",B="scrollWidth")),v=v,o===Wt||(o===jt||o===lr)&&i===is){b=sr;var P=u&&v===A&&A.visualViewport?A.visualViewport.height:v[k];m-=P-n.height,m*=a?1:-1}if(o===jt||(o===Wt||o===sr)&&i===is){O=lr;var F=u&&v===A&&A.visualViewport?A.visualViewport.width:v[B];h-=F-n.width,h*=a?1:-1}}var V=Object.assign({position:l},c&&RN),I=d===!0?IN({x:h,y:m},Yt(r)):{x:h,y:m};if(h=I.x,m=I.y,a){var Y;return Object.assign({},V,(Y={},Y[b]=w?"0":"",Y[O]=x?"0":"",Y.transform=(A.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",Y))}return Object.assign({},V,(e={},e[b]=w?m+"px":"",e[O]=x?h+"px":"",e.transform="",e))}function $N(t){var e=t.state,r=t.options,n=r.gpuAcceleration,o=n===void 0?!0:n,i=r.adaptive,s=i===void 0?!0:i,l=r.roundOffsets,a=l===void 0?!0:l,c={placement:Er(e.placement),variation:Jo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Qp(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Qp(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const NN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$N,data:{}};var _s={passive:!0};function zN(t){var e=t.state,r=t.instance,n=t.options,o=n.scroll,i=o===void 0?!0:o,s=n.resize,l=s===void 0?!0:s,a=Yt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(d){d.addEventListener("scroll",r.update,_s)}),l&&a.addEventListener("resize",r.update,_s),function(){i&&c.forEach(function(d){d.removeEventListener("scroll",r.update,_s)}),l&&a.removeEventListener("resize",r.update,_s)}}const BN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zN,data:{}};var HN={left:"right",right:"left",bottom:"top",top:"bottom"};function Qs(t){return t.replace(/left|right|bottom|top/g,function(e){return HN[e]})}var LN={start:"end",end:"start"};function Zp(t){return t.replace(/start|end/g,function(e){return LN[e]})}function uu(t){var e=Yt(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function fu(t){return Go(En(t)).left+uu(t).scrollLeft}function _N(t,e){var r=Yt(t),n=En(t),o=r.visualViewport,i=n.clientWidth,s=n.clientHeight,l=0,a=0;if(o){i=o.width,s=o.height;var c=N0();(c||!c&&e==="fixed")&&(l=o.offsetLeft,a=o.offsetTop)}return{width:i,height:s,x:l+fu(t),y:a}}function FN(t){var e,r=En(t),n=uu(t),o=(e=t.ownerDocument)==null?void 0:e.body,i=to(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=to(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-n.scrollLeft+fu(t),a=-n.scrollTop;return Kr(o||r).direction==="rtl"&&(l+=to(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:l,y:a}}function pu(t){var e=Kr(t),r=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function _0(t){return["html","body","#document"].indexOf(Ir(t))>=0?t.ownerDocument.body:ir(t)&&pu(t)?t:_0(ba(t))}function Ni(t,e){var r;e===void 0&&(e=[]);var n=_0(t),o=n===((r=t.ownerDocument)==null?void 0:r.body),i=Yt(n),s=o?[i].concat(i.visualViewport||[],pu(n)?n:[]):n,l=e.concat(s);return o?l:l.concat(Ni(ba(s)))}function rd(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function WN(t,e){var r=Go(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function eh(t,e,r){return e===R0?rd(_N(t,r)):ao(e)?WN(e,r):rd(FN(En(t)))}function jN(t){var e=Ni(ba(t)),r=["absolute","fixed"].indexOf(Kr(t).position)>=0,n=r&&ir(t)?ys(t):t;return ao(n)?e.filter(function(o){return ao(o)&&z0(o,n)&&Ir(o)!=="body"}):[]}function VN(t,e,r,n){var o=e==="clippingParents"?jN(t):[].concat(e),i=[].concat(o,[r]),s=i[0],l=i.reduce(function(a,c){var d=eh(t,c,n);return a.top=to(d.top,a.top),a.right=Pl(d.right,a.right),a.bottom=Pl(d.bottom,a.bottom),a.left=to(d.left,a.left),a},eh(t,s,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function F0(t){var e=t.reference,r=t.element,n=t.placement,o=n?Er(n):null,i=n?Jo(n):null,s=e.x+e.width/2-r.width/2,l=e.y+e.height/2-r.height/2,a;switch(o){case Wt:a={x:s,y:e.y-r.height};break;case sr:a={x:s,y:e.y+e.height};break;case lr:a={x:e.x+e.width,y:l};break;case jt:a={x:e.x-r.width,y:l};break;default:a={x:e.x,y:e.y}}var c=o?du(o):null;if(c!=null){var d=c==="y"?"height":"width";switch(i){case Ko:a[c]=a[c]-(e[d]/2-r[d]/2);break;case is:a[c]=a[c]+(e[d]/2-r[d]/2);break}}return a}function ss(t,e){e===void 0&&(e={});var r=e,n=r.placement,o=n===void 0?t.placement:n,i=r.strategy,s=i===void 0?t.strategy:i,l=r.boundary,a=l===void 0?uN:l,c=r.rootBoundary,d=c===void 0?R0:c,u=r.elementContext,f=u===void 0?ui:u,h=r.altBoundary,p=h===void 0?!1:h,m=r.padding,g=m===void 0?0:m,x=H0(typeof g!="number"?g:L0(g,xs)),w=f===ui?fN:ui,O=t.rects.popper,b=t.elements[p?w:f],A=VN(ao(b)?b:b.contextElement||En(t.elements.popper),a,d,s),v=Go(t.elements.reference),k=F0({reference:v,element:O,strategy:"absolute",placement:o}),B=rd(Object.assign({},O,k)),P=f===ui?B:v,F={top:A.top-P.top+x.top,bottom:P.bottom-A.bottom+x.bottom,left:A.left-P.left+x.left,right:P.right-A.right+x.right},V=t.modifiersData.offset;if(f===ui&&V){var I=V[o];Object.keys(F).forEach(function(Y){var pe=[lr,sr].indexOf(Y)>=0?1:-1,Ce=[Wt,sr].indexOf(Y)>=0?"y":"x";F[Y]+=I[Ce]*pe})}return F}function qN(t,e){e===void 0&&(e={});var r=e,n=r.placement,o=r.boundary,i=r.rootBoundary,s=r.padding,l=r.flipVariations,a=r.allowedAutoPlacements,c=a===void 0?I0:a,d=Jo(n),u=d?l?Xp:Xp.filter(function(p){return Jo(p)===d}):xs,f=u.filter(function(p){return c.indexOf(p)>=0});f.length===0&&(f=u);var h=f.reduce(function(p,m){return p[m]=ss(t,{placement:m,boundary:o,rootBoundary:i,padding:s})[Er(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function KN(t){if(Er(t)===lu)return[];var e=Qs(t);return[Zp(t),e,Zp(e)]}function UN(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var o=r.mainAxis,i=o===void 0?!0:o,s=r.altAxis,l=s===void 0?!0:s,a=r.fallbackPlacements,c=r.padding,d=r.boundary,u=r.rootBoundary,f=r.altBoundary,h=r.flipVariations,p=h===void 0?!0:h,m=r.allowedAutoPlacements,g=e.options.placement,x=Er(g),w=x===g,O=a||(w||!p?[Qs(g)]:KN(g)),b=[g].concat(O).reduce(function(gt,Fe){return gt.concat(Er(Fe)===lu?qN(e,{placement:Fe,boundary:d,rootBoundary:u,padding:c,flipVariations:p,allowedAutoPlacements:m}):Fe)},[]),A=e.rects.reference,v=e.rects.popper,k=new Map,B=!0,P=b[0],F=0;F<b.length;F++){var V=b[F],I=Er(V),Y=Jo(V)===Ko,pe=[Wt,sr].indexOf(I)>=0,Ce=pe?"width":"height",ce=ss(e,{placement:V,boundary:d,rootBoundary:u,altBoundary:f,padding:c}),J=pe?Y?lr:jt:Y?sr:Wt;A[Ce]>v[Ce]&&(J=Qs(J));var se=Qs(J),ze=[];if(i&&ze.push(ce[I]<=0),l&&ze.push(ce[J]<=0,ce[se]<=0),ze.every(function(gt){return gt})){P=V,B=!1;break}k.set(V,ze)}if(B)for(var De=p?3:1,Ze=function(Fe){var me=b.find(function(et){var tt=k.get(et);if(tt)return tt.slice(0,Fe).every(function(xe){return xe})});if(me)return P=me,"break"},Re=De;Re>0;Re--){var Nt=Ze(Re);if(Nt==="break")break}e.placement!==P&&(e.modifiersData[n]._skip=!0,e.placement=P,e.reset=!0)}}const GN={name:"flip",enabled:!0,phase:"main",fn:UN,requiresIfExists:["offset"],data:{_skip:!1}};function th(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function rh(t){return[Wt,lr,sr,jt].some(function(e){return t[e]>=0})}function JN(t){var e=t.state,r=t.name,n=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=ss(e,{elementContext:"reference"}),l=ss(e,{altBoundary:!0}),a=th(s,n),c=th(l,o,i),d=rh(a),u=rh(c);e.modifiersData[r]={referenceClippingOffsets:a,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}const XN={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:JN};function YN(t,e,r){var n=Er(t),o=[jt,Wt].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=i[0],l=i[1];return s=s||0,l=(l||0)*o,[jt,lr].indexOf(n)>=0?{x:l,y:s}:{x:s,y:l}}function QN(t){var e=t.state,r=t.options,n=t.name,o=r.offset,i=o===void 0?[0,0]:o,s=I0.reduce(function(d,u){return d[u]=YN(u,e.rects,i),d},{}),l=s[e.placement],a=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}const ZN={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:QN};function ez(t){var e=t.state,r=t.name;e.modifiersData[r]=F0({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const tz={name:"popperOffsets",enabled:!0,phase:"read",fn:ez,data:{}};function rz(t){return t==="x"?"y":"x"}function nz(t){var e=t.state,r=t.options,n=t.name,o=r.mainAxis,i=o===void 0?!0:o,s=r.altAxis,l=s===void 0?!1:s,a=r.boundary,c=r.rootBoundary,d=r.altBoundary,u=r.padding,f=r.tether,h=f===void 0?!0:f,p=r.tetherOffset,m=p===void 0?0:p,g=ss(e,{boundary:a,rootBoundary:c,padding:u,altBoundary:d}),x=Er(e.placement),w=Jo(e.placement),O=!w,b=du(x),A=rz(b),v=e.modifiersData.popperOffsets,k=e.rects.reference,B=e.rects.popper,P=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,F=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(v){if(i){var Y,pe=b==="y"?Wt:jt,Ce=b==="y"?sr:lr,ce=b==="y"?"height":"width",J=v[b],se=J+g[pe],ze=J-g[Ce],De=h?-B[ce]/2:0,Ze=w===Ko?k[ce]:B[ce],Re=w===Ko?-B[ce]:-k[ce],Nt=e.elements.arrow,gt=h&&Nt?cu(Nt):{width:0,height:0},Fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:B0(),me=Fe[pe],et=Fe[Ce],tt=$i(0,k[ce],gt[ce]),xe=O?k[ce]/2-De-tt-me-F.mainAxis:Ze-tt-me-F.mainAxis,_e=O?-k[ce]/2+De+tt+et+F.mainAxis:Re+tt+et+F.mainAxis,bt=e.elements.arrow&&ys(e.elements.arrow),Zt=bt?b==="y"?bt.clientTop||0:bt.clientLeft||0:0,y=(Y=V==null?void 0:V[b])!=null?Y:0,S=J+xe-y-Zt,E=J+_e-y,$=$i(h?Pl(se,S):se,J,h?to(ze,E):ze);v[b]=$,I[b]=$-J}if(l){var N,H=b==="x"?Wt:jt,L=b==="x"?sr:lr,C=v[A],T=A==="y"?"height":"width",M=C+g[H],R=C-g[L],W=[Wt,jt].indexOf(x)!==-1,G=(N=V==null?void 0:V[A])!=null?N:0,te=W?M:C-k[T]-B[T]-G+F.altAxis,fe=W?C+k[T]+B[T]-G-F.altAxis:R,Oe=h&&W?AN(te,C,fe):$i(h?te:M,C,h?fe:R);v[A]=Oe,I[A]=Oe-C}e.modifiersData[n]=I}}const oz={name:"preventOverflow",enabled:!0,phase:"main",fn:nz,requiresIfExists:["offset"]};function iz(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function sz(t){return t===Yt(t)||!ir(t)?uu(t):iz(t)}function lz(t){var e=t.getBoundingClientRect(),r=Uo(e.width)/t.offsetWidth||1,n=Uo(e.height)/t.offsetHeight||1;return r!==1||n!==1}function az(t,e,r){r===void 0&&(r=!1);var n=ir(e),o=ir(e)&&lz(e),i=En(e),s=Go(t,o,r),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(n||!n&&!r)&&((Ir(e)!=="body"||pu(i))&&(l=sz(e)),ir(e)?(a=Go(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):i&&(a.x=fu(i))),{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}function cz(t){var e=new Map,r=new Set,n=[];t.forEach(function(i){e.set(i.name,i)});function o(i){r.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(l){if(!r.has(l)){var a=e.get(l);a&&o(a)}}),n.push(i)}return t.forEach(function(i){r.has(i.name)||o(i)}),n}function dz(t){var e=cz(t);return SN.reduce(function(r,n){return r.concat(e.filter(function(o){return o.phase===n}))},[])}function uz(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function fz(t){var e=t.reduce(function(r,n){var o=r[n.name];return r[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var nh={placement:"bottom",modifiers:[],strategy:"absolute"};function oh(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function pz(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,o=e.defaultOptions,i=o===void 0?nh:o;return function(l,a,c){c===void 0&&(c=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},nh,i),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},u=[],f=!1,h={state:d,setOptions:function(x){var w=typeof x=="function"?x(d.options):x;m(),d.options=Object.assign({},i,d.options,w),d.scrollParents={reference:ao(l)?Ni(l):l.contextElement?Ni(l.contextElement):[],popper:Ni(a)};var O=dz(fz([].concat(n,d.options.modifiers)));return d.orderedModifiers=O.filter(function(b){return b.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var x=d.elements,w=x.reference,O=x.popper;if(oh(w,O)){d.rects={reference:az(w,ys(O),d.options.strategy==="fixed"),popper:cu(O)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(F){return d.modifiersData[F.name]=Object.assign({},F.data)});for(var b=0;b<d.orderedModifiers.length;b++){if(d.reset===!0){d.reset=!1,b=-1;continue}var A=d.orderedModifiers[b],v=A.fn,k=A.options,B=k===void 0?{}:k,P=A.name;typeof v=="function"&&(d=v({state:d,options:B,name:P,instance:h})||d)}}}},update:uz(function(){return new Promise(function(g){h.forceUpdate(),g(d)})}),destroy:function(){m(),f=!0}};if(!oh(l,a))return h;h.setOptions(c).then(function(g){!f&&c.onFirstUpdate&&c.onFirstUpdate(g)});function p(){d.orderedModifiers.forEach(function(g){var x=g.name,w=g.options,O=w===void 0?{}:w,b=g.effect;if(typeof b=="function"){var A=b({state:d,name:x,instance:h,options:O}),v=function(){};u.push(A||v)}})}function m(){u.forEach(function(g){return g()}),u=[]}return h}}var hz=[BN,tz,NN,$0,ZN,GN,oz,DN,XN],mz=pz({defaultModifiers:hz}),gz="tippy-box",W0="tippy-content",bz="tippy-backdrop",j0="tippy-arrow",V0="tippy-svg-arrow",Nn={passive:!0,capture:!0},q0=function(){return document.body};function sc(t,e,r){if(Array.isArray(t)){var n=t[e];return n??(Array.isArray(r)?r[e]:r)}return t}function hu(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function K0(t,e){return typeof t=="function"?t.apply(void 0,e):t}function ih(t,e){if(e===0)return t;var r;return function(n){clearTimeout(r),r=setTimeout(function(){t(n)},e)}}function xz(t){return t.split(/\s+/).filter(Boolean)}function So(t){return[].concat(t)}function sh(t,e){t.indexOf(e)===-1&&t.push(e)}function yz(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function vz(t){return t.split("-")[0]}function Dl(t){return[].slice.call(t)}function lh(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function zi(){return document.createElement("div")}function xa(t){return["Element","Fragment"].some(function(e){return hu(t,e)})}function Cz(t){return hu(t,"NodeList")}function Sz(t){return hu(t,"MouseEvent")}function wz(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Tz(t){return xa(t)?[t]:Cz(t)?Dl(t):Array.isArray(t)?t:Dl(document.querySelectorAll(t))}function lc(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function ah(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function kz(t){var e,r=So(t),n=r[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function Mz(t,e){var r=e.clientX,n=e.clientY;return t.every(function(o){var i=o.popperRect,s=o.popperState,l=o.props,a=l.interactiveBorder,c=vz(s.placement),d=s.modifiersData.offset;if(!d)return!0;var u=c==="bottom"?d.top.y:0,f=c==="top"?d.bottom.y:0,h=c==="right"?d.left.x:0,p=c==="left"?d.right.x:0,m=i.top-n+u>a,g=n-i.bottom-f>a,x=i.left-r+h>a,w=r-i.right-p>a;return m||g||x||w})}function ac(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[n](o,r)})}function ch(t,e){for(var r=e;r;){var n;if(t.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var Tr={isTouch:!1},dh=0;function Az(){Tr.isTouch||(Tr.isTouch=!0,window.performance&&document.addEventListener("mousemove",U0))}function U0(){var t=performance.now();t-dh<20&&(Tr.isTouch=!1,document.removeEventListener("mousemove",U0)),dh=t}function Oz(){var t=document.activeElement;if(wz(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Ez(){document.addEventListener("touchstart",Az,Nn),window.addEventListener("blur",Oz)}var Pz=typeof window<"u"&&typeof document<"u",Dz=Pz?!!window.msCrypto:!1,Rz={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Iz={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},pr=Object.assign({appendTo:q0,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Rz,Iz),$z=Object.keys(pr),Nz=function(e){var r=Object.keys(e);r.forEach(function(n){pr[n]=e[n]})};function G0(t){var e=t.plugins||[],r=e.reduce(function(n,o){var i=o.name,s=o.defaultValue;if(i){var l;n[i]=t[i]!==void 0?t[i]:(l=pr[i])!=null?l:s}return n},{});return Object.assign({},t,r)}function zz(t,e){var r=e?Object.keys(G0(Object.assign({},pr,{plugins:e}))):$z,n=r.reduce(function(o,i){var s=(t.getAttribute("data-tippy-"+i)||"").trim();if(!s)return o;if(i==="content")o[i]=s;else try{o[i]=JSON.parse(s)}catch{o[i]=s}return o},{});return n}function uh(t,e){var r=Object.assign({},e,{content:K0(e.content,[t])},e.ignoreAttributes?{}:zz(t,e.plugins));return r.aria=Object.assign({},pr.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var Bz=function(){return"innerHTML"};function nd(t,e){t[Bz()]=e}function fh(t){var e=zi();return t===!0?e.className=j0:(e.className=V0,xa(t)?e.appendChild(t):nd(e,t)),e}function ph(t,e){xa(e.content)?(nd(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?nd(t,e.content):t.textContent=e.content)}function od(t){var e=t.firstElementChild,r=Dl(e.children);return{box:e,content:r.find(function(n){return n.classList.contains(W0)}),arrow:r.find(function(n){return n.classList.contains(j0)||n.classList.contains(V0)}),backdrop:r.find(function(n){return n.classList.contains(bz)})}}function J0(t){var e=zi(),r=zi();r.className=gz,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=zi();n.className=W0,n.setAttribute("data-state","hidden"),ph(n,t.props),e.appendChild(r),r.appendChild(n),o(t.props,t.props);function o(i,s){var l=od(e),a=l.box,c=l.content,d=l.arrow;s.theme?a.setAttribute("data-theme",s.theme):a.removeAttribute("data-theme"),typeof s.animation=="string"?a.setAttribute("data-animation",s.animation):a.removeAttribute("data-animation"),s.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?a.setAttribute("role",s.role):a.removeAttribute("role"),(i.content!==s.content||i.allowHTML!==s.allowHTML)&&ph(c,t.props),s.arrow?d?i.arrow!==s.arrow&&(a.removeChild(d),a.appendChild(fh(s.arrow))):a.appendChild(fh(s.arrow)):d&&a.removeChild(d)}return{popper:e,onUpdate:o}}J0.$$tippy=!0;var Hz=1,Fs=[],cc=[];function Lz(t,e){var r=uh(t,Object.assign({},pr,G0(lh(e)))),n,o,i,s=!1,l=!1,a=!1,c=!1,d,u,f,h=[],p=ih(S,r.interactiveDebounce),m,g=Hz++,x=null,w=yz(r.plugins),O={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:g,reference:t,popper:zi(),popperInstance:x,props:r,state:O,plugins:w,clearDelayTimeouts:te,setProps:fe,setContent:Oe,show:Se,hide:We,hideWithInteractivity:At,enable:W,disable:G,unmount:yr,destroy:mo};if(!r.render)return b;var A=r.render(b),v=A.popper,k=A.onUpdate;v.setAttribute("data-tippy-root",""),v.id="tippy-"+b.id,b.popper=v,t._tippy=b,v._tippy=b;var B=w.map(function(D){return D.fn(b)}),P=t.hasAttribute("aria-expanded");return bt(),De(),J(),se("onCreate",[b]),r.showOnCreate&&M(),v.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),v.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&pe().addEventListener("mousemove",p)}),b;function F(){var D=b.props.touch;return Array.isArray(D)?D:[D,0]}function V(){return F()[0]==="hold"}function I(){var D;return!!((D=b.props.render)!=null&&D.$$tippy)}function Y(){return m||t}function pe(){var D=Y().parentNode;return D?kz(D):document}function Ce(){return od(v)}function ce(D){return b.state.isMounted&&!b.state.isVisible||Tr.isTouch||d&&d.type==="focus"?0:sc(b.props.delay,D?0:1,pr.delay)}function J(D){D===void 0&&(D=!1),v.style.pointerEvents=b.props.interactive&&!D?"":"none",v.style.zIndex=""+b.props.zIndex}function se(D,Q,ee){if(ee===void 0&&(ee=!0),B.forEach(function(ve){ve[D]&&ve[D].apply(ve,Q)}),ee){var be;(be=b.props)[D].apply(be,Q)}}function ze(){var D=b.props.aria;if(D.content){var Q="aria-"+D.content,ee=v.id,be=So(b.props.triggerTarget||t);be.forEach(function(ve){var lt=ve.getAttribute(Q);if(b.state.isVisible)ve.setAttribute(Q,lt?lt+" "+ee:ee);else{var zt=lt&&lt.replace(ee,"").trim();zt?ve.setAttribute(Q,zt):ve.removeAttribute(Q)}})}}function De(){if(!(P||!b.props.aria.expanded)){var D=So(b.props.triggerTarget||t);D.forEach(function(Q){b.props.interactive?Q.setAttribute("aria-expanded",b.state.isVisible&&Q===Y()?"true":"false"):Q.removeAttribute("aria-expanded")})}}function Ze(){pe().removeEventListener("mousemove",p),Fs=Fs.filter(function(D){return D!==p})}function Re(D){if(!(Tr.isTouch&&(a||D.type==="mousedown"))){var Q=D.composedPath&&D.composedPath()[0]||D.target;if(!(b.props.interactive&&ch(v,Q))){if(So(b.props.triggerTarget||t).some(function(ee){return ch(ee,Q)})){if(Tr.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else se("onClickOutside",[b,D]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),l=!0,setTimeout(function(){l=!1}),b.state.isMounted||me())}}}function Nt(){a=!0}function gt(){a=!1}function Fe(){var D=pe();D.addEventListener("mousedown",Re,!0),D.addEventListener("touchend",Re,Nn),D.addEventListener("touchstart",gt,Nn),D.addEventListener("touchmove",Nt,Nn)}function me(){var D=pe();D.removeEventListener("mousedown",Re,!0),D.removeEventListener("touchend",Re,Nn),D.removeEventListener("touchstart",gt,Nn),D.removeEventListener("touchmove",Nt,Nn)}function et(D,Q){xe(D,function(){!b.state.isVisible&&v.parentNode&&v.parentNode.contains(v)&&Q()})}function tt(D,Q){xe(D,Q)}function xe(D,Q){var ee=Ce().box;function be(ve){ve.target===ee&&(ac(ee,"remove",be),Q())}if(D===0)return Q();ac(ee,"remove",u),ac(ee,"add",be),u=be}function _e(D,Q,ee){ee===void 0&&(ee=!1);var be=So(b.props.triggerTarget||t);be.forEach(function(ve){ve.addEventListener(D,Q,ee),h.push({node:ve,eventType:D,handler:Q,options:ee})})}function bt(){V()&&(_e("touchstart",y,{passive:!0}),_e("touchend",E,{passive:!0})),xz(b.props.trigger).forEach(function(D){if(D!=="manual")switch(_e(D,y),D){case"mouseenter":_e("mouseleave",E);break;case"focus":_e(Dz?"focusout":"blur",$);break;case"focusin":_e("focusout",$);break}})}function Zt(){h.forEach(function(D){var Q=D.node,ee=D.eventType,be=D.handler,ve=D.options;Q.removeEventListener(ee,be,ve)}),h=[]}function y(D){var Q,ee=!1;if(!(!b.state.isEnabled||N(D)||l)){var be=((Q=d)==null?void 0:Q.type)==="focus";d=D,m=D.currentTarget,De(),!b.state.isVisible&&Sz(D)&&Fs.forEach(function(ve){return ve(D)}),D.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||s)&&b.props.hideOnClick!==!1&&b.state.isVisible?ee=!0:M(D),D.type==="click"&&(s=!ee),ee&&!be&&R(D)}}function S(D){var Q=D.target,ee=Y().contains(Q)||v.contains(Q);if(!(D.type==="mousemove"&&ee)){var be=T().concat(v).map(function(ve){var lt,zt=ve._tippy,Jr=(lt=zt.popperInstance)==null?void 0:lt.state;return Jr?{popperRect:ve.getBoundingClientRect(),popperState:Jr,props:r}:null}).filter(Boolean);Mz(be,D)&&(Ze(),R(D))}}function E(D){var Q=N(D)||b.props.trigger.indexOf("click")>=0&&s;if(!Q){if(b.props.interactive){b.hideWithInteractivity(D);return}R(D)}}function $(D){b.props.trigger.indexOf("focusin")<0&&D.target!==Y()||b.props.interactive&&D.relatedTarget&&v.contains(D.relatedTarget)||R(D)}function N(D){return Tr.isTouch?V()!==D.type.indexOf("touch")>=0:!1}function H(){L();var D=b.props,Q=D.popperOptions,ee=D.placement,be=D.offset,ve=D.getReferenceClientRect,lt=D.moveTransition,zt=I()?od(v).arrow:null,Jr=ve?{getBoundingClientRect:ve,contextElement:ve.contextElement||Y()}:t,Pn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(go){var Xr=go.state;if(I()){var va=Ce(),si=va.box;["placement","reference-hidden","escaped"].forEach(function(bo){bo==="placement"?si.setAttribute("data-placement",Xr.placement):Xr.attributes.popper["data-popper-"+bo]?si.setAttribute("data-"+bo,""):si.removeAttribute("data-"+bo)}),Xr.attributes.popper={}}}},Nr=[{name:"offset",options:{offset:be}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!lt}},Pn];I()&&zt&&Nr.push({name:"arrow",options:{element:zt,padding:3}}),Nr.push.apply(Nr,(Q==null?void 0:Q.modifiers)||[]),b.popperInstance=mz(Jr,v,Object.assign({},Q,{placement:ee,onFirstUpdate:f,modifiers:Nr}))}function L(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function C(){var D=b.props.appendTo,Q,ee=Y();b.props.interactive&&D===q0||D==="parent"?Q=ee.parentNode:Q=K0(D,[ee]),Q.contains(v)||Q.appendChild(v),b.state.isMounted=!0,H()}function T(){return Dl(v.querySelectorAll("[data-tippy-root]"))}function M(D){b.clearDelayTimeouts(),D&&se("onTrigger",[b,D]),Fe();var Q=ce(!0),ee=F(),be=ee[0],ve=ee[1];Tr.isTouch&&be==="hold"&&ve&&(Q=ve),Q?n=setTimeout(function(){b.show()},Q):b.show()}function R(D){if(b.clearDelayTimeouts(),se("onUntrigger",[b,D]),!b.state.isVisible){me();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(D.type)>=0&&s)){var Q=ce(!1);Q?o=setTimeout(function(){b.state.isVisible&&b.hide()},Q):i=requestAnimationFrame(function(){b.hide()})}}function W(){b.state.isEnabled=!0}function G(){b.hide(),b.state.isEnabled=!1}function te(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(i)}function fe(D){if(!b.state.isDestroyed){se("onBeforeUpdate",[b,D]),Zt();var Q=b.props,ee=uh(t,Object.assign({},Q,lh(D),{ignoreAttributes:!0}));b.props=ee,bt(),Q.interactiveDebounce!==ee.interactiveDebounce&&(Ze(),p=ih(S,ee.interactiveDebounce)),Q.triggerTarget&&!ee.triggerTarget?So(Q.triggerTarget).forEach(function(be){be.removeAttribute("aria-expanded")}):ee.triggerTarget&&t.removeAttribute("aria-expanded"),De(),J(),k&&k(Q,ee),b.popperInstance&&(H(),T().forEach(function(be){requestAnimationFrame(be._tippy.popperInstance.forceUpdate)})),se("onAfterUpdate",[b,D])}}function Oe(D){b.setProps({content:D})}function Se(){var D=b.state.isVisible,Q=b.state.isDestroyed,ee=!b.state.isEnabled,be=Tr.isTouch&&!b.props.touch,ve=sc(b.props.duration,0,pr.duration);if(!(D||Q||ee||be)&&!Y().hasAttribute("disabled")&&(se("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,I()&&(v.style.visibility="visible"),J(),Fe(),b.state.isMounted||(v.style.transition="none"),I()){var lt=Ce(),zt=lt.box,Jr=lt.content;lc([zt,Jr],0)}f=function(){var Nr;if(!(!b.state.isVisible||c)){if(c=!0,v.offsetHeight,v.style.transition=b.props.moveTransition,I()&&b.props.animation){var ii=Ce(),go=ii.box,Xr=ii.content;lc([go,Xr],ve),ah([go,Xr],"visible")}ze(),De(),sh(cc,b),(Nr=b.popperInstance)==null||Nr.forceUpdate(),se("onMount",[b]),b.props.animation&&I()&&tt(ve,function(){b.state.isShown=!0,se("onShown",[b])})}},C()}}function We(){var D=!b.state.isVisible,Q=b.state.isDestroyed,ee=!b.state.isEnabled,be=sc(b.props.duration,1,pr.duration);if(!(D||Q||ee)&&(se("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,c=!1,s=!1,I()&&(v.style.visibility="hidden"),Ze(),me(),J(!0),I()){var ve=Ce(),lt=ve.box,zt=ve.content;b.props.animation&&(lc([lt,zt],be),ah([lt,zt],"hidden"))}ze(),De(),b.props.animation?I()&&et(be,b.unmount):b.unmount()}}function At(D){pe().addEventListener("mousemove",p),sh(Fs,p),p(D)}function yr(){b.state.isVisible&&b.hide(),b.state.isMounted&&(L(),T().forEach(function(D){D._tippy.unmount()}),v.parentNode&&v.parentNode.removeChild(v),cc=cc.filter(function(D){return D!==b}),b.state.isMounted=!1,se("onHidden",[b]))}function mo(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),Zt(),delete t._tippy,b.state.isDestroyed=!0,se("onDestroy",[b]))}}function vs(t,e){e===void 0&&(e={});var r=pr.plugins.concat(e.plugins||[]);Ez();var n=Object.assign({},e,{plugins:r}),o=Tz(t),i=o.reduce(function(s,l){var a=l&&Lz(l,n);return a&&s.push(a),s},[]);return xa(t)?i[0]:i}vs.defaultProps=pr;vs.setDefaultProps=Nz;vs.currentInput=Tr;Object.assign({},$0,{effect:function(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});vs.setDefaultProps({render:J0});class _z{constructor({editor:e,element:r,view:n,tippyOptions:o={},updateDelay:i=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:l,state:a,from:c,to:d})=>{const{doc:u,selection:f}=a,{empty:h}=f,p=!u.textBetween(c,d).length&&ou(a.selection),m=this.element.contains(document.activeElement);return!(!(l.hasFocus()||m)||h||p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var a;if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&(!((a=this.element.parentNode)===null||a===void 0)&&a.contains(l.relatedTarget))||this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,a)=>{const c=!(a!=null&&a.selection.eq(l.state.selection)),d=!(a!=null&&a.doc.eq(l.state.doc));!c&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,c,d,a)},this.updateDelay))},this.updateHandler=(l,a,c,d)=>{var u,f,h;const{state:p,composing:m}=l,{selection:g}=p;if(m||!a&&!c)return;this.createTooltip();const{ranges:w}=g,O=Math.min(...w.map(v=>v.$from.pos)),b=Math.max(...w.map(v=>v.$to.pos));if(!((u=this.shouldShow)===null||u===void 0?void 0:u.call(this,{editor:this.editor,view:l,state:p,oldState:d,from:O,to:b}))){this.hide();return}(f=this.tippy)===null||f===void 0||f.setProps({getReferenceClientRect:((h=this.tippyOptions)===null||h===void 0?void 0:h.getReferenceClientRect)||(()=>{if(N$(p.selection)){let v=l.nodeDOM(O);const k=v.dataset.nodeViewWrapper?v:v.querySelector("[data-node-view-wrapper]");if(k&&(v=k.firstChild),v)return v.getBoundingClientRect()}return z$(l,O,b)})}),this.show()},this.editor=e,this.element=r,this.view=n,this.updateDelay=i,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,r=!!e.parentElement;this.tippy||!r||(this.tippy=vs(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,r){const{state:n}=e,o=n.selection.$from.pos!==n.selection.$to.pos;if(this.updateDelay>0&&o){this.handleDebouncedUpdate(e,r);return}const i=!(r!=null&&r.selection.eq(e.state.selection)),s=!(r!=null&&r.doc.eq(e.state.doc));this.updateHandler(e,i,s,r)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,r;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(r=this.tippy)===null||r===void 0||r.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const X0=t=>new Mt({key:typeof t.pluginKey=="string"?new Qt(t.pluginKey):t.pluginKey,view:e=>new _z({view:e,...t})});ht.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[X0({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});const Fz=mt({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const r=Ie(null);return uo(()=>{const{updateDelay:n,editor:o,pluginKey:i,shouldShow:s,tippyOptions:l}=t;o.registerPlugin(X0({updateDelay:n,editor:o,element:r.value,pluginKey:i,shouldShow:s,tippyOptions:l}))}),kn(()=>{const{pluginKey:n,editor:o}=t;o.unregisterPlugin(n)}),()=>{var n;return q("div",{ref:r},(n=e.default)===null||n===void 0?void 0:n.call(e))}}});function hh(t){return ry((e,r)=>({get(){return e(),t},set(n){t=n,requestAnimationFrame(()=>{requestAnimationFrame(()=>{r()})})}}))}class Wz extends dN{constructor(e={}){return super(e),this.vueRenderers=Hl(new Map),this.contentComponent=null,this.reactiveState=hh(this.view.state),this.reactiveExtensionStorage=hh(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),ol(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,r){super.registerPlugin(e,r),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const jz=mt({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=Ie(),r=Ul();return Vl(()=>{const n=t.editor;n&&n.options.element&&e.value&&Eo(()=>{if(!e.value||!n.options.element.firstChild)return;const o=we(e.value);e.value.append(...n.options.element.childNodes),n.contentComponent=r.ctx._,n.setOptions({element:o}),n.createNodeViews()})}),kn(()=>{const n=t.editor;if(!n||(n.isDestroyed||n.view.setProps({nodeViews:{}}),n.contentComponent=null,!n.options.element.firstChild))return;const o=document.createElement("div");o.append(...n.options.element.childNodes),n.setOptions({element:o})}),{rootEl:e}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const r=q(nv,{to:e.teleportElement,key:e.id},q(e.component,{ref:e.id,...e.props}));t.push(r)}),q("div",{ref:e=>{this.rootEl=e}},...t)}}),Vz=/^\s*>\s$/,qz=Ye.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ns({find:Vz,type:this.type})]}}),Kz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Uz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Gz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Jz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Xz=br.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Vo({find:Kz,type:this.type}),Vo({find:Gz,type:this.type})]},addPasteRules(){return[qo({find:Uz,type:this.type}),qo({find:Jz,type:this.type})]}}),Yz=Ye.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Le(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),mh=br.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const r=ga(t,this.type);return Object.entries(r).some(([,o])=>!!o)?!0:e.unsetMark(this.name)}}}}),gh=/^\s*([-+*])\s$/,Qz=Ye.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Yz.name,this.editor.getAttributes(mh.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ns({find:gh,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ns({find:gh,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(mh.name),editor:this.editor})),[t]}}),Zz=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,eB=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,tB=br.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Vo({find:Zz,type:this.type})]},addPasteRules(){return[qo({find:eB,type:this.type})]}}),rB=/^```([a-z]+)?[\s\n]$/,nB=/^~~~([a-z]+)?[\s\n]$/,oB=Ye.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(r)).map(s=>s.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Le(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:o}=r;if(!o||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,s=n.parent.textContent.endsWith(`

`);return!i||!s?!1:t.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:o,empty:i}=r;if(!i||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const l=o.after();return l===void 0||n.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[ed({find:rB,type:this.type,getAttributes:t=>({language:t[1]})}),ed({find:nB,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Mt({key:new Qt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),o=n?JSON.parse(n):void 0,i=o==null?void 0:o.mode;if(!r||!i)return!1;const{tr:s}=t.state;return t.state.selection.from===t.state.doc.nodeSize-(1+t.state.selection.$to.depth*2)?s.insert(t.state.selection.from-1,this.type.create({language:i})):s.replaceSelectionWith(this.type.create({language:i})),s.setSelection(ae.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(r.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),iB=Ye.create({name:"doc",topNode:!0,content:"block+"});function sB(t={}){return new Mt({view(e){return new lB(e,t)}})}class lB{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=s=>{this[o](s)};return e.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n;if(r){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let c=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(c){let d=c.getBoundingClientRect(),u=l?d.bottom:d.top;l&&a&&(u=(u+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:d.left,right:d.right,top:u-this.width/2,bottom:u+this.width/2}}}}if(!n){let l=this.editorView.coordsAtPos(this.cursorPos);n={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let i,s;if(!o||o==document.body&&getComputedStyle(o).position=="static")i=-pageXOffset,s=-pageYOffset;else{let l=o.getBoundingClientRect();i=l.left-o.scrollLeft,s=l.top-o.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-s+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),o=n&&n.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,r,e):o;if(r&&!i){let s=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Ab(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const aB=ht.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sB(this.options)]}});class qe extends de{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return qe.valid(n)?new qe(n):de.near(n)}content(){return j.empty}eq(e){return e instanceof qe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new qe(e.resolve(r.pos))}getBookmark(){return new mu(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!cB(e)||!dB(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let o=r.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&qe.valid(e))return e;let o=e.pos,i=null;for(let s=e.depth;;s--){let l=e.node(s);if(r>0?e.indexAfter(s)<l.childCount:e.index(s)>0){i=l.child(r>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;o+=r;let a=e.doc.resolve(o);if(qe.valid(a))return a}for(;;){let s=r>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!ie.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*r),n=!1;continue e}break}i=s,o+=r;let l=e.doc.resolve(o);if(qe.valid(l))return l}return null}}}qe.prototype.visible=!1;qe.findFrom=qe.findGapCursorFrom;de.jsonID("gapcursor",qe);class mu{constructor(e){this.pos=e}map(e){return new mu(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return qe.valid(r)?new qe(r):de.near(r)}}function cB(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let o=n.child(r-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function dB(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let o=n.child(r);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function uB(){return new Mt({props:{decorations:mB,createSelectionBetween(t,e,r){return e.pos==r.pos&&qe.valid(r)?new qe(r):null},handleClick:pB,handleKeyDown:fB,handleDOMEvents:{beforeinput:hB}}})}const fB=Zd({ArrowLeft:Ws("horiz",-1),ArrowRight:Ws("horiz",1),ArrowUp:Ws("vert",-1),ArrowDown:Ws("vert",1)});function Ws(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,o,i){let s=n.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof ae){if(!i.endOfTextblock(r)||l.depth==0)return!1;a=!1,l=n.doc.resolve(e>0?l.after():l.before())}let c=qe.findGapCursorFrom(l,e,a);return c?(o&&o(n.tr.setSelection(new qe(c))),!0):!1}}function pB(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!qe.valid(n))return!1;let o=t.posAtCoords({left:r.clientX,top:r.clientY});return o&&o.inside>-1&&ie.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new qe(n))),!0)}function hB(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof qe))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let o=z.empty;for(let s=n.length-1;s>=0;s--)o=z.from(n[s].createAndFill(null,o));let i=t.state.tr.replace(r.pos,r.pos,new j(o,0,0));return i.setSelection(ae.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function mB(t){if(!(t.selection instanceof qe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ve.create(t.doc,[_t.widget(t.selection.head,e,{key:"gapcursor"})])}const gB=ht.create({name:"gapCursor",addProseMirrorPlugins(){return[uB()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ye(Z(t,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),bB=Ye.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Le(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:i}=r;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=n.extensionManager,a=i||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&a&&s){const u=a.filter(f=>l.includes(f.type.name));c.ensureMarks(u)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),xB=Ye.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Le(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ed({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Rl=200,it=function(){};it.prototype.append=function(e){return e.length?(e=it.from(e),!this.length&&e||e.length<Rl&&this.leafAppend(e)||this.length<Rl&&e.leafPrepend(this)||this.appendInner(e)):this};it.prototype.prepend=function(e){return e.length?it.from(e).append(this):this};it.prototype.appendInner=function(e){return new yB(this,e)};it.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?it.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};it.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};it.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};it.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var o=[];return this.forEach(function(i,s){return o.push(e(i,s))},r,n),o};it.from=function(e){return e instanceof it?e:e&&e.length?new Y0(e):it.empty};var Y0=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new e(this.values.slice(o,i))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,i,s,l){for(var a=i;a<s;a++)if(o(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,s,l){for(var a=i-1;a>=s;a--)if(o(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Rl)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Rl)return new e(o.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(it);it.empty=new Y0([]);var yB=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,o,i,s){var l=this.left.length;if(o<l&&this.left.forEachInner(n,o,Math.min(i,l),s)===!1||i>l&&this.right.forEachInner(n,Math.max(o-l,0),Math.min(this.length,i)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,o,i,s){var l=this.left.length;if(o>l&&this.right.forEachInvertedInner(n,o-l,Math.max(i,l)-l,s+l)===!1||i<l&&this.left.forEachInvertedInner(n,Math.min(o,l),i,s)===!1)return!1},e.prototype.sliceInner=function(n,o){if(n==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(n,o):n>=i?this.right.slice(n-i,o-i):this.left.slice(n,i).append(this.right.slice(0,o-i))},e.prototype.leafAppend=function(n){var o=this.right.leafAppend(n);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(n){var o=this.left.leafPrepend(n);if(o)return new e(o,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(it);const vB=500;class ur{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let o,i;r&&(o=this.remapping(n,this.items.length),i=o.maps.length);let s=e.tr,l,a,c=[],d=[];return this.items.forEach((u,f)=>{if(!u.step){o||(o=this.remapping(n,f+1),i=o.maps.length),i--,d.push(u);return}if(o){d.push(new Sr(u.map));let h=u.step.map(o.slice(i)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new Sr(p,void 0,void 0,c.length+d.length))),i--,p&&o.appendMap(p,i)}else s.maybeStep(u.step);if(u.selection)return l=o?u.selection.map(o.slice(i)):u.selection,a=new ur(this.items.slice(0,n).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,r,n,o){let i=[],s=this.eventCount,l=this.items,a=!o&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let u=e.steps[d].invert(e.docs[d]),f=new Sr(e.mapping.maps[d],u,r),h;(h=a&&a.merge(f))&&(f=h,d?i.pop():l=l.slice(0,l.length-1)),i.push(f),r&&(s++,r=void 0),o||(a=f)}let c=s-n.depth;return c>SB&&(l=CB(l,c),s-=c),new ur(l.append(i),s)}remapping(e,r){let n=new Ro;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?n.maps.length-o.mirrorOffset:void 0;n.appendMap(o.map,s)},e,r),n}addMaps(e){return this.eventCount==0?this:new ur(this.items.append(e.map(r=>new Sr(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],o=Math.max(0,this.items.length-r),i=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},o);let a=r;this.items.forEach(f=>{let h=i.getMirror(--a);if(h==null)return;s=Math.min(s,h);let p=i.maps[h];if(f.step){let m=e.steps[h].invert(e.docs[h]),g=f.selection&&f.selection.map(i.slice(a+1,h));g&&l++,n.push(new Sr(p,m,g))}else n.push(new Sr(p))},o);let c=[];for(let f=r;f<s;f++)c.push(new Sr(i.maps[f]));let d=this.items.slice(0,o).append(c).append(n),u=new ur(d,l);return u.emptyItemCount()>vB&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,o=[],i=0;return this.items.forEach((s,l)=>{if(l>=e)o.push(s),s.selection&&i++;else if(s.step){let a=s.step.map(r.slice(n)),c=a&&a.getMap();if(n--,c&&r.appendMap(c,n),a){let d=s.selection&&s.selection.map(r.slice(n));d&&i++;let u=new Sr(c.invert(),a,d),f,h=o.length-1;(f=o.length&&o[h].merge(u))?o[h]=f:o.push(u)}}else s.map&&n--},this.items.length,0),new ur(it.from(o.reverse()),i)}}ur.empty=new ur(it.empty,0);function CB(t,e){let r;return t.forEach((n,o)=>{if(n.selection&&e--==0)return r=o,!1}),t.slice(r)}class Sr{constructor(e,r,n,o){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Sr(r.getMap().invert(),r,this.selection)}}}class ln{constructor(e,r,n,o,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=o,this.prevComposition=i}}const SB=20;function wB(t,e,r,n){let o=r.getMeta(ro),i;if(o)return o.historyState;r.getMeta(MB)&&(t=new ln(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(s&&s.getMeta(ro))return s.getMeta(ro).redo?new ln(t.done.addTransform(r,void 0,n,Zs(e)),t.undone,bh(r.mapping.maps[r.steps.length-1]),t.prevTime,t.prevComposition):new ln(t.done,t.undone.addTransform(r,void 0,n,Zs(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(r.time||0)-n.newGroupDelay||!TB(r,t.prevRanges)),c=s?dc(t.prevRanges,r.mapping):bh(r.mapping.maps[r.steps.length-1]);return new ln(t.done.addTransform(r,a?e.selection.getBookmark():void 0,n,Zs(e)),ur.empty,c,r.time,l??t.prevComposition)}else return(i=r.getMeta("rebased"))?new ln(t.done.rebased(r,i),t.undone.rebased(r,i),dc(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new ln(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),dc(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function TB(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,o)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&o>=e[i]&&(r=!0)}),r}function bh(t){let e=[];return t.forEach((r,n,o,i)=>e.push(o,i)),e}function dc(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let o=e.map(t[n],1),i=e.map(t[n+1],-1);o<=i&&r.push(o,i)}return r}function kB(t,e,r){let n=Zs(e),o=ro.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let s=i.selection.resolve(i.transform.doc),l=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),o,n),a=new ln(r?l:i.remaining,r?i.remaining:l,null,0,-1);return i.transform.setSelection(s).setMeta(ro,{redo:r,historyState:a})}let uc=!1,xh=null;function Zs(t){let e=t.plugins;if(xh!=e){uc=!1,xh=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){uc=!0;break}}return uc}const ro=new Qt("history"),MB=new Qt("closeHistory");function AB(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Mt({key:ro,state:{init(){return new ln(ur.empty,ur.empty,null,0,-1)},apply(e,r,n){return wB(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,o=n=="historyUndo"?Z0:n=="historyRedo"?ex:null;return o?(r.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function Q0(t,e){return(r,n)=>{let o=ro.getState(r);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(n){let i=kB(o,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const Z0=Q0(!1,!0),ex=Q0(!0,!0),OB=ht.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Z0(t,e),redo:()=>({state:t,dispatch:e})=>ex(t,e)}},addProseMirrorPlugins(){return[AB(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),EB=Ye.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Le(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:r}=e.selection,n=t();return r.parentOffset===0?n.insertContentAt(Math.max(r.pos-2,0),{type:this.name}):n.insertContent({type:this.name}),n.command(({tr:o,dispatch:i})=>{var s;if(i){const{$to:l}=o.selection,a=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?o.setSelection(ae.create(o.doc,l.pos+1)):l.nodeAfter.isBlock?o.setSelection(ie.create(o.doc,l.pos)):o.setSelection(ae.create(o.doc,l.pos));else{const c=(s=l.parent.type.contentMatch.defaultType)===null||s===void 0?void 0:s.create();c&&(o.insert(a,c),o.setSelection(ae.create(o.doc,a+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[D0({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),PB=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,DB=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,RB=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,IB=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,$B=br.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Vo({find:PB,type:this.type}),Vo({find:RB,type:this.type})]},addPasteRules(){return[qo({find:DB,type:this.type}),qo({find:IB,type:this.type})]}}),NB=Ye.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Le(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),zB=Ye.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Le(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yh=br.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const r=ga(t,this.type);return Object.entries(r).some(([,o])=>!!o)?!0:e.unsetMark(this.name)}}}}),vh=/^(\d+)\.\s$/,BB=Ye.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Le(this.options.HTMLAttributes,r),0]:["ol",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(zB.name,this.editor.getAttributes(yh.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ns({find:vh,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ns({find:vh,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(yh.name)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),HB=Ye.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),LB=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,_B=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,FB=br.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Vo({find:LB,type:this.type})]},addPasteRules(){return[qo({find:_B,type:this.type})]}}),WB=Ye.create({name:"text",group:"inline"}),jB=ht.create({name:"starterKit",addExtensions(){var t,e,r,n,o,i,s,l,a,c,d,u,f,h,p,m,g,x;const w=[];return this.options.blockquote!==!1&&w.push(qz.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&w.push(Xz.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&w.push(Qz.configure((r=this.options)===null||r===void 0?void 0:r.bulletList)),this.options.code!==!1&&w.push(tB.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&w.push(oB.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&w.push(iB.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&w.push(aB.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&w.push(gB.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&w.push(bB.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&w.push(xB.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&w.push(OB.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&w.push(EB.configure((u=this.options)===null||u===void 0?void 0:u.horizontalRule)),this.options.italic!==!1&&w.push($B.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&w.push(NB.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&w.push(BB.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&w.push(HB.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&w.push(FB.configure((g=this.options)===null||g===void 0?void 0:g.strike)),this.options.text!==!1&&w.push(WB.configure((x=this.options)===null||x===void 0?void 0:x.text)),w}}),VB=ht.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize"}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return((t==null?void 0:t.mode)||this.options.mode)==="textSize"?e.textBetween(0,e.content.size,void 0," ").length:e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return e.textBetween(0,e.content.size," "," ").split(" ").filter(o=>o!=="").length}},addProseMirrorPlugins(){return[new Mt({key:new Qt("characterCount"),filterTransaction:(t,e)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const n=this.storage.characters({node:e.doc}),o=this.storage.characters({node:t.doc});if(o<=r||n>r&&o>r&&o<=n)return!0;if(n>r&&o>r&&o>n||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,l=o-r,a=s-l,c=s;return t.deleteRange(a,c),!(this.storage.characters({node:t.doc})>r)}})]}}),qB=t=>Ue({find:/--$/,replace:t??""}),KB=t=>Ue({find:/\.\.\.$/,replace:t??""}),UB=t=>Ue({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:t??""}),GB=t=>Ue({find:/"$/,replace:t??""}),JB=t=>Ue({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:t??""}),XB=t=>Ue({find:/'$/,replace:t??""}),YB=t=>Ue({find:/<-$/,replace:t??""}),QB=t=>Ue({find:/->$/,replace:t??""}),ZB=t=>Ue({find:/\(c\)$/,replace:t??""}),eH=t=>Ue({find:/\(tm\)$/,replace:t??""}),tH=t=>Ue({find:/\(sm\)$/,replace:t??""}),rH=t=>Ue({find:/\(r\)$/,replace:t??""}),nH=t=>Ue({find:/(?:^|\s)(1\/2)\s$/,replace:t??""}),oH=t=>Ue({find:/\+\/-$/,replace:t??""}),iH=t=>Ue({find:/!=$/,replace:t??""}),sH=t=>Ue({find:/<<$/,replace:t??""}),lH=t=>Ue({find:/>>$/,replace:t??""}),aH=t=>Ue({find:/\d+\s?([*x])\s?\d+$/,replace:t??""}),cH=t=>Ue({find:/\^2$/,replace:t??""}),dH=t=>Ue({find:/\^3$/,replace:t??""}),uH=t=>Ue({find:/(?:^|\s)(1\/4)\s$/,replace:t??""}),fH=t=>Ue({find:/(?:^|\s)(3\/4)\s$/,replace:t??""}),pH=ht.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const t=[];return this.options.emDash!==!1&&t.push(qB(this.options.emDash)),this.options.ellipsis!==!1&&t.push(KB(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&t.push(UB(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&t.push(GB(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&t.push(JB(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&t.push(XB(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&t.push(YB(this.options.leftArrow)),this.options.rightArrow!==!1&&t.push(QB(this.options.rightArrow)),this.options.copyright!==!1&&t.push(ZB(this.options.copyright)),this.options.trademark!==!1&&t.push(eH(this.options.trademark)),this.options.servicemark!==!1&&t.push(tH(this.options.servicemark)),this.options.registeredTrademark!==!1&&t.push(rH(this.options.registeredTrademark)),this.options.oneHalf!==!1&&t.push(nH(this.options.oneHalf)),this.options.plusMinus!==!1&&t.push(oH(this.options.plusMinus)),this.options.notEqual!==!1&&t.push(iH(this.options.notEqual)),this.options.laquo!==!1&&t.push(sH(this.options.laquo)),this.options.raquo!==!1&&t.push(lH(this.options.raquo)),this.options.multiplication!==!1&&t.push(aH(this.options.multiplication)),this.options.superscriptTwo!==!1&&t.push(cH(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&t.push(dH(this.options.superscriptThree)),this.options.oneQuarter!==!1&&t.push(uH(this.options.oneQuarter)),this.options.threeQuarters!==!1&&t.push(fH(this.options.threeQuarters)),t}}),hH=ht.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>t.style.textAlign||this.options.defaultAlignment,renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),mH=br.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),gH="doc",bH=[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"The "},{type:"text",marks:[{type:"bold"}],text:"Document "},{type:"text",marks:[{type:"underline"}],text:"object "},{type:"text",text:"is the starting point of your .docx journey, this is the literal Word Docu"},{type:"text",marks:[{type:"strike"}],text:"me"},{type:"text",marks:[{type:"underline"},{type:"strike"}],text:"nt. Y"},{type:"text",marks:[{type:"underline"},{type:"bold"},{type:"strike"}],text:"o"},{type:"text",marks:[{type:"bold"},{type:"strike"}],text:"u a"},{type:"text",marks:[{type:"bold"}],text:"dd all y"},{type:"text",text:"our content such as Paragraphs to t"},{type:"text",marks:[{type:"bold"}],text:"his Doc"},{type:"text",marks:[{type:"bold"},{type:"italic"}],text:"um"},{type:"text",marks:[{type:"italic"}],text:"ent, and"},{type:"text",text:" at the end export it however you like."}]},{type:"bulletList",content:[{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"b1"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"b2"}]},{type:"bulletList",content:[{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"b2 a"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"}}]}]}]}]},{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Here's a paragraph."}]},{type:"orderedList",attrs:{start:1},content:[{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"ordered list start"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"second"}]},{type:"orderedList",attrs:{start:1},content:[{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"2a"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"2b"}]},{type:"orderedList",attrs:{start:1},content:[{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"3a"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"3b"}]}]}]}]}]}]}]},{type:"paragraph",attrs:{textAlign:"center"},content:[{type:"text",text:"Centered. Compatibility Settings are optional settings used to preserve visual fidelity of documents created in earlier word processing applications. "}]},{type:"paragraph",attrs:{textAlign:"right"}},{type:"paragraph",attrs:{textAlign:"right"},content:[{type:"text",text:"Right. Some of these settings provide ability for specific behaviors, described in detail below; and others simply instruct applications to mimic the behavior of an existing word processing application."}]},{type:"paragraph",attrs:{textAlign:"justify"}},{type:"paragraph",attrs:{textAlign:"justify"},content:[{type:"text",text:"Justified. A section is a grouping of paragraphs that have a specific set of properties used to define the pages on which the text will appear. Properties include page size, page numbers, page orientation, headers, borders and margins."}]},{type:"orderedList",attrs:{start:1},content:[{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"justify"},content:[{type:"text",text:"first"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"justify"},content:[{type:"text",text:"second"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"justify"},content:[{type:"text",text:"third"}]}]}]}],xH={type:gH,content:bH};var id,sd;if(typeof WeakMap<"u"){let t=new WeakMap;id=e=>t.get(e),sd=(e,r)=>(t.set(e,r),r)}else{const t=[];let r=0;id=n=>{for(let o=0;o<t.length;o+=2)if(t[o]==n)return t[o+1]},sd=(n,o)=>(r==10&&(r=0),t[r++]=n,t[r++]=o)}var Ke=class{constructor(t,e,r,n){this.width=t,this.height=e,this.map=r,this.problems=n}findCell(t){for(let e=0;e<this.map.length;e++){const r=this.map[e];if(r!=t)continue;const n=e%this.width,o=e/this.width|0;let i=n+1,s=o+1;for(let l=1;i<this.width&&this.map[e+l]==r;l++)i++;for(let l=1;s<this.height&&this.map[e+this.width*l]==r;l++)s++;return{left:n,top:o,right:i,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,r){const{left:n,right:o,top:i,bottom:s}=this.findCell(t);return e=="horiz"?(r<0?n==0:o==this.width)?null:this.map[i*this.width+(r<0?n-1:o)]:(r<0?i==0:s==this.height)?null:this.map[n+this.width*(r<0?i-1:s)]}rectBetween(t,e){const{left:r,right:n,top:o,bottom:i}=this.findCell(t),{left:s,right:l,top:a,bottom:c}=this.findCell(e);return{left:Math.min(r,s),top:Math.min(o,a),right:Math.max(n,l),bottom:Math.max(i,c)}}cellsInRect(t){const e=[],r={};for(let n=t.top;n<t.bottom;n++)for(let o=t.left;o<t.right;o++){const i=n*this.width+o,s=this.map[i];r[s]||(r[s]=!0,!(o==t.left&&o&&this.map[i-1]==s||n==t.top&&n&&this.map[i-this.width]==s)&&e.push(s))}return e}positionAt(t,e,r){for(let n=0,o=0;;n++){const i=o+r.child(n).nodeSize;if(n==t){let s=e+t*this.width;const l=(t+1)*this.width;for(;s<l&&this.map[s]<o;)s++;return s==l?i-1:this.map[s]}o=i}}static get(t){return id(t)||sd(t,yH(t))}};function yH(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=vH(t),r=t.childCount,n=[];let o=0,i=null;const s=[];for(let c=0,d=e*r;c<d;c++)n[c]=0;for(let c=0,d=0;c<r;c++){const u=t.child(c);d++;for(let p=0;;p++){for(;o<n.length&&n[o]!=0;)o++;if(p==u.childCount)break;const m=u.child(p),{colspan:g,rowspan:x,colwidth:w}=m.attrs;for(let O=0;O<x;O++){if(O+c>=r){(i||(i=[])).push({type:"overlong_rowspan",pos:d,n:x-O});break}const b=o+O*e;for(let A=0;A<g;A++){n[b+A]==0?n[b+A]=d:(i||(i=[])).push({type:"collision",row:c,pos:d,n:g-A});const v=w&&w[A];if(v){const k=(b+A)%e*2,B=s[k];B==null||B!=v&&s[k+1]==1?(s[k]=v,s[k+1]=1):B==v&&s[k+1]++}}}o+=g,d+=m.nodeSize}const f=(c+1)*e;let h=0;for(;o<f;)n[o++]==0&&h++;h&&(i||(i=[])).push({type:"missing",row:c,n:h}),d++}const l=new Ke(e,r,n,i);let a=!1;for(let c=0;!a&&c<s.length;c+=2)s[c]!=null&&s[c+1]<r&&(a=!0);return a&&CH(l,s,t),l}function vH(t){let e=-1,r=!1;for(let n=0;n<t.childCount;n++){const o=t.child(n);let i=0;if(r)for(let s=0;s<n;s++){const l=t.child(s);for(let a=0;a<l.childCount;a++){const c=l.child(a);s+c.attrs.rowspan>n&&(i+=c.attrs.colspan)}}for(let s=0;s<o.childCount;s++){const l=o.child(s);i+=l.attrs.colspan,l.attrs.rowspan>1&&(r=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function CH(t,e,r){t.problems||(t.problems=[]);const n={};for(let o=0;o<t.map.length;o++){const i=t.map[o];if(n[i])continue;n[i]=!0;const s=r.nodeAt(i);if(!s)throw new RangeError(`No cell with offset ${i} found`);let l=null;const a=s.attrs;for(let c=0;c<a.colspan;c++){const d=(o+c)%t.width,u=e[d*2];u!=null&&(!a.colwidth||a.colwidth[c]!=u)&&((l||(l=SH(a)))[c]=u)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function SH(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let r=0;r<t.colspan;r++)e.push(0);return e}function Tt(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const r in t.nodes){const n=t.nodes[r],o=n.spec.tableRole;o&&(e[o]=n)}}return e}var dn=new Qt("selectingCells");function oi(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function wH(t){for(let e=t.depth;e>0;e--){const r=t.node(e).type.spec.tableRole;if(r==="cell"||r==="header_cell")return t.node(e)}return null}function xr(t){const e=t.selection.$head;for(let r=e.depth;r>0;r--)if(e.node(r).type.spec.tableRole=="row")return!0;return!1}function ya(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const r=oi(e.$head)||TH(e.$head);if(r)return r;throw new RangeError(`No cell found around position ${e.head}`)}function TH(t){for(let e=t.nodeAfter,r=t.pos;e;e=e.firstChild,r++){const n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return t.doc.resolve(r)}for(let e=t.nodeBefore,r=t.pos;e;e=e.lastChild,r--){const n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return t.doc.resolve(r-e.nodeSize)}}function ld(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function kH(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function gu(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function tx(t,e,r){const n=t.node(-1),o=Ke.get(n),i=t.start(-1),s=o.nextCell(t.pos-i,e,r);return s==null?null:t.node(0).resolve(i+s)}function co(t,e,r=1){const n={...t,colspan:t.colspan-r};return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(e,r),n.colwidth.some(o=>o>0)||(n.colwidth=null)),n}function rx(t,e,r=1){const n={...t,colspan:t.colspan+r};if(n.colwidth){n.colwidth=n.colwidth.slice();for(let o=0;o<r;o++)n.colwidth.splice(e,0,0)}return n}function MH(t,e,r){const n=Tt(e.type.schema).header_cell;for(let o=0;o<t.height;o++)if(e.nodeAt(t.map[r+o*t.width]).type!=n)return!1;return!0}var $e=class Hr extends de{constructor(e,r=e){const n=e.node(-1),o=Ke.get(n),i=e.start(-1),s=o.rectBetween(e.pos-i,r.pos-i),l=e.node(0),a=o.cellsInRect(s).filter(d=>d!=r.pos-i);a.unshift(r.pos-i);const c=a.map(d=>{const u=n.nodeAt(d);if(!u)throw RangeError(`No cell with offset ${d} found`);const f=i+d+1;return new Ib(l.resolve(f),l.resolve(f+u.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=r}map(e,r){const n=e.resolve(r.map(this.$anchorCell.pos)),o=e.resolve(r.map(this.$headCell.pos));if(ld(n)&&ld(o)&&gu(n,o)){const i=this.$anchorCell.node(-1)!=n.node(-1);return i&&this.isRowSelection()?Hr.rowSelection(n,o):i&&this.isColSelection()?Hr.colSelection(n,o):new Hr(n,o)}return ae.between(n,o)}content(){const e=this.$anchorCell.node(-1),r=Ke.get(e),n=this.$anchorCell.start(-1),o=r.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},s=[];for(let a=o.top;a<o.bottom;a++){const c=[];for(let d=a*r.width+o.left,u=o.left;u<o.right;u++,d++){const f=r.map[d];if(i[f])continue;i[f]=!0;const h=r.findCell(f);let p=e.nodeAt(f);if(!p)throw RangeError(`No cell with offset ${f} found`);const m=o.left-h.left,g=h.right-o.right;if(m>0||g>0){let x=p.attrs;if(m>0&&(x=co(x,0,m)),g>0&&(x=co(x,x.colspan-g,g)),h.left<o.left){if(p=p.type.createAndFill(x),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(x)}`)}else p=p.type.create(x,p.content)}if(h.top<o.top||h.bottom>o.bottom){const x={...p.attrs,rowspan:Math.min(h.bottom,o.bottom)-Math.max(h.top,o.top)};h.top<o.top?p=p.type.createAndFill(x):p=p.type.create(x,p.content)}c.push(p)}s.push(e.child(a).copy(z.from(c)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new j(z.from(l),1,1)}replace(e,r=j.empty){const n=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){const{$from:l,$to:a}=o[s],c=e.mapping.slice(n);e.replace(c.map(l.pos),c.map(a.pos),s?j.empty:r)}const i=de.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,r){this.replace(e,new j(z.from(r),0,0))}forEachCell(e){const r=this.$anchorCell.node(-1),n=Ke.get(r),o=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let s=0;s<i.length;s++)e(r.nodeAt(i[s]),o+i[s])}isColSelection(){const e=this.$anchorCell.index(-1),r=this.$headCell.index(-1);if(Math.min(e,r)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=r+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,o)==this.$headCell.node(-1).childCount}static colSelection(e,r=e){const n=e.node(-1),o=Ke.get(n),i=e.start(-1),s=o.findCell(e.pos-i),l=o.findCell(r.pos-i),a=e.node(0);return s.top<=l.top?(s.top>0&&(e=a.resolve(i+o.map[s.left])),l.bottom<o.height&&(r=a.resolve(i+o.map[o.width*(o.height-1)+l.right-1]))):(l.top>0&&(r=a.resolve(i+o.map[l.left])),s.bottom<o.height&&(e=a.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))),new Hr(e,r)}isRowSelection(){const e=this.$anchorCell.node(-1),r=Ke.get(e),n=this.$anchorCell.start(-1),o=r.colCount(this.$anchorCell.pos-n),i=r.colCount(this.$headCell.pos-n);if(Math.min(o,i)>0)return!1;const s=o+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==r.width}eq(e){return e instanceof Hr&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,r=e){const n=e.node(-1),o=Ke.get(n),i=e.start(-1),s=o.findCell(e.pos-i),l=o.findCell(r.pos-i),a=e.node(0);return s.left<=l.left?(s.left>0&&(e=a.resolve(i+o.map[s.top*o.width])),l.right<o.width&&(r=a.resolve(i+o.map[o.width*(l.top+1)-1]))):(l.left>0&&(r=a.resolve(i+o.map[l.top*o.width])),s.right<o.width&&(e=a.resolve(i+o.map[o.width*(s.top+1)-1]))),new Hr(e,r)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,r){return new Hr(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){return new Hr(e.resolve(r),e.resolve(n))}getBookmark(){return new AH(this.$anchorCell.pos,this.$headCell.pos)}};$e.prototype.visible=!1;de.jsonID("cell",$e);var AH=class nx{constructor(e,r){this.anchor=e,this.head=r}map(e){return new nx(e.map(this.anchor),e.map(this.head))}resolve(e){const r=e.resolve(this.anchor),n=e.resolve(this.head);return r.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&r.index()<r.parent.childCount&&n.index()<n.parent.childCount&&gu(r,n)?new $e(r,n):de.near(n,1)}};function OH(t){if(!(t.selection instanceof $e))return null;const e=[];return t.selection.forEachCell((r,n)=>{e.push(_t.node(n,n+r.nodeSize,{class:"selectedCell"}))}),Ve.create(t.doc,e)}function EH({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let r=t.pos,n=e.pos,o=t.depth;for(;o>=0&&!(t.after(o+1)<t.end(o));o--,r++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,n--);return r==n&&/row|table/.test(t.node(o).type.spec.tableRole)}function PH({$from:t,$to:e}){let r,n;for(let o=t.depth;o>0;o--){const i=t.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}for(let o=e.depth;o>0;o--){const i=e.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}return r!==n&&e.parentOffset===0}function DH(t,e,r){const n=(e||t).selection,o=(e||t).doc;let i,s;if(n instanceof ie&&(s=n.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")i=$e.create(o,n.from);else if(s=="row"){const l=o.resolve(n.from+1);i=$e.rowSelection(l,l)}else if(!r){const l=Ke.get(n.node),a=n.from+1,c=a+l.map[l.width*l.height-1];i=$e.create(o,a+1,c)}}else n instanceof ae&&EH(n)?i=ae.create(o,n.from):n instanceof ae&&PH(n)&&(i=ae.create(o,n.$from.start(),n.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}var RH=new Qt("fix-tables");function ox(t,e,r,n){const o=t.childCount,i=e.childCount;e:for(let s=0,l=0;s<i;s++){const a=e.child(s);for(let c=l,d=Math.min(o,s+3);c<d;c++)if(t.child(c)==a){l=c+1,r+=a.nodeSize;continue e}n(a,r),l<o&&t.child(l).sameMarkup(a)?ox(t.child(l),a,r+1,n):a.nodesBetween(0,a.content.size,n,r+1),r+=a.nodeSize}}function ix(t,e){let r;const n=(o,i)=>{o.type.spec.tableRole=="table"&&(r=IH(t,o,i,r))};return e?e.doc!=t.doc&&ox(e.doc,t.doc,0,n):t.doc.descendants(n),r}function IH(t,e,r,n){const o=Ke.get(e);if(!o.problems)return n;n||(n=t.tr);const i=[];for(let a=0;a<o.height;a++)i.push(0);for(let a=0;a<o.problems.length;a++){const c=o.problems[a];if(c.type=="collision"){const d=e.nodeAt(c.pos);if(!d)continue;const u=d.attrs;for(let f=0;f<u.rowspan;f++)i[c.row+f]+=c.n;n.setNodeMarkup(n.mapping.map(r+1+c.pos),null,co(u,u.colspan-c.n,c.n))}else if(c.type=="missing")i[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const d=e.nodeAt(c.pos);if(!d)continue;n.setNodeMarkup(n.mapping.map(r+1+c.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const d=e.nodeAt(c.pos);if(!d)continue;n.setNodeMarkup(n.mapping.map(r+1+c.pos),null,{...d.attrs,colwidth:c.colwidth})}}let s,l;for(let a=0;a<i.length;a++)i[a]&&(s==null&&(s=a),l=a);for(let a=0,c=r+1;a<o.height;a++){const d=e.child(a),u=c+d.nodeSize,f=i[a];if(f>0){let h="cell";d.firstChild&&(h=d.firstChild.type.spec.tableRole);const p=[];for(let g=0;g<f;g++){const x=Tt(t.schema)[h].createAndFill();x&&p.push(x)}const m=(a==0||s==a-1)&&l==a?c+1:u-1;n.insert(n.mapping.map(m),p)}c=u}return n.setMeta(RH,{fixTables:!0})}function $H(t){if(!t.size)return null;let{content:e,openStart:r,openEnd:n}=t;for(;e.childCount==1&&(r>0&&n>0||e.child(0).type.spec.tableRole=="table");)r--,n--,e=e.child(0).content;const o=e.child(0),i=o.type.spec.tableRole,s=o.type.schema,l=[];if(i=="row")for(let a=0;a<e.childCount;a++){let c=e.child(a).content;const d=a?0:Math.max(0,r-1),u=a<e.childCount-1?0:Math.max(0,n-1);(d||u)&&(c=ad(Tt(s).row,new j(c,d,u)).content),l.push(c)}else if(i=="cell"||i=="header_cell")l.push(r||n?ad(Tt(s).row,new j(e,r,n)).content:e);else return null;return NH(s,l)}function NH(t,e){const r=[];for(let o=0;o<e.length;o++){const i=e[o];for(let s=i.childCount-1;s>=0;s--){const{rowspan:l,colspan:a}=i.child(s).attrs;for(let c=o;c<o+l;c++)r[c]=(r[c]||0)+a}}let n=0;for(let o=0;o<r.length;o++)n=Math.max(n,r[o]);for(let o=0;o<r.length;o++)if(o>=e.length&&e.push(z.empty),r[o]<n){const i=Tt(t).cell.createAndFill(),s=[];for(let l=r[o];l<n;l++)s.push(i);e[o]=e[o].append(z.from(s))}return{height:e.length,width:n,rows:e}}function ad(t,e){const r=t.createAndFill();return new Rb(r).replace(0,r.content.size,e).doc}function zH({width:t,height:e,rows:r},n,o){if(t!=n){const i=[],s=[];for(let l=0;l<r.length;l++){const a=r[l],c=[];for(let d=i[l]||0,u=0;d<n;u++){let f=a.child(u%a.childCount);d+f.attrs.colspan>n&&(f=f.type.createChecked(co(f.attrs,f.attrs.colspan,d+f.attrs.colspan-n),f.content)),c.push(f),d+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)i[l+h]=(i[l+h]||0)+f.attrs.colspan}s.push(z.from(c))}r=s,t=n}if(e!=o){const i=[];for(let s=0,l=0;s<o;s++,l++){const a=[],c=r[l%e];for(let d=0;d<c.childCount;d++){let u=c.child(d);s+u.attrs.rowspan>o&&(u=u.type.create({...u.attrs,rowspan:Math.max(1,o-u.attrs.rowspan)},u.content)),a.push(u)}i.push(z.from(a))}r=i,e=o}return{width:t,height:e,rows:r}}function BH(t,e,r,n,o,i,s){const l=t.doc.type.schema,a=Tt(l);let c,d;if(o>e.width)for(let u=0,f=0;u<e.height;u++){const h=r.child(u);f+=h.nodeSize;const p=[];let m;h.lastChild==null||h.lastChild.type==a.cell?m=c||(c=a.cell.createAndFill()):m=d||(d=a.header_cell.createAndFill());for(let g=e.width;g<o;g++)p.push(m);t.insert(t.mapping.slice(s).map(f-1+n),p)}if(i>e.height){const u=[];for(let p=0,m=(e.height-1)*e.width;p<Math.max(e.width,o);p++){const g=p>=e.width?!1:r.nodeAt(e.map[m+p]).type==a.header_cell;u.push(g?d||(d=a.header_cell.createAndFill()):c||(c=a.cell.createAndFill()))}const f=a.row.create(null,z.from(u)),h=[];for(let p=e.height;p<i;p++)h.push(f);t.insert(t.mapping.slice(s).map(n+r.nodeSize-2),h)}return!!(c||d)}function Ch(t,e,r,n,o,i,s,l){if(s==0||s==e.height)return!1;let a=!1;for(let c=o;c<i;c++){const d=s*e.width+c,u=e.map[d];if(e.map[d-e.width]==u){a=!0;const f=r.nodeAt(u),{top:h,left:p}=e.findCell(u);t.setNodeMarkup(t.mapping.slice(l).map(u+n),null,{...f.attrs,rowspan:s-h}),t.insert(t.mapping.slice(l).map(e.positionAt(s,p,r)),f.type.createAndFill({...f.attrs,rowspan:h+f.attrs.rowspan-s})),c+=f.attrs.colspan-1}}return a}function Sh(t,e,r,n,o,i,s,l){if(s==0||s==e.width)return!1;let a=!1;for(let c=o;c<i;c++){const d=c*e.width+s,u=e.map[d];if(e.map[d-1]==u){a=!0;const f=r.nodeAt(u),h=e.colCount(u),p=t.mapping.slice(l).map(u+n);t.setNodeMarkup(p,null,co(f.attrs,s-h,f.attrs.colspan-(s-h))),t.insert(p+f.nodeSize,f.type.createAndFill(co(f.attrs,0,s-h))),c+=f.attrs.rowspan-1}}return a}function wh(t,e,r,n,o){let i=r?t.doc.nodeAt(r-1):t.doc;if(!i)throw new Error("No table found");let s=Ke.get(i);const{top:l,left:a}=n,c=a+o.width,d=l+o.height,u=t.tr;let f=0;function h(){if(i=r?u.doc.nodeAt(r-1):u.doc,!i)throw new Error("No table found");s=Ke.get(i),f=u.mapping.maps.length}BH(u,s,i,r,c,d,f)&&h(),Ch(u,s,i,r,a,c,l,f)&&h(),Ch(u,s,i,r,a,c,d,f)&&h(),Sh(u,s,i,r,l,d,a,f)&&h(),Sh(u,s,i,r,l,d,c,f)&&h();for(let p=l;p<d;p++){const m=s.positionAt(p,a,i),g=s.positionAt(p,c,i);u.replace(u.mapping.slice(f).map(m+r),u.mapping.slice(f).map(g+r),new j(o.rows[p-l],0,0))}h(),u.setSelection(new $e(u.doc.resolve(r+s.positionAt(l,a,i)),u.doc.resolve(r+s.positionAt(d-1,c-1,i)))),e(u)}var HH=Zd({ArrowLeft:js("horiz",-1),ArrowRight:js("horiz",1),ArrowUp:js("vert",-1),ArrowDown:js("vert",1),"Shift-ArrowLeft":Vs("horiz",-1),"Shift-ArrowRight":Vs("horiz",1),"Shift-ArrowUp":Vs("vert",-1),"Shift-ArrowDown":Vs("vert",1),Backspace:qs,"Mod-Backspace":qs,Delete:qs,"Mod-Delete":qs});function el(t,e,r){return r.eq(t.selection)?!1:(e&&e(t.tr.setSelection(r).scrollIntoView()),!0)}function js(t,e){return(r,n,o)=>{if(!o)return!1;const i=r.selection;if(i instanceof $e)return el(r,n,de.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const s=sx(o,t,e);if(s==null)return!1;if(t=="horiz")return el(r,n,de.near(r.doc.resolve(i.head+e),e));{const l=r.doc.resolve(s),a=tx(l,t,e);let c;return a?c=de.near(a,1):e<0?c=de.near(r.doc.resolve(l.before(-1)),-1):c=de.near(r.doc.resolve(l.after(-1)),1),el(r,n,c)}}}function Vs(t,e){return(r,n,o)=>{if(!o)return!1;const i=r.selection;let s;if(i instanceof $e)s=i;else{const a=sx(o,t,e);if(a==null)return!1;s=new $e(r.doc.resolve(a))}const l=tx(s.$headCell,t,e);return l?el(r,n,new $e(s.$anchorCell,l)):!1}}function qs(t,e){const r=t.selection;if(!(r instanceof $e))return!1;if(e){const n=t.tr,o=Tt(t.schema).cell.createAndFill().content;r.forEachCell((i,s)=>{i.content.eq(o)||n.replace(n.mapping.map(s+1),n.mapping.map(s+i.nodeSize-1),new j(o,0,0))}),n.docChanged&&e(n)}return!0}function LH(t,e){const r=t.state.doc,n=oi(r.resolve(e));return n?(t.dispatch(t.state.tr.setSelection(new $e(n))),!0):!1}function _H(t,e,r){if(!xr(t.state))return!1;let n=$H(r);const o=t.state.selection;if(o instanceof $e){n||(n={width:1,height:1,rows:[z.from(ad(Tt(t.state.schema).cell,r))]});const i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),l=Ke.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return n=zH(n,l.right-l.left,l.bottom-l.top),wh(t.state,t.dispatch,s,l,n),!0}else if(n){const i=ya(t.state),s=i.start(-1);return wh(t.state,t.dispatch,s,Ke.get(i.node(-1)).findCell(i.pos-s),n),!0}else return!1}function FH(t,e){var r;if(e.ctrlKey||e.metaKey)return;const n=Th(t,e.target);let o;if(e.shiftKey&&t.state.selection instanceof $e)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&n&&(o=oi(t.state.selection.$anchor))!=null&&((r=fc(t,e))==null?void 0:r.pos)!=o.pos)i(o,e),e.preventDefault();else if(!n)return;function i(a,c){let d=fc(t,c);const u=dn.getState(t.state)==null;if(!d||!gu(a,d))if(u)d=a;else return;const f=new $e(a,d);if(u||!t.state.selection.eq(f)){const h=t.state.tr.setSelection(f);u&&h.setMeta(dn,a.pos),t.dispatch(h)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",l),dn.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(dn,-1))}function l(a){const c=a,d=dn.getState(t.state);let u;if(d!=null)u=t.state.doc.resolve(d);else if(Th(t,c.target)!=n&&(u=fc(t,e),!u))return s();u&&i(u,c)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",l)}function sx(t,e,r){if(!(t.state.selection instanceof ae))return null;const{$head:n}=t.state.selection;for(let o=n.depth-1;o>=0;o--){const i=n.node(o);if((r<0?n.index(o):n.indexAfter(o))!=(r<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const l=n.before(o),a=e=="vert"?r>0?"down":"up":r>0?"right":"left";return t.endOfTextblock(a)?l:null}}return null}function Th(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function fc(t,e){const r=t.posAtCoords({left:e.clientX,top:e.clientY});return r&&r?oi(t.state.doc.resolve(r.pos)):null}var WH=class{constructor(e,r){this.node=e,this.cellMinWidth=r,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),cd(e,this.colgroup,this.table,r),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,cd(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function cd(t,e,r,n,o,i){var s;let l=0,a=!0,c=e.firstChild;const d=t.firstChild;if(d){for(let u=0,f=0;u<d.childCount;u++){const{colspan:h,colwidth:p}=d.child(u).attrs;for(let m=0;m<h;m++,f++){const g=o==f?i:p&&p[m],x=g?g+"px":"";l+=g||n,g||(a=!1),c?(c.style.width!=x&&(c.style.width=x),c=c.nextSibling):e.appendChild(document.createElement("col")).style.width=x}}for(;c;){const u=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=u}a?(r.style.width=l+"px",r.style.minWidth=""):(r.style.width="",r.style.minWidth=l+"px")}}var rr=new Qt("tableColumnResizing");function jH({handleWidth:t=5,cellMinWidth:e=25,View:r=WH,lastColumnResizable:n=!0}={}){const o=new Mt({key:rr,state:{init(i,s){return o.spec.props.nodeViews[Tt(s.schema).table.name]=(l,a)=>new r(l,e,a),new VH(-1,!1)},apply(i,s){return s.apply(i)}},props:{attributes:i=>{const s=rr.getState(i);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(i,s)=>{qH(i,s,t,e,n)},mouseleave:i=>{KH(i)},mousedown:(i,s)=>{UH(i,s,e)}},decorations:i=>{const s=rr.getState(i);if(s&&s.activeHandle>-1)return ZH(i,s.activeHandle)},nodeViews:{}}});return o}var VH=class tl{constructor(e,r){this.activeHandle=e,this.dragging=r}apply(e){const r=this,n=e.getMeta(rr);if(n&&n.setHandle!=null)return new tl(n.setHandle,!1);if(n&&n.setDragging!==void 0)return new tl(r.activeHandle,n.setDragging);if(r.activeHandle>-1&&e.docChanged){let o=e.mapping.map(r.activeHandle,-1);return ld(e.doc.resolve(o))||(o=-1),new tl(o,r.dragging)}return r}};function qH(t,e,r,n,o){const i=rr.getState(t.state);if(i&&!i.dragging){const s=JH(e.target);let l=-1;if(s){const{left:a,right:c}=s.getBoundingClientRect();e.clientX-a<=r?l=kh(t,e,"left",r):c-e.clientX<=r&&(l=kh(t,e,"right",r))}if(l!=i.activeHandle){if(!o&&l!==-1){const a=t.state.doc.resolve(l),c=a.node(-1),d=Ke.get(c),u=a.start(-1);if(d.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==d.width-1)return}lx(t,l)}}}function KH(t){const e=rr.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&lx(t,-1)}function UH(t,e,r){var n;const o=(n=t.dom.ownerDocument.defaultView)!=null?n:window,i=rr.getState(t.state);if(!i||i.activeHandle==-1||i.dragging)return!1;const s=t.state.doc.nodeAt(i.activeHandle),l=GH(t,i.activeHandle,s.attrs);t.dispatch(t.state.tr.setMeta(rr,{setDragging:{startX:e.clientX,startWidth:l}}));function a(d){o.removeEventListener("mouseup",a),o.removeEventListener("mousemove",c);const u=rr.getState(t.state);u!=null&&u.dragging&&(XH(t,u.activeHandle,Mh(u.dragging,d,r)),t.dispatch(t.state.tr.setMeta(rr,{setDragging:null})))}function c(d){if(!d.which)return a(d);const u=rr.getState(t.state);if(u&&u.dragging){const f=Mh(u.dragging,d,r);YH(t,u.activeHandle,f,r)}}return o.addEventListener("mouseup",a),o.addEventListener("mousemove",c),e.preventDefault(),!0}function GH(t,e,{colspan:r,colwidth:n}){const o=n&&n[n.length-1];if(o)return o;const i=t.domAtPos(e);let l=i.node.childNodes[i.offset].offsetWidth,a=r;if(n)for(let c=0;c<r;c++)n[c]&&(l-=n[c],a--);return l/a}function JH(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function kh(t,e,r,n){const o=r=="right"?-n:n,i=t.posAtCoords({left:e.clientX+o,top:e.clientY});if(!i)return-1;const{pos:s}=i,l=oi(t.state.doc.resolve(s));if(!l)return-1;if(r=="right")return l.pos;const a=Ke.get(l.node(-1)),c=l.start(-1),d=a.map.indexOf(l.pos-c);return d%a.width==0?-1:c+a.map[d-1]}function Mh(t,e,r){const n=e.clientX-t.startX;return Math.max(r,t.startWidth+n)}function lx(t,e){t.dispatch(t.state.tr.setMeta(rr,{setHandle:e}))}function XH(t,e,r){const n=t.state.doc.resolve(e),o=n.node(-1),i=Ke.get(o),s=n.start(-1),l=i.colCount(n.pos-s)+n.nodeAfter.attrs.colspan-1,a=t.state.tr;for(let c=0;c<i.height;c++){const d=c*i.width+l;if(c&&i.map[d]==i.map[d-i.width])continue;const u=i.map[d],f=o.nodeAt(u).attrs,h=f.colspan==1?0:l-i.colCount(u);if(f.colwidth&&f.colwidth[h]==r)continue;const p=f.colwidth?f.colwidth.slice():QH(f.colspan);p[h]=r,a.setNodeMarkup(s+u,null,{...f,colwidth:p})}a.docChanged&&t.dispatch(a)}function YH(t,e,r,n){const o=t.state.doc.resolve(e),i=o.node(-1),s=o.start(-1),l=Ke.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1;let a=t.domAtPos(o.start(-1)).node;for(;a&&a.nodeName!="TABLE";)a=a.parentNode;a&&cd(i,a.firstChild,a,n,l,r)}function QH(t){return Array(t).fill(0)}function ZH(t,e){const r=[],n=t.doc.resolve(e),o=n.node(-1);if(!o)return Ve.empty;const i=Ke.get(o),s=n.start(-1),l=i.colCount(n.pos-s)+n.nodeAfter.attrs.colspan;for(let a=0;a<i.height;a++){const c=l+a*i.width-1;if((l==i.width||i.map[c]!=i.map[c+1])&&(a==0||i.map[c]!=i.map[c-i.width])){const d=i.map[c],u=s+d+o.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",r.push(_t.widget(u,f))}}return Ve.create(t.doc,r)}function $r(t){const e=t.selection,r=ya(t),n=r.node(-1),o=r.start(-1),i=Ke.get(n);return{...e instanceof $e?i.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):i.findCell(r.pos-o),tableStart:o,map:i,table:n}}function ax(t,{map:e,tableStart:r,table:n},o){let i=o>0?-1:0;MH(e,n,o+i)&&(i=o==0||o==e.width?null:0);for(let s=0;s<e.height;s++){const l=s*e.width+o;if(o>0&&o<e.width&&e.map[l-1]==e.map[l]){const a=e.map[l],c=n.nodeAt(a);t.setNodeMarkup(t.mapping.map(r+a),null,rx(c.attrs,o-e.colCount(a))),s+=c.attrs.rowspan-1}else{const a=i==null?Tt(n.type.schema).cell:n.nodeAt(e.map[l+i]).type,c=e.positionAt(s,o,n);t.insert(t.mapping.map(r+c),a.createAndFill())}}return t}function eL(t,e){if(!xr(t))return!1;if(e){const r=$r(t);e(ax(t.tr,r,r.left))}return!0}function tL(t,e){if(!xr(t))return!1;if(e){const r=$r(t);e(ax(t.tr,r,r.right))}return!0}function rL(t,{map:e,table:r,tableStart:n},o){const i=t.mapping.maps.length;for(let s=0;s<e.height;){const l=s*e.width+o,a=e.map[l],c=r.nodeAt(a),d=c.attrs;if(o>0&&e.map[l-1]==a||o<e.width-1&&e.map[l+1]==a)t.setNodeMarkup(t.mapping.slice(i).map(n+a),null,co(d,o-e.colCount(a)));else{const u=t.mapping.slice(i).map(n+a);t.delete(u,u+c.nodeSize)}s+=d.rowspan}}function nL(t,e){if(!xr(t))return!1;if(e){const r=$r(t),n=t.tr;if(r.left==0&&r.right==r.map.width)return!1;for(let o=r.right-1;rL(n,r,o),o!=r.left;o--){const i=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc;if(!i)throw RangeError("No table found");r.table=i,r.map=Ke.get(i)}e(n)}return!0}function oL(t,e,r){var n;const o=Tt(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((n=e.nodeAt(t.map[i+r*t.width]))==null?void 0:n.type)!=o)return!1;return!0}function cx(t,{map:e,tableStart:r,table:n},o){var i;let s=r;for(let c=0;c<o;c++)s+=n.child(c).nodeSize;const l=[];let a=o>0?-1:0;oL(e,n,o+a)&&(a=o==0||o==e.height?null:0);for(let c=0,d=e.width*o;c<e.width;c++,d++)if(o>0&&o<e.height&&e.map[d]==e.map[d-e.width]){const u=e.map[d],f=n.nodeAt(u).attrs;t.setNodeMarkup(r+u,null,{...f,rowspan:f.rowspan+1}),c+=f.colspan-1}else{const u=a==null?Tt(n.type.schema).cell:(i=n.nodeAt(e.map[d+a*e.width]))==null?void 0:i.type,f=u==null?void 0:u.createAndFill();f&&l.push(f)}return t.insert(s,Tt(n.type.schema).row.create(null,l)),t}function iL(t,e){if(!xr(t))return!1;if(e){const r=$r(t);e(cx(t.tr,r,r.top))}return!0}function sL(t,e){if(!xr(t))return!1;if(e){const r=$r(t);e(cx(t.tr,r,r.bottom))}return!0}function lL(t,{map:e,table:r,tableStart:n},o){let i=0;for(let c=0;c<o;c++)i+=r.child(c).nodeSize;const s=i+r.child(o).nodeSize,l=t.mapping.maps.length;t.delete(i+n,s+n);const a=new Set;for(let c=0,d=o*e.width;c<e.width;c++,d++){const u=e.map[d];if(!a.has(u)){if(a.add(u),o>0&&u==e.map[d-e.width]){const f=r.nodeAt(u).attrs;t.setNodeMarkup(t.mapping.slice(l).map(u+n),null,{...f,rowspan:f.rowspan-1}),c+=f.colspan-1}else if(o<e.height&&u==e.map[d+e.width]){const f=r.nodeAt(u),h=f.attrs,p=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),m=e.positionAt(o+1,c,r);t.insert(t.mapping.slice(l).map(n+m),p),c+=h.colspan-1}}}}function aL(t,e){if(!xr(t))return!1;if(e){const r=$r(t),n=t.tr;if(r.top==0&&r.bottom==r.map.height)return!1;for(let o=r.bottom-1;lL(n,r,o),o!=r.top;o--){const i=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc;if(!i)throw RangeError("No table found");r.table=i,r.map=Ke.get(r.table)}e(n)}return!0}function Ah(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function cL({width:t,height:e,map:r},n){let o=n.top*t+n.left,i=o,s=(n.bottom-1)*t+n.left,l=o+(n.right-n.left-1);for(let a=n.top;a<n.bottom;a++){if(n.left>0&&r[i]==r[i-1]||n.right<t&&r[l]==r[l+1])return!0;i+=t,l+=t}for(let a=n.left;a<n.right;a++){if(n.top>0&&r[o]==r[o-t]||n.bottom<e&&r[s]==r[s+t])return!0;o++,s++}return!1}function Oh(t,e){const r=t.selection;if(!(r instanceof $e)||r.$anchorCell.pos==r.$headCell.pos)return!1;const n=$r(t),{map:o}=n;if(cL(o,n))return!1;if(e){const i=t.tr,s={};let l=z.empty,a,c;for(let d=n.top;d<n.bottom;d++)for(let u=n.left;u<n.right;u++){const f=o.map[d*o.width+u],h=n.table.nodeAt(f);if(!(s[f]||!h))if(s[f]=!0,a==null)a=f,c=h;else{Ah(h)||(l=l.append(h.content));const p=i.mapping.map(f+n.tableStart);i.delete(p,p+h.nodeSize)}}if(a==null||c==null)return!0;if(i.setNodeMarkup(a+n.tableStart,null,{...rx(c.attrs,c.attrs.colspan,n.right-n.left-c.attrs.colspan),rowspan:n.bottom-n.top}),l.size){const d=a+1+c.content.size,u=Ah(c)?a+1:d;i.replaceWith(u+n.tableStart,d+n.tableStart,l)}i.setSelection(new $e(i.doc.resolve(a+n.tableStart))),e(i)}return!0}function Eh(t,e){const r=Tt(t.schema);return dL(({node:n})=>r[n.type.spec.tableRole])(t,e)}function dL(t){return(e,r)=>{var n;const o=e.selection;let i,s;if(o instanceof $e){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;i=o.$anchorCell.nodeAfter,s=o.$anchorCell.pos}else{if(i=wH(o.$from),!i)return!1;s=(n=oi(o.$from))==null?void 0:n.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(r){let l=i.attrs;const a=[],c=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=$r(e),u=e.tr;for(let h=0;h<d.right-d.left;h++)a.push(c?{...l,colwidth:c&&c[h]?[c[h]]:null}:l);let f;for(let h=d.top;h<d.bottom;h++){let p=d.map.positionAt(h,d.left,d.table);h==d.top&&(p+=i.nodeSize);for(let m=d.left,g=0;m<d.right;m++,g++)m==d.left&&h==d.top||u.insert(f=u.mapping.map(p+d.tableStart,1),t({node:i,row:h,col:m}).createAndFill(a[g]))}u.setNodeMarkup(s,t({node:i,row:d.top,col:d.left}),a[0]),o instanceof $e&&u.setSelection(new $e(u.doc.resolve(o.$anchorCell.pos),f?u.doc.resolve(f):void 0)),r(u)}return!0}}function uL(t,e){return function(r,n){if(!xr(r))return!1;const o=ya(r);if(o.nodeAfter.attrs[t]===e)return!1;if(n){const i=r.tr;r.selection instanceof $e?r.selection.forEachCell((s,l)=>{s.attrs[t]!==e&&i.setNodeMarkup(l,null,{...s.attrs,[t]:e})}):i.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[t]:e}),n(i)}return!0}}function fL(t){return function(e,r){if(!xr(e))return!1;if(r){const n=Tt(e.schema),o=$r(e),i=e.tr,s=o.map.cellsInRect(t=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:t=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),l=s.map(a=>o.table.nodeAt(a));for(let a=0;a<s.length;a++)l[a].type==n.header_cell&&i.setNodeMarkup(o.tableStart+s[a],n.cell,l[a].attrs);if(i.steps.length==0)for(let a=0;a<s.length;a++)i.setNodeMarkup(o.tableStart+s[a],n.header_cell,l[a].attrs);r(i)}return!0}}function Ph(t,e,r){const n=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let o=0;o<n.length;o++){const i=e.table.nodeAt(n[o]);if(i&&i.type!==r.header_cell)return!1}return!0}function ls(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?fL(t):function(r,n){if(!xr(r))return!1;if(n){const o=Tt(r.schema),i=$r(r),s=r.tr,l=Ph("row",i,o),a=Ph("column",i,o),d=(t==="column"?l:t==="row"?a:!1)?1:0,u=t=="column"?{left:0,top:d,right:1,bottom:i.map.height}:t=="row"?{left:d,top:0,right:i.map.width,bottom:1}:i,f=t=="column"?a?o.cell:o.header_cell:t=="row"?l?o.cell:o.header_cell:o.cell;i.map.cellsInRect(u).forEach(h=>{const p=h+i.tableStart,m=s.doc.nodeAt(p);m&&s.setNodeMarkup(p,f,m.attrs)}),n(s)}return!0}}ls("row",{useDeprecatedLogic:!0});ls("column",{useDeprecatedLogic:!0});var pL=ls("cell",{useDeprecatedLogic:!0});function hL(t,e){if(e<0){const r=t.nodeBefore;if(r)return t.pos-r.nodeSize;for(let n=t.index(-1)-1,o=t.before();n>=0;n--){const i=t.node(-1).child(n),s=i.lastChild;if(s)return o-1-s.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const r=t.node(-1);for(let n=t.indexAfter(-1),o=t.after();n<r.childCount;n++){const i=r.child(n);if(i.childCount)return o+1;o+=i.nodeSize}}return null}function Dh(t){return function(e,r){if(!xr(e))return!1;const n=hL(ya(e),t);if(n==null)return!1;if(r){const o=e.doc.resolve(n);r(e.tr.setSelection(ae.between(o,kH(o))).scrollIntoView())}return!0}}function mL(t,e){const r=t.selection.$anchor;for(let n=r.depth;n>0;n--)if(r.node(n).type.spec.tableRole=="table")return e&&e(t.tr.delete(r.before(n),r.after(n)).scrollIntoView()),!0;return!1}function gL({allowTableNodeSelection:t=!1}={}){return new Mt({key:dn,state:{init(){return null},apply(e,r){const n=e.getMeta(dn);if(n!=null)return n==-1?null:n;if(r==null||!e.docChanged)return r;const{deleted:o,pos:i}=e.mapping.mapResult(r);return o?null:i}},props:{decorations:OH,handleDOMEvents:{mousedown:FH},createSelectionBetween(e){return dn.getState(e.state)!=null?e.state.selection:null},handleTripleClick:LH,handleKeyDown:HH,handlePaste:_H},appendTransaction(e,r,n){return DH(n,ix(n,r),t)}})}function Rh(t,e,r,n,o,i){let s=0,l=!0,a=e.firstChild;const c=t.firstChild;for(let d=0,u=0;d<c.childCount;d+=1){const{colspan:f,colwidth:h}=c.child(d).attrs;for(let p=0;p<f;p+=1,u+=1){const m=o===u?i:h&&h[p],g=m?`${m}px`:"";s+=m||n,m||(l=!1),a?(a.style.width!==g&&(a.style.width=g),a=a.nextSibling):e.appendChild(document.createElement("col")).style.width=g}}for(;a;){const d=a.nextSibling;a.parentNode.removeChild(a),a=d}l?(r.style.width=`${s}px`,r.style.minWidth=""):(r.style.width="",r.style.minWidth=`${s}px`)}class bL{constructor(e,r){this.node=e,this.cellMinWidth=r,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Rh(e,this.colgroup,this.table,r),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Rh(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function xL(t,e,r,n){let o=0,i=!0;const s=[],l=t.firstChild;if(!l)return{};for(let u=0,f=0;u<l.childCount;u+=1){const{colspan:h,colwidth:p}=l.child(u).attrs;for(let m=0;m<h;m+=1,f+=1){const g=r===f?n:p&&p[m],x=g?`${g}px`:"";o+=g||e,g||(i=!1),s.push(["col",x?{style:`width: ${x}`}:{}])}}const a=i?`${o}px`:"",c=i?"":`${o}px`;return{colgroup:["colgroup",{},...s],tableWidth:a,tableMinWidth:c}}function Ih(t,e){return e?t.createChecked(null,e):t.createAndFill()}function yL(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(r=>{const n=t.nodes[r];n.spec.tableRole&&(e[n.spec.tableRole]=n)}),t.cached.tableNodeTypes=e,e}function vL(t,e,r,n,o){const i=yL(t),s=[],l=[];for(let c=0;c<r;c+=1){const d=Ih(i.cell,o);if(d&&l.push(d),n){const u=Ih(i.header_cell,o);u&&s.push(u)}}const a=[];for(let c=0;c<e;c+=1)a.push(i.row.createChecked(null,n&&c===0?s:l));return i.table.createChecked(null,a)}function CL(t){return t instanceof $e}const Ks=({editor:t})=>{const{selection:e}=t.state;if(!CL(e))return!1;let r=0;const n=E0(e.ranges[0].$from,i=>i.type.name==="table");return n==null||n.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(r+=1)}),r===e.ranges.length?(t.commands.deleteTable(),!0):!1},SL=Ye.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:bL,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:r,tableWidth:n,tableMinWidth:o}=xL(t,this.options.cellMinWidth);return["table",Le(this.options.HTMLAttributes,e,{style:n?`width: ${n}`:`minWidth: ${o}`}),r,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:r=!0}={})=>({tr:n,dispatch:o,editor:i})=>{const s=vL(i.schema,t,e,r);if(o){const l=n.selection.anchor+1;n.replaceSelectionWith(s).scrollIntoView().setSelection(ae.near(n.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>eL(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>tL(t,e),deleteColumn:()=>({state:t,dispatch:e})=>nL(t,e),addRowBefore:()=>({state:t,dispatch:e})=>iL(t,e),addRowAfter:()=>({state:t,dispatch:e})=>sL(t,e),deleteRow:()=>({state:t,dispatch:e})=>aL(t,e),deleteTable:()=>({state:t,dispatch:e})=>mL(t,e),mergeCells:()=>({state:t,dispatch:e})=>Oh(t,e),splitCell:()=>({state:t,dispatch:e})=>Eh(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>ls("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>ls("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>pL(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>Oh(t,e)?!0:Eh(t,e),setCellAttribute:(t,e)=>({state:r,dispatch:n})=>uL(t,e)(r,n),goToNextCell:()=>({state:t,dispatch:e})=>Dh(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>Dh(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&ix(t),!0),setCellSelection:t=>({tr:e,dispatch:r})=>{if(r){const n=$e.create(e.doc,t.anchorCell,t.headCell);e.setSelection(n)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Ks,"Mod-Backspace":Ks,Delete:Ks,"Mod-Delete":Ks}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[jH({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],gL({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:ye(Z(t,"tableRole",e))}}}),wL=Ye.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Le(this.options.HTMLAttributes,t),0]}}),TL=Ye.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Le(this.options.HTMLAttributes,t),0]}}),kL=Ye.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Le(this.options.HTMLAttributes,t),0]}}),ML=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,AL=Ye.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Le(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[D0({find:ML,type:this.type,getAttributes:t=>{const[,,e,r,n]=t;return{src:r,alt:e,title:n}}})]}}),OL={class:"editor-container"},EL=je("br",null,null,-1),PL=je("strong",null,"B",-1),DL=[PL],RL=je("i",null,"i",-1),IL=[RL],$L=je("s",null,"S",-1),NL=[$L],zL=je("u",null,"u",-1),BL=[zL],HL=je("br",null,null,-1),LL={class:"word-count"},_L={__name:"Tiptap",setup(t){let e=xH;const r=new Wz({content:e,extensions:[mH,VB,jB.configure({heading:{levels:[1,2,3]}}),pH.configure({openDoubleQuote:!1,closeDoubleQuote:!1,openSingleQuote:!1,closeSingleQuote:!1}),hH.configure({types:["heading","paragraph","blockquote"]}),SL.configure({resizable:!0}),kL,TL,wL,AL.configure({allowBase64:!0})]});return(n,o)=>(Un(),$m("div",OL,[we(r)?(Un(),ji(we(Fz),{key:0,editor:we(r),"tippy-options":{duration:100}},{default:sl(()=>[je("button",{onClick:o[0]||(o[0]=i=>we(r).chain().focus().setTextAlign("left").run()),class:Et({"is-active":we(r).isActive({textAlign:"left"})})}," left ",2),je("button",{onClick:o[1]||(o[1]=i=>we(r).chain().focus().setTextAlign("center").run()),class:Et({"is-active":we(r).isActive({textAlign:"center"})})}," center ",2),je("button",{onClick:o[2]||(o[2]=i=>we(r).chain().focus().setTextAlign("right").run()),class:Et({"is-active":we(r).isActive({textAlign:"right"})})}," right ",2),je("button",{onClick:o[3]||(o[3]=i=>we(r).chain().focus().setTextAlign("justify").run()),class:Et({"is-active":we(r).isActive({textAlign:"justify"})})}," justify ",2),EL,je("button",{onClick:o[4]||(o[4]=i=>we(r).chain().focus().toggleBold().run()),class:Et({"is-active":we(r).isActive("bold")})},DL,2),je("button",{onClick:o[5]||(o[5]=i=>we(r).chain().focus().toggleItalic().run()),class:Et({"is-active":we(r).isActive("italic")})},IL,2),je("button",{onClick:o[6]||(o[6]=i=>we(r).chain().focus().toggleStrike().run()),class:Et({"is-active":we(r).isActive("strike")})},NL,2),je("button",{onClick:o[7]||(o[7]=i=>we(r).chain().focus().toggleUnderline().run()),class:Et({"is-active":we(r).isActive("underline")})},BL,2),je("button",{onClick:o[8]||(o[8]=i=>we(r).chain().focus().toggleHeading({level:2}).run()),class:Et({"is-active":we(r).isActive("heading",{level:2})})}," H2 ",2),je("button",{onClick:o[9]||(o[9]=i=>we(r).chain().focus().toggleHeading({level:3}).run()),class:Et({"is-active":we(r).isActive("heading",{level:3})})}," H3 ",2),HL,je("button",{onClick:o[10]||(o[10]=i=>we(r).chain().focus().toggleBulletList().run()),class:Et({"is-active":we(r).isActive("bulletList")})}," bullet ",2),je("button",{onClick:o[11]||(o[11]=i=>we(r).chain().focus().toggleOrderedList().run()),class:Et({"is-active":we(r).isActive("orderedList")})}," ordered ",2)]),_:1},8,["editor"])):lv("",!0),pt(we(jz),{editor:we(r),class:"editor"},null,8,["editor"]),je("div",LL,Wh(we(r).storage.characterCount.words()),1)]))}},FL={class:""},WL={__name:"App",setup(t){const e=Ie([!0]);function r(){e.value.push(!0)}return(n,o)=>{const i=gy("n-config-provider");return Un(),ji(i,{theme:we(hP)},{default:sl(()=>[je("div",FL,[(Un(!0),$m(ct,null,Ay(e.value,s=>(Un(),ji(_L,{key:s,class:"tt"}))),128)),pt(we(SM),{onClick:r,secondary:"",style:{"margin-top":"10px"}},{default:sl(()=>[qi(" Add Editor ")]),_:1})])]),_:1},8,["theme"])}}},jL=aP({components:[sP,rP,XM]});Gv(WL).use(jL).mount("#app")});export default VL();
